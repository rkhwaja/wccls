function bind_multi_autocomplete(t){t.bind("keydown",function(t){t.keyCode===$.ui.keyCode.TAB&&$(this).data("autocomplete").menu.active&&t.preventDefault()}).autocomplete({source:function(e,n){$.ajax({url:"/item/autocomplete_tags/"+t.attr("param"),data:{type:t.attr("name"),string:last_term(t.val())},success:function(t){n($.map(t,function(t){return{label:t.name,value:t.id}}))}})},create:function(){},focus:function(){return!1},minLength:2,select:function(t,e){var n=split(this.value);return n.pop(),n.push(e.item.value),n.push(""),this.value=n.join(", "),!1}}),t.unbind("autocompleteclose")}function camelize(t){return t.replace(/(?:^|[-_])(\w)/g,function(t,e){return e?e.toUpperCase():""})}function close_popover_on_outer_click(t){var e=Math.floor(1e6*Math.random());t.on("shown.bs.popover",function(){$(document).on("click.close_popover_on_outer_click"+e,function(e){var n=$(e.target);n&&0===n.parents(".popover").length&&t.popover("destroy")})}),t.on("hide.bs.popover",function(){$(document).off("click.close_popover_on_outer_click"+e)})}function is_responsive_page(){return $("body").hasClass("lt_responsive")}function responsive_feature_enabled(t){var e=["holds","checked_out","recently_returned","account_messages"];return navigator.userAgent.toLowerCase().match(/ipad/)&&-1!==e.indexOf(t)?!0:bc_feature["Responsive"+camelize(t)]||BC_USER_ID>0&&"true"===$.cookie("opt_in_feature_"+t)}function digital_modal_callback(){function t(t,e){$(".digital_formats").on("click",t,function(){$(e).find(t).removeClass("selected"),$(this).addClass("selected"),$(this).find("input[type=radio]").prop("checked",!0);var n=$(this).parents(bc_datajs_selector("digital_download_no_format"));n.length>0&&n.submit()})}validate_jacket_image($.datajs("modal_bib_image").find("img"));var e={errorPlacement:function(t,e){t.insertAfter("digital_format"==e.attr("name")?".js_format_of_columns":"digital_duration"==e.attr("name")?".digital_durations":e)}};$("#digital_hold_form").validate(e),$("#digital_checkout_form").validate(e),t(bc_datajs_selector("selected_format_hook"),".js_format_of_columns"),t(bc_datajs_selector("selected_duration_hook"),".digital_durations"),$(".digital_formats").on("click",bc_datajs_selector("selected_format_hook"),function(){$(".digital_durations").find("li").addClass("disabled"),$(".digital_durations").find("li").removeClass("selected"),$(".digital_durations").find("input.duration").attr("disabled","disabled"),$(".digital_durations").find("input:checked").attr("checked",!1);var t=$(this).find(".js_format_hook").attr("value").toLowerCase(),e=$(".digital_durations").find("."+t+"_format");e.removeClass("disabled"),e.find("input").removeAttr("disabled")})}function carousel_filter(t,e,n,i,r){e.on("change",function(){var o=e.closest("form"),a=o.find("select, input#f_on_order").not('select[value*="any"]').serialize(),s=o.find('input[name="bib"]').attr("value");$.cookie("back_to",baseURL()+document.location.pathname+"?view=VIEWCOVERS&bib="+s+"&format_html=true",{path:"/"}),e.attr("disabled","disabled"),$.getJSON(baseURL()+"/"+n+"/"+i+"?view=VIEWCOVERS&bib="+s+"&"+a,function(n){e.removeAttr("disabled");try{t.html(n.html),BCSlider.carouselImageCheck(null,t)}catch(i){r.destroySlider()}-1===n.html.indexOf("no_items")?r.reloadSlider():r.destroySlider()})})}function get_holds_button_url(t){var e=t.attr("href"),n=t.parents(bc_datajs_selector("hold_button_container"));if(n.length){var i=t[0].search?$.deparam.querystring(e):{};i.hold_button_bundle=n.data("bundle"),e=e.split("?")[0]+"?"+$.param(i)}return e}function activate_main_nav(){var t=window.location.pathname+window.location.search;$("#mainNav").find("a[href='"+t+"']").parent("a.navLabel").addClass("active")}function digital_modal_form_callback(t){t.drm_requested&&($.modal("show",{content:t.html}),$(".checkout_drm_requested").on("click",function(){$(this).hide(),Messages.clear(),$("#drm_requested").find(".drm_attempted").show()}),$(".checkout_drm_done").on("click",function(t){t.preventDefault(),$.modal("hide",{}),Messages.clear()}))}function ajax_holds_callback(t){var e=this,n={forms_callback:function(t){if(t.close_popup)if("function"==typeof load_circulation_widget)load_circulation_widget();else{if(bc_feature.BootstrapPopovers?e.popover("destroy"):$.fn.popout("hide_content"),t.partials){var n=$(e).parents(bc_datajs_selector("hold-item"));if(0===n.length)var n=$(e).parents(".listItem");$.each(t.partials,function(t,e){n.find("."+t).replaceWith(e)})}$.datajs("missing_format_download").bc_inline_overlay({send_forms:!0,callback:digital_modal_callback,forms_callback:digital_modal_form_callback})}},modal_dialog:function(){t.overlay?e.overlay({remote:t.source_url,open_on_init:!0}):is_responsive_page()&&$(e).parents(".listItem").length>0?e.bc_inline_overlay({source_url:t.source_url,send_forms:!0,forms_callback:n.forms_callback,inline_messaging:!0,open_on_init:!0}):$.modal("show",{source_url:t.source_url,send_forms:!0,forms_callback:n.forms_callback})},setup:function(){t.source_url?n.modal_dialog():n.forms_callback(t)}};n.setup()}function $defined(t){return void 0!=t}function hijack_modal_inits(){$("#hijack-modal, #hijack-modal-close").on("click",function(t){t.stopPropagation(),setTimeout(function(){$("#globalSpinner").removeClass("activeSpinner")},300),$("#hijack-modal").remove()})}function init_personal_info_page(){$.datajs("a","user_info_show").on("click",function(t){t.preventDefault();var e=$(this).closest($.datajs("user_account")).attr("id");$(this).hide(),$("#"+e).datajs("user_info_hide").show(),$("#"+e).datajs("info_toggle").slideDown()}),$.datajs("a","user_info_hide").on("click",function(t){t.preventDefault();var e=$(this).closest($.datajs("user_account")).attr("id");$(this).hide(),$("#"+e).datajs("user_info_show").show(),$("#"+e).datajs("info_toggle").slideUp()})}function load_availability_placeholder(){$.datajs("availability_placeholder").each(function(){var t=$(this);$.ajax({url:"/item/availability_info/",data:{id:t.data("bib-id")},show_spinner:!1,dataType:"json"}).then(function(e){t.replaceWith(e.html)})})}function modal_or_inline_overlay(t,e){var n=e.live_selector,i=is_responsive_page()&&(t.is(".listItem")||t.parents(".listItem").length>0);if(!i)return n?t.live_modal(n,e):t.modal(e);if(!n)return t.bc_inline_overlay(e);t.on("contentchange",e.live_modal,function(){$(this).bc_inline_overlay(e)});var r=t.find(n);return r.length>0?t.find(n).bc_inline_overlay(e):void 0}function tidyTitles(t){var e=t.split(" - "),n="<a href='javascript:void(0)' class='pull-right' data-js='close_button'><i class='icon-cancel'></i></a>";return e.length>1?(template=n+"<div style='width:250px;'><h3>__TITLE__</h3> __TEXT__</div>",template.replace("__TITLE__",e[0]).replace("__TEXT__",e[1])):(template=n+"<div style='width:200px;'>__TEXT__</div>",template.replace("__TEXT__",e[0]))}function obj_size(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}function validUsername(t){var e=new RegExp(/[a-zA-Z0-9\_]*/),n=new RegExp(/^\d+$/);return!n.test(t)&&e.test(t)}function init_video_embed(){var t=function(t){var e=/(http:\/\/www\.schooltube\.com\/embed_force\/[a-f|0-9]*)/,n=/(http:\/\/www\.teachertube\.com\/embed\.[a-z]*\?(pg|video_id)=[0-9|a-z|A-Z|\-|\_]*)/,i=/(\/\/www\.youtube\.com\/(v|embed)\/[0-9|a-z|A-Z|\-|\_]*)|(http:\/\/www\.youtube\.com\/watch\?v\=[0-9|a-z|A-Z|\-|\_]*)/;return i.test(t)?t=t.match(i)[0]:e.test(t)?t=t.match(e)[0]:n.test(t)&&(t=t.match(n)[0]),t};$(".popout-box").on("change",".video_embed_code",function(){embed_code=$(this),embed_code.val()&&embed_code.val(t.call(null,embed_code.val()))})}function trigger_j_callback(t,e,n){var i=$("#"+t);i.length>0&&($.removeCookie("j_callback",{path:"/"}),null!=n&&$.getJSON("/messages/create_message",{message:n}),e&&(window.location.href="#"+$("#"+t).attr("id")),is_responsive_page()&&$("html, body").animate({scrollTop:i.offset().top-window.innerHeight/2}),i.trigger("click"))}function get_largest(t,e){var n={key:null,val:null};for(var i in t)t[i]>n.val&&(n.key=i,n.val=t[i]);return e?n.val>=e?n:null:n}function fake_stringify(t){var e="";return $.each(t,function(t,n){e=e+""+t+"="+n+","}),e}function fake_parse(t){var e=t.split(","),n={};return $.each(e,function(t,e){if(e.length>0){var i=e.split("=");n[i[0]]=parseInt(i[1])}}),n}function tabs(){var t=$(this).attr("param"),e=$("#"+$(this).parent("div").attr("id").replace("viewSelector_",""));$(this).addClass("active").siblings().removeClass("active"),e.find('.tab[param="'+t+'"]').show().siblings().hide()}function baseURL(){var t=location.href,e=t.substring(0,t.indexOf("/",14));return e}function swap_action(t,e){var n=parseUri(t);return t=n.path||t,t=t.split("/"),swap_index=0==$.trim(t[0]).length?2:1,t[swap_index]=e,t=t.join("/")}function get_string(t){return BCLang[t]?$.trim(BCLang[t]):""}function parseUri(t){var e=t.match(/^(?:([^:\/?#.]+):)?(?:\/\/)?(([^:\/?#]*)(?::(\d*))?)((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[\?#]|$)))*\/?)?([^?#\/]*))?(?:\?([^#]*))?(?:#(.*))?/);return e?e.associate(["uri","scheme","authority","domain","port","path","directory","file","query","fragment"]):null}function custom_ils_error_popup(t){$.modal("show",{content:t,fixed_width:"500px",hide_overflow:!0})}function init_filters_expanders(){$(".popup_more").on("click",function(t){function e(t){if(is_responsive_page())n.overlay({content:t,css_effect:"instant",open_callback:function(){this.$container.find(".filterList").filterList(),$.datajs("pretty-checkbox").cp_pretty_checkbox(),$.datajs("drawer-trigger").cp_drawer("hide")}}),n.overlay("open");else{var e=$("#popout-box-content").html().replace(/(<([^>]+)>)/gi,""),r=bc_request_ajax_cache[i].replace(/(<([^>]+)>)/gi,"");(e!=r||0==$("#popout-box-content").is(":visible"))&&(n.popout({content:bc_request_ajax_cache[i],offset:n.outerWidth(!1)+13}),$(".filterList").filterList())}}t.preventDefault();var n=$(this),i=(n.parents(".filterList"),n.attr("href")),r=bc_request_ajax_cache[i];"string"!=typeof r?$.ajax({url:i,dataType:"json",success:function(t){var n=t.html.replace(/\n/g,"").replace(/\s/g," ").replace(/  ,/g," ");bc_request_ajax_cache[i]=n,e(n)}}):e(r)})}function is_mobile_device(){return/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent)}function page_id(t){return t||(t=window.location.pathname),path_parts=t.split("/"),path_parts.length>=4?path_parts[3]:""}function page_action(t){return t||(t=window.location.pathname),path_parts=t.split("/"),path_parts.length>=2?path_parts[2]:""}function last_term(t){var e=t.split(/,\s*/);return e[e.length-1]}function split(t){return t.split(/,\s*/)}function frbr_match(t,e){e instanceof Array||(e=Array.prototype.slice.call(arguments,1)),$.getJSON("/bib/match/"+t).done(function(n){bc_request_ajax_cache.frbr_match=[t,n],$.each(e,function(e,i){i(t,n)})})}function elementIsVisible(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function init_line_clamps(){$.datajs("line-clamp").each(function(){var t=$(this);if(""!==t.text().trim()){var e=parseInt(t.css("line-height")),n=parseInt(t.css("font-size")),i=parseInt(t.css("font-weight"));t.css("height",""),t.position().top+t.height()>t.parent().height()&&t.height(t.parent().height()-t.position().top);var r=t.data("truncation-text")||"...",o=t.width()/n,a=t.height()/e,s=Math.ceil(a)*e,l=e/n;i>500&&(l*=550/i);var c=Math.floor(a*o*l),u=t.data("text")||t.text().trim();t.data("text")||t.data("text",u);var h=u.substring(0,c).lastIndexOf(" "),d=u.substring(0,h>=0?h:c);t.height(s),t.text(d),u.length!==d.length&&t.append("<span>"+r+"</span>")}})}function auth_modal_close(){"undefined"!=typeof localStorage&&localStorage.removeItem("ecom_stored_product")}function get_bib_title(){if("undefined"!=typeof $){var t=$(".titleBlock > h1").text()||document.title.split("|")[0];return $.trim(t)}return document.title.split("|")[0]}function crossDomainAjax(t,e){var n=new jQuery.Deferred;if("XDomainRequest"in window&&null!==window.XDomainRequest){var i=new XDomainRequest;return i.open("get",t),i.onload=function(){var t=new ActiveXObject("Microsoft.XMLDOM"),r=$.parseJSON(i.responseText);t.async=!1,n.resolve(r),"function"==typeof e&&e(r)},i.onprogress=function(){},i.ontimeout=function(){},i.onerror=function(){n.reject(arguments)},setTimeout(function(){i.send()},0),n.promise()}return send_json_request(t,e)}function send_json_request(t,e){return $.getJSON(t,function(t){"function"==typeof e&&e(t)})}function debounce(t,e,n){var i;return function(){var r=this,o=arguments;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),n&&!i&&t.apply(r,o)}}function init_single_click_action_overlays(){$.datajs("single-click-list-action").off(".single-click-list-action").on("ajax:success.single-click-list-action",function(t,e){var n=$(this),i=$('<div class="col-xs-12"></div>').html(e.messages);n.parents(".listItem").prepend(i),setTimeout(window.location.reload.bind(window.location,!0),2e3)})}function debounce(t,e,n){var i;return function(){var r=this,o=arguments;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),n&&!i&&t.apply(r,o)}}function push_gtm_events(t){window.dataLayer&&t.events&&t.events.length&&t.events.forEach(function(t){for(var e=["gtmCategory","gtmAction","gtmLabel","gtmValue"],n=0;n<e.length;n++)t.payload.hasOwnProperty(e[n])||(t.payload[e[n]]=void 0);window.dataLayer.push({event:t.event,payload:t.payload})})}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _objectWithoutProperties(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function UserListJacketCoverContainer(t){var e=t.listType,n=t.jacketCoverSrc,i=t.anchorBibJacketCover,r=t.localizations;return React.createElement(IntlWrapper["default"],{messages:r},React.createElement(UserListModule.ListJacketCover,{listType:e,src:n,anchorBibJacketCover:Immutable.fromJS(i)}))}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t){(function(e){"use strict";function n(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(t(295),t(296),t(2),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var i="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,295:295,296:296}],2:[function(t,e){t(119),e.exports=t(23).RegExp.escape},{119:119,23:23}],3:[function(t,e){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],4:[function(t,e){var n=t(18);e.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},{18:18}],5:[function(t,e){var n=t(117)("unscopables"),i=Array.prototype;void 0==i[n]&&t(40)(i,n,{}),e.exports=function(t){i[n][t]=!0}},{117:117,40:40}],6:[function(t,e){e.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},{}],7:[function(t,e){var n=t(49);e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{49:49}],8:[function(t,e){"use strict";var n=t(109),i=t(105),r=t(108);e.exports=[].copyWithin||function(t,e){var o=n(this),a=r(o.length),s=i(t,a),l=i(e,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:i(c,a))-l,a-s),h=1;for(s>l&&l+u>s&&(h=-1,l+=u-1,s+=u-1);u-->0;)l in o?o[s]=o[l]:delete o[s],s+=h,l+=h;return o}},{105:105,108:108,109:109}],9:[function(t,e){"use strict";var n=t(109),i=t(105),r=t(108);e.exports=function(t){for(var e=n(this),o=r(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,c=void 0===l?o:i(l,o);c>s;)e[s++]=t;return e}},{105:105,108:108,109:109}],10:[function(t,e){var n=t(37);e.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},{37:37}],11:[function(t,e){var n=t(107),i=t(108),r=t(105);e.exports=function(t){return function(e,o,a){var s,l=n(e),c=i(l.length),u=r(a,c);if(t&&o!=o){for(;c>u;)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===o)return t||u||0;return!t&&-1}}},{105:105,107:107,108:108}],12:[function(t,e){var n=t(25),i=t(45),r=t(109),o=t(108),a=t(15);e.exports=function(t,e){var s=1==t,l=2==t,c=3==t,u=4==t,h=6==t,d=5==t||h,p=e||a;return function(e,a,f){for(var g,m,v=r(e),_=i(v),b=n(a,f,3),y=o(_.length),w=0,k=s?p(e,y):l?p(e,0):void 0;y>w;w++)if((d||w in _)&&(g=_[w],m=b(g,w,v),t))if(s)k[w]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:k.push(g)}else if(u)return!1;return h?-1:c||u?u:k}}},{108:108,109:109,15:15,25:25,45:45}],13:[function(t,e){var n=t(3),i=t(109),r=t(45),o=t(108);e.exports=function(t,e,a,s,l){n(e);var c=i(t),u=r(c),h=o(c.length),d=l?h-1:0,p=l?-1:1;if(2>a)for(;;){if(d in u){s=u[d],d+=p;break}if(d+=p,l?0>d:d>=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=p)d in u&&(s=e(s,u[d],d,c));return s}},{108:108,109:109,3:3,45:45}],14:[function(t,e){var n=t(49),i=t(47),r=t(117)("species");e.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},{117:117,47:47,49:49}],15:[function(t,e){var n=t(14);e.exports=function(t,e){return new(n(t))(e)}},{14:14}],16:[function(t,e){"use strict";var n=t(3),i=t(49),r=t(44),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var i=[],r=0;e>r;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};e.exports=Function.bind||function(t){var e=n(this),a=o.call(arguments,1),l=function(){var n=a.concat(o.call(arguments));return this instanceof l?s(e,n.length,n):r(e,n,t)};return i(e.prototype)&&(l.prototype=e.prototype),l}},{3:3,44:44,49:49}],17:[function(t,e){var n=t(18),i=t(117)("toStringTag"),r="Arguments"==n(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};e.exports=function(t){var e,a,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=o(e=Object(t),i))?a:r?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},{117:117,18:18}],18:[function(t,e){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],19:[function(t,e){"use strict";var n=t(67).f,i=t(66),r=t(86),o=t(25),a=t(6),s=t(27),l=t(37),c=t(53),u=t(55),h=t(91),d=t(28),p=t(62).fastKey,f=d?"_s":"size",g=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};e.exports={getConstructor:function(t,e,c,u){var h=t(function(t,n){a(t,h,e,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[f]=0,void 0!=n&&l(n,c,t[u],t)});return r(h.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[f]=0},"delete":function(t){var e=this,n=g(e,t);if(n){var i=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==n&&(e._f=i),e._l==n&&(e._l=r),e[f]--}return!!n},forEach:function(t){a(this,h,"forEach");for(var e,n=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!g(this,t)}}),d&&n(h.prototype,"size",{get:function(){return s(this[f])}}),h},def:function(t,e,n){var i,r,o=g(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[f]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?u(0,n.k):"values"==e?u(0,n.v):u(0,[n.k,n.v]):(t._t=void 0,u(1))},n?"entries":"values",!n,!0),h(e)}}},{25:25,27:27,28:28,37:37,53:53,55:55,6:6,62:62,66:66,67:67,86:86,91:91}],20:[function(t,e){var n=t(17),i=t(10);e.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},{10:10,17:17}],21:[function(t,e){"use strict";var n=t(86),i=t(62).getWeak,r=t(7),o=t(49),a=t(6),s=t(37),l=t(12),c=t(39),u=l(5),h=l(6),d=0,p=function(t){return t._l||(t._l=new f)},f=function(){this.a=[]},g=function(t,e){return u(t.a,function(t){return t[0]===e})};f.prototype={get:function(t){var e=g(this,t);return e?e[1]:void 0},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},"delete":function(t){var e=h(this.a,function(e){return e[0]===t
});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(t,e,r,l){var u=t(function(t,n){a(t,u,e,"_i"),t._i=d++,t._l=void 0,void 0!=n&&s(n,r,t[l],t)});return n(u.prototype,{"delete":function(t){if(!o(t))return!1;var e=i(t);return e===!0?p(this)["delete"](t):e&&c(e,this._i)&&delete e[this._i]},has:function(t){if(!o(t))return!1;var e=i(t);return e===!0?p(this).has(t):e&&c(e,this._i)}}),u},def:function(t,e,n){var o=i(r(e),!0);return o===!0?p(t).set(e,n):o[t._i]=n,t},ufstore:p}},{12:12,37:37,39:39,49:49,6:6,62:62,7:7,86:86}],22:[function(t,e){"use strict";var n=t(38),i=t(32),r=t(87),o=t(86),a=t(62),s=t(37),l=t(6),c=t(49),u=t(34),h=t(54),d=t(92),p=t(43);e.exports=function(t,e,f,g,m,v){var _=n[t],b=_,y=m?"set":"add",w=b&&b.prototype,k={},x=function(t){var e=w[t];r(w,t,"delete"==t?function(t){return v&&!c(t)?!1:e.call(this,0===t?0:t)}:"has"==t?function(t){return v&&!c(t)?!1:e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||w.forEach&&!u(function(){(new b).entries().next()}))){var S=new b,C=S[y](v?{}:-0,1)!=S,T=u(function(){S.has(1)}),E=h(function(t){new b(t)}),D=!v&&u(function(){for(var t=new b,e=5;e--;)t[y](e,e);return!t.has(-0)});E||(b=e(function(e,n){l(e,b,t);var i=p(new _,e,b);return void 0!=n&&s(n,m,i[y],i),i}),b.prototype=w,w.constructor=b),(T||D)&&(x("delete"),x("has"),m&&x("get")),(D||C)&&x(y),v&&w.clear&&delete w.clear}else b=g.getConstructor(e,t,m,y),o(b.prototype,f),a.NEED=!0;return d(b,t),k[t]=b,i(i.G+i.W+i.F*(b!=_),k),v||g.setStrong(b,t,m),b}},{32:32,34:34,37:37,38:38,43:43,49:49,54:54,6:6,62:62,86:86,87:87,92:92}],23:[function(t,e){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],24:[function(t,e){"use strict";var n=t(67),i=t(85);e.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},{67:67,85:85}],25:[function(t,e){var n=t(3);e.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},{3:3}],26:[function(t,e){"use strict";var n=t(7),i=t(110),r="number";e.exports=function(t){if("string"!==t&&t!==r&&"default"!==t)throw TypeError("Incorrect hint");return i(n(this),t!=r)}},{110:110,7:7}],27:[function(t,e){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],28:[function(t,e){e.exports=!t(34)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{34:34}],29:[function(t,e){var n=t(49),i=t(38).document,r=n(i)&&n(i.createElement);e.exports=function(t){return r?i.createElement(t):{}}},{38:38,49:49}],30:[function(t,e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],31:[function(t,e){var n=t(76),i=t(73),r=t(77);e.exports=function(t){var e=n(t),o=i.f;if(o)for(var a,s=o(t),l=r.f,c=0;s.length>c;)l.call(t,a=s[c++])&&e.push(a);return e}},{73:73,76:76,77:77}],32:[function(t,e){var n=t(38),i=t(23),r=t(40),o=t(87),a=t(25),s="prototype",l=function(t,e,c){var u,h,d,p,f=t&l.F,g=t&l.G,m=t&l.S,v=t&l.P,_=t&l.B,b=g?n:m?n[e]||(n[e]={}):(n[e]||{})[s],y=g?i:i[e]||(i[e]={}),w=y[s]||(y[s]={});g&&(c=e);for(u in c)h=!f&&b&&void 0!==b[u],d=(h?b:c)[u],p=_&&h?a(d,n):v&&"function"==typeof d?a(Function.call,d):d,b&&o(b,u,d,t&l.U),y[u]!=d&&r(y,u,p),v&&w[u]!=d&&(w[u]=d)};n.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{23:23,25:25,38:38,40:40,87:87}],33:[function(t,e){var n=t(117)("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(r){}}return!0}},{117:117}],34:[function(t,e){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],35:[function(t,e){"use strict";var n=t(40),i=t(87),r=t(34),o=t(27),a=t(117);e.exports=function(t,e,s){var l=a(t),c=s(o,l,""[t]),u=c[0],h=c[1];r(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,u),n(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},{117:117,27:27,34:34,40:40,87:87}],36:[function(t,e){"use strict";var n=t(7);e.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{7:7}],37:[function(t,e,n){var i=t(25),r=t(51),o=t(46),a=t(7),s=t(108),l=t(118),c={},u={},n=e.exports=function(t,e,n,h,d){var p,f,g,m,v=d?function(){return t}:l(t),_=i(n,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=s(t.length);p>b;b++)if(m=e?_(a(f=t[b])[0],f[1]):_(t[b]),m===c||m===u)return m}else for(g=v.call(t);!(f=g.next()).done;)if(m=r(g,_,f.value,e),m===c||m===u)return m};n.BREAK=c,n.RETURN=u},{108:108,118:118,25:25,46:46,51:51,7:7}],38:[function(t,e){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],39:[function(t,e){var n={}.hasOwnProperty;e.exports=function(t,e){return n.call(t,e)}},{}],40:[function(t,e){var n=t(67),i=t(85);e.exports=t(28)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,n){return t[e]=n,t}},{28:28,67:67,85:85}],41:[function(t,e){e.exports=t(38).document&&document.documentElement},{38:38}],42:[function(t,e){e.exports=!t(28)&&!t(34)(function(){return 7!=Object.defineProperty(t(29)("div"),"a",{get:function(){return 7}}).a})},{28:28,29:29,34:34}],43:[function(t,e){var n=t(49),i=t(90).set;e.exports=function(t,e,r){var o,a=e.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(t,o),t}},{49:49,90:90}],44:[function(t,e){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],45:[function(t,e){var n=t(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{18:18}],46:[function(t,e){var n=t(56),i=t(117)("iterator"),r=Array.prototype;e.exports=function(t){return void 0!==t&&(n.Array===t||r[i]===t)}},{117:117,56:56}],47:[function(t,e){var n=t(18);e.exports=Array.isArray||function(t){return"Array"==n(t)}},{18:18}],48:[function(t,e){var n=t(49),i=Math.floor;e.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},{49:49}],49:[function(t,e){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],50:[function(t,e){var n=t(49),i=t(18),r=t(117)("match");e.exports=function(t){var e;return n(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==i(t))}},{117:117,18:18,49:49}],51:[function(t,e){var n=t(7);e.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(o){var a=t["return"];throw void 0!==a&&n(a.call(t)),o}}},{7:7}],52:[function(t,e){"use strict";var n=t(66),i=t(85),r=t(92),o={};t(40)(o,t(117)("iterator"),function(){return this}),e.exports=function(t,e,a){t.prototype=n(o,{next:i(1,a)}),r(t,e+" Iterator")}},{117:117,40:40,66:66,85:85,92:92}],53:[function(t,e){"use strict";var n=t(58),i=t(32),r=t(87),o=t(40),a=t(39),s=t(56),l=t(52),c=t(92),u=t(74),h=t(117)("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",g="values",m=function(){return this};e.exports=function(t,e,v,_,b,y,w){l(v,e,_);var k,x,S,C=function(t){if(!d&&t in I)return I[t];switch(t){case f:return function(){return new v(this,t)};case g:return function(){return new v(this,t)}}return function(){return new v(this,t)}},T=e+" Iterator",E=b==g,D=!1,I=t.prototype,P=I[h]||I[p]||b&&I[b],A=P||C(b),j=b?E?C("entries"):A:void 0,O="Array"==e?I.entries||P:P;if(O&&(S=u(O.call(new t)),S!==Object.prototype&&(c(S,T,!0),n||a(S,h)||o(S,h,m))),E&&P&&P.name!==g&&(D=!0,A=function(){return P.call(this)}),n&&!w||!d&&!D&&I[h]||o(I,h,A),s[e]=A,s[T]=m,b)if(k={values:E?A:C(g),keys:y?A:C(f),entries:j},w)for(x in k)x in I||r(I,x,k[x]);else i(i.P+i.F*(d||D),e,k);return k}},{117:117,32:32,39:39,40:40,52:52,56:56,58:58,74:74,87:87,92:92}],54:[function(t,e){var n=t(117)("iterator"),i=!1;try{var r=[7][n]();r["return"]=function(){i=!0},Array.from(r,function(){throw 2})}catch(o){}e.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},t(o)}catch(s){}return r}},{117:117}],55:[function(t,e){e.exports=function(t,e){return{value:e,done:!!t}}},{}],56:[function(t,e){e.exports={}},{}],57:[function(t,e){var n=t(76),i=t(107);e.exports=function(t,e){for(var r,o=i(t),a=n(o),s=a.length,l=0;s>l;)if(o[r=a[l++]]===e)return r}},{107:107,76:76}],58:[function(t,e){e.exports=!1},{}],59:[function(t,e){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&1e-6>t?t+t*t/2:Math.exp(t)-1}:n},{}],60:[function(t,e){e.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&1e-8>t?t-t*t/2:Math.log(1+t)}},{}],61:[function(t,e){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1}},{}],62:[function(t,e){var n=t(114)("meta"),i=t(49),r=t(39),o=t(67).f,a=0,s=Object.isExtensible||function(){return!0},l=!t(34)(function(){return s(Object.preventExtensions({}))}),c=function(t){o(t,n,{value:{i:"O"+ ++a,w:{}}})},u=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!s(t))return"F";if(!e)return"E";c(t)}return t[n].i},h=function(t,e){if(!r(t,n)){if(!s(t))return!0;if(!e)return!1;c(t)}return t[n].w},d=function(t){return l&&p.NEED&&s(t)&&!r(t,n)&&c(t),t},p=e.exports={KEY:n,NEED:!1,fastKey:u,getWeak:h,onFreeze:d}},{114:114,34:34,39:39,49:49,67:67}],63:[function(t,e){var n=t(149),i=t(32),r=t(94)("metadata"),o=r.store||(r.store=new(t(255))),a=function(t,e,i){var r=o.get(t);if(!r){if(!i)return void 0;o.set(t,r=new n)}var a=r.get(e);if(!a){if(!i)return void 0;r.set(e,a=new n)}return a},s=function(t,e,n){var i=a(e,n,!1);return void 0===i?!1:i.has(t)},l=function(t,e,n){var i=a(e,n,!1);return void 0===i?void 0:i.get(t)},c=function(t,e,n,i){a(n,i,!0).set(t,e)},u=function(t,e){var n=a(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},d=function(t){i(i.S,"Reflect",t)};e.exports={store:o,map:a,has:s,get:l,set:c,keys:u,key:h,exp:d}},{149:149,255:255,32:32,94:94}],64:[function(t,e){var n=t(38),i=t(104).set,r=n.MutationObserver||n.WebKitMutationObserver,o=n.process,a=n.Promise,s="process"==t(18)(o);e.exports=function(){var t,e,l,c=function(){var n,i;for(s&&(n=o.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?l():e=void 0,r}}e=void 0,n&&n.enter()};if(s)l=function(){o.nextTick(c)};else if(r){var u=!0,h=document.createTextNode("");new r(c).observe(h,{characterData:!0}),l=function(){h.data=u=!u}}else if(a&&a.resolve){var d=a.resolve();l=function(){d.then(c)}}else l=function(){i.call(n,c)};return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,l()),e=i}}},{104:104,18:18,38:38}],65:[function(t,e){"use strict";var n=t(76),i=t(73),r=t(77),o=t(109),a=t(45),s=Object.assign;e.exports=!s||t(34)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=i})?function(t){for(var e=o(t),s=arguments.length,l=1,c=i.f,u=r.f;s>l;)for(var h,d=a(arguments[l++]),p=c?n(d).concat(c(d)):n(d),f=p.length,g=0;f>g;)u.call(d,h=p[g++])&&(e[h]=d[h]);return e}:s},{109:109,34:34,45:45,73:73,76:76,77:77}],66:[function(t,e){var n=t(7),i=t(68),r=t(30),o=t(93)("IE_PROTO"),a=function(){},s="prototype",l=function(){var e,n=t(29)("iframe"),i=r.length,o="<",a=">";for(n.style.display="none",t(41).appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write(o+"script"+a+"document.F=Object"+o+"/script"+a),e.close(),l=e.F;i--;)delete l[s][r[i]];return l()};e.exports=Object.create||function(t,e){var r;return null!==t?(a[s]=n(t),r=new a,a[s]=null,r[o]=t):r=l(),void 0===e?r:i(r,e)}},{29:29,30:30,41:41,68:68,7:7,93:93}],67:[function(t,e,n){var i=t(7),r=t(42),o=t(110),a=Object.defineProperty;n.f=t(28)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{110:110,28:28,42:42,7:7}],68:[function(t,e){var n=t(67),i=t(7),r=t(76);e.exports=t(28)?Object.defineProperties:function(t,e){i(t);for(var o,a=r(e),s=a.length,l=0;s>l;)n.f(t,o=a[l++],e[o]);return t}},{28:28,67:67,7:7,76:76}],69:[function(t,e){e.exports=t(58)||!t(34)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t(38)[e]})},{34:34,38:38,58:58}],70:[function(t,e,n){var i=t(77),r=t(85),o=t(107),a=t(110),s=t(39),l=t(42),c=Object.getOwnPropertyDescriptor;n.f=t(28)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(n){}return s(t,e)?r(!i.f.call(t,e),t[e]):void 0}},{107:107,110:110,28:28,39:39,42:42,77:77,85:85}],71:[function(t,e){var n=t(107),i=t(72).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return o.slice()}};e.exports.f=function(t){return o&&"[object Window]"==r.call(t)?a(t):i(n(t))}},{107:107,72:72}],72:[function(t,e,n){var i=t(75),r=t(30).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},{30:30,75:75}],73:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],74:[function(t,e){var n=t(39),i=t(109),r=t(93)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},{109:109,39:39,93:93}],75:[function(t,e){var n=t(39),i=t(107),r=t(11)(!1),o=t(93)("IE_PROTO");e.exports=function(t,e){var a,s=i(t),l=0,c=[];for(a in s)a!=o&&n(s,a)&&c.push(a);for(;e.length>l;)n(s,a=e[l++])&&(~r(c,a)||c.push(a));return c}},{107:107,11:11,39:39,93:93}],76:[function(t,e){var n=t(75),i=t(30);e.exports=Object.keys||function(t){return n(t,i)}},{30:30,75:75}],77:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],78:[function(t,e){var n=t(32),i=t(23),r=t(34);e.exports=function(t,e){var o=(i.Object||{})[t]||Object[t],a={};a[t]=e(o),n(n.S+n.F*r(function(){o(1)}),"Object",a)}},{23:23,32:32,34:34}],79:[function(t,e){var n=t(76),i=t(107),r=t(77).f;e.exports=function(t){return function(e){for(var o,a=i(e),s=n(a),l=s.length,c=0,u=[];l>c;)r.call(a,o=s[c++])&&u.push(t?[o,a[o]]:a[o]);return u}}},{107:107,76:76,77:77}],80:[function(t,e){var n=t(72),i=t(73),r=t(7),o=t(38).Reflect;e.exports=o&&o.ownKeys||function(t){var e=n.f(r(t)),o=i.f;return o?e.concat(o(t)):e}},{38:38,7:7,72:72,73:73}],81:[function(t,e){var n=t(38).parseFloat,i=t(102).trim;e.exports=1/n(t(103)+"-0")!==-1/0?function(t){var e=i(String(t),3),r=n(e);return 0===r&&"-"==e.charAt(0)?-0:r}:n},{102:102,103:103,38:38}],82:[function(t,e){var n=t(38).parseInt,i=t(102).trim,r=t(103),o=/^[\-+]?0[xX]/;e.exports=8!==n(r+"08")||22!==n(r+"0x16")?function(t,e){var r=i(String(t),3);return n(r,e>>>0||(o.test(r)?16:10))}:n},{102:102,103:103,38:38}],83:[function(t,e){"use strict";var n=t(84),i=t(44),r=t(3);e.exports=function(){for(var t=r(this),e=arguments.length,o=Array(e),a=0,s=n._,l=!1;e>a;)(o[a]=arguments[a++])===s&&(l=!0);return function(){var n,r=this,a=arguments.length,c=0,u=0;if(!l&&!a)return i(t,o,r);if(n=o.slice(),l)for(;e>c;c++)n[c]===s&&(n[c]=arguments[u++]);for(;a>u;)n.push(arguments[u++]);return i(t,n,r)}}},{3:3,44:44,84:84}],84:[function(t,e){e.exports=t(38)},{38:38}],85:[function(t,e){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],86:[function(t,e){var n=t(87);e.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},{87:87}],87:[function(t,e){var n=t(38),i=t(40),r=t(39),o=t(114)("src"),a="toString",s=Function[a],l=(""+s).split(a);t(23).inspectSource=function(t){return s.call(t)},(e.exports=function(t,e,a,s){var c="function"==typeof a;c&&(r(a,"name")||i(a,"name",e)),t[e]!==a&&(c&&(r(a,o)||i(a,o,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=a:s?t[e]?t[e]=a:i(t,e,a):(delete t[e],i(t,e,a)))})(Function.prototype,a,function(){return"function"==typeof this&&this[o]||s.call(this)})},{114:114,23:23,38:38,39:39,40:40}],88:[function(t,e){e.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},{}],89:[function(t,e){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},{}],90:[function(t,e){var n=t(49),i=t(7),r=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,i){try{i=t(25)(Function.call,t(70).f(Object.prototype,"__proto__").set,2),i(e,[]),n=!(e instanceof Array)}catch(o){n=!0}return function(t,e){return r(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:r}},{25:25,49:49,7:7,70:70}],91:[function(t,e){"use strict";var n=t(38),i=t(67),r=t(28),o=t(117)("species");e.exports=function(t){var e=n[t];r&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},{117:117,28:28,38:38,67:67}],92:[function(t,e){var n=t(67).f,i=t(39),r=t(117)("toStringTag");e.exports=function(t,e,o){t&&!i(t=o?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},{117:117,39:39,67:67}],93:[function(t,e){var n=t(94)("keys"),i=t(114);e.exports=function(t){return n[t]||(n[t]=i(t))}},{114:114,94:94}],94:[function(t,e){var n=t(38),i="__core-js_shared__",r=n[i]||(n[i]={});e.exports=function(t){return r[t]||(r[t]={})}},{38:38}],95:[function(t,e){var n=t(7),i=t(3),r=t(117)("species");e.exports=function(t,e){var o,a=n(t).constructor;return void 0===a||void 0==(o=n(a)[r])?e:i(o)}},{117:117,3:3,7:7}],96:[function(t,e){var n=t(34);e.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},{34:34}],97:[function(t,e){var n=t(106),i=t(27);e.exports=function(t){return function(e,r){var o,a,s=String(i(e)),l=n(r),c=s.length;return 0>l||l>=c?t?"":void 0:(o=s.charCodeAt(l),55296>o||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):(o-55296<<10)+(a-56320)+65536)}}},{106:106,27:27}],98:[function(t,e){var n=t(50),i=t(27);e.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},{27:27,50:50}],99:[function(t,e){var n=t(32),i=t(34),r=t(27),o=/"/g,a=function(t,e,n,i){var a=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+e+">"};e.exports=function(t,e){var r={};r[t]=e(a),n(n.P+n.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",r)}},{27:27,32:32,34:34}],100:[function(t,e){var n=t(108),i=t(101),r=t(27);e.exports=function(t,e,o,a){var s=String(r(t)),l=s.length,c=void 0===o?" ":String(o),u=n(e);if(l>=u||""==c)return s;var h=u-l,d=i.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),a?d+s:s+d}},{101:101,108:108,27:27}],101:[function(t,e){"use strict";var n=t(106),i=t(27);e.exports=function(t){var e=String(i(this)),r="",o=n(t);if(0>o||1/0==o)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},{106:106,27:27}],102:[function(t,e){var n=t(32),i=t(27),r=t(34),o=t(103),a="["+o+"]",s="\u200b\x85",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),u=function(t,e,i){var a={},l=r(function(){return!!o[t]()||s[t]()!=s}),c=a[t]=l?e(h):o[t];i&&(a[i]=c),n(n.P+n.F*l,"String",a)},h=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};e.exports=u},{103:103,27:27,32:32,34:34}],103:[function(t,e){e.exports="	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],104:[function(t,e){var n,i,r,o=t(25),a=t(44),s=t(41),l=t(29),c=t(38),u=c.process,h=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,f=0,g={},m="onreadystatechange",v=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){v.call(t.data)};h&&d||(h=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return g[++f]=function(){a("function"==typeof t?t:Function(t),e)},n(f),f},d=function(t){delete g[t]},"process"==t(18)(u)?n=function(t){u.nextTick(o(v,t,1))}:p?(i=new p,r=i.port2,i.port1.onmessage=_,n=o(r.postMessage,r,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):n=m in l("script")?function(t){s.appendChild(l("script"))[m]=function(){s.removeChild(this),v.call(t)}}:function(t){setTimeout(o(v,t,1),0)}),e.exports={set:h,clear:d}},{18:18,25:25,29:29,38:38,41:41,44:44}],105:[function(t,e){var n=t(106),i=Math.max,r=Math.min;e.exports=function(t,e){return t=n(t),0>t?i(t+e,0):r(t,e)}},{106:106}],106:[function(t,e){var n=Math.ceil,i=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},{}],107:[function(t,e){var n=t(45),i=t(27);e.exports=function(t){return n(i(t))}},{27:27,45:45}],108:[function(t,e){var n=t(106),i=Math.min;e.exports=function(t){return t>0?i(n(t),9007199254740991):0}},{106:106}],109:[function(t,e){var n=t(27);e.exports=function(t){return Object(n(t))}},{27:27}],110:[function(t,e){var n=t(49);e.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{49:49}],111:[function(t,e){"use strict";if(t(28)){var n=t(58),i=t(38),r=t(34),o=t(32),a=t(113),s=t(112),l=t(25),c=t(6),u=t(85),h=t(40),d=t(86),p=t(106),f=t(108),g=t(105),m=t(110),v=t(39),_=t(89),b=t(17),y=t(49),w=t(109),k=t(46),x=t(66),S=t(74),C=t(72).f,T=t(118),E=t(114),D=t(117),I=t(12),P=t(11),A=t(95),j=t(130),O=t(56),$=t(54),R=t(91),M=t(9),N=t(8),F=t(67),L=t(70),B=F.f,z=L.f,U=i.RangeError,H=i.TypeError,W=i.Uint8Array,q="ArrayBuffer",V="Shared"+q,Q="BYTES_PER_ELEMENT",K="prototype",Y=Array[K],G=s.ArrayBuffer,J=s.DataView,X=I(0),Z=I(2),te=I(3),ee=I(4),ne=I(5),ie=I(6),re=P(!0),oe=P(!1),ae=j.values,se=j.keys,le=j.entries,ce=Y.lastIndexOf,ue=Y.reduce,he=Y.reduceRight,de=Y.join,pe=Y.sort,fe=Y.slice,ge=Y.toString,me=Y.toLocaleString,ve=D("iterator"),_e=D("toStringTag"),be=E("typed_constructor"),ye=E("def_constructor"),we=a.CONSTR,ke=a.TYPED,xe=a.VIEW,Se="Wrong length!",Ce=I(1,function(t,e){return Ae(A(t,t[ye]),e)}),Te=r(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Ee=!!W&&!!W[K].set&&r(function(){new W(1).set({})}),De=function(t,e){if(void 0===t)throw H(Se);var n=+t,i=f(t);if(e&&!_(n,i))throw U(Se);return i},Ie=function(t,e){var n=p(t);if(0>n||n%e)throw U("Wrong offset!");return n},Pe=function(t){if(y(t)&&ke in t)return t;throw H(t+" is not a typed array!")},Ae=function(t,e){if(!(y(t)&&be in t))throw H("It is not a typed array constructor!");return new t(e)},je=function(t,e){return Oe(A(t,t[ye]),e)},Oe=function(t,e){for(var n=0,i=e.length,r=Ae(t,i);i>n;)r[n]=e[n++];return r},$e=function(t,e,n){B(t,e,{get:function(){return this._d[n]}})},Re=function(t){var e,n,i,r,o,a,s=w(t),c=arguments.length,u=c>1?arguments[1]:void 0,h=void 0!==u,d=T(s);if(void 0!=d&&!k(d)){for(a=d.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(h&&c>2&&(u=l(u,arguments[2],2)),e=0,n=f(s.length),r=Ae(this,n);n>e;e++)r[e]=h?u(s[e],e):s[e];return r},Me=function(){for(var t=0,e=arguments.length,n=Ae(this,e);e>t;)n[t]=arguments[t++];return n},Ne=!!W&&r(function(){me.call(new W(1))}),Fe=function(){return me.apply(Ne?fe.call(Pe(this)):Pe(this),arguments)},Le={copyWithin:function(t,e){return N.call(Pe(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return ee(Pe(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(){return M.apply(Pe(this),arguments)},filter:function(t){return je(this,Z(Pe(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return ne(Pe(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return ie(Pe(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){X(Pe(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return oe(Pe(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return re(Pe(this),t,arguments.length>1?arguments[1]:void 0)},join:function(){return de.apply(Pe(this),arguments)},lastIndexOf:function(){return ce.apply(Pe(this),arguments)},map:function(t){return Ce(Pe(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(){return ue.apply(Pe(this),arguments)},reduceRight:function(){return he.apply(Pe(this),arguments)},reverse:function(){for(var t,e=this,n=Pe(e).length,i=Math.floor(n/2),r=0;i>r;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return te(Pe(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pe.call(Pe(this),t)},subarray:function(t,e){var n=Pe(this),i=n.length,r=g(t,i);return new(A(n,n[ye]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,f((void 0===e?i:g(e,i))-r))}},Be=function(t,e){return je(this,fe.call(Pe(this),t,e))},ze=function(t){Pe(this);var e=Ie(arguments[1],1),n=this.length,i=w(t),r=f(i.length),o=0;if(r+e>n)throw U(Se);for(;r>o;)this[e+o]=i[o++]},Ue={entries:function(){return le.call(Pe(this))},keys:function(){return se.call(Pe(this))},values:function(){return ae.call(Pe(this))}},He=function(t,e){return y(t)&&t[ke]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},We=function(t,e){return He(t,e=m(e,!0))?u(2,t[e]):z(t,e)},qe=function(t,e,n){return!(He(t,e=m(e,!0))&&y(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?B(t,e,n):(t[e]=n.value,t)};we||(L.f=We,F.f=qe),o(o.S+o.F*!we,"Object",{getOwnPropertyDescriptor:We,defineProperty:qe}),r(function(){ge.call({})})&&(ge=me=function(){return de.call(this)});var Ve=d({},Le);d(Ve,Ue),h(Ve,ve,Ue.values),d(Ve,{slice:Be,set:ze,constructor:function(){},toString:ge,toLocaleString:Fe}),$e(Ve,"buffer","b"),$e(Ve,"byteOffset","o"),$e(Ve,"byteLength","l"),$e(Ve,"length","e"),B(Ve,_e,{get:function(){return this[ke]}}),e.exports=function(t,e,s,l){l=!!l;var u=t+(l?"Clamped":"")+"Array",d="Uint8Array"!=u,p="get"+t,g="set"+t,m=i[u],v=m||{},_=m&&S(m),w=!m||!a.ABV,k={},T=m&&m[K],E=function(t,n){var i=t._d;return i.v[p](n*e+i.o,Te)},D=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[g](n*e+r.o,i,Te)},I=function(t,e){B(t,e,{get:function(){return E(this,e)},set:function(t){return D(this,e,t)},enumerable:!0})};w?(m=s(function(t,n,i,r){c(t,m,u,"_d");var o,a,s,l,d=0,p=0;if(y(n)){if(!(n instanceof G||(l=b(n))==q||l==V))return ke in n?Oe(m,n):Re.call(m,n);o=n,p=Ie(i,e);var g=n.byteLength;if(void 0===r){if(g%e)throw U(Se);if(a=g-p,0>a)throw U(Se)}else if(a=f(r)*e,a+p>g)throw U(Se);s=a/e}else s=De(n,!0),a=s*e,o=new G(a);for(h(t,"_d",{b:o,o:p,l:a,e:s,v:new J(o)});s>d;)I(t,d++)}),T=m[K]=x(Ve),h(T,"constructor",m)):$(function(t){new m(null),new m(t)},!0)||(m=s(function(t,n,i,r){c(t,m,u);var o;return y(n)?n instanceof G||(o=b(n))==q||o==V?void 0!==r?new v(n,Ie(i,e),r):void 0!==i?new v(n,Ie(i,e)):new v(n):ke in n?Oe(m,n):Re.call(m,n):new v(De(n,d))}),X(_!==Function.prototype?C(v).concat(C(_)):C(v),function(t){t in m||h(m,t,v[t])}),m[K]=T,n||(T.constructor=m));var P=T[ve],A=!!P&&("values"==P.name||void 0==P.name),j=Ue.values;h(m,be,!0),h(T,ke,u),h(T,xe,!0),h(T,ye,m),(l?new m(1)[_e]==u:_e in T)||B(T,_e,{get:function(){return u}}),k[u]=m,o(o.G+o.W+o.F*(m!=v),k),o(o.S,u,{BYTES_PER_ELEMENT:e,from:Re,of:Me}),Q in T||h(T,Q,e),o(o.P,u,Le),R(u),o(o.P+o.F*Ee,u,{set:ze}),o(o.P+o.F*!A,u,Ue),o(o.P+o.F*(T.toString!=ge),u,{toString:ge}),o(o.P+o.F*r(function(){new m(1).slice()}),u,{slice:Be}),o(o.P+o.F*(r(function(){return[1,2].toLocaleString()!=new m([1,2]).toLocaleString()})||!r(function(){T.toLocaleString.call([1,2])})),u,{toLocaleString:Fe}),O[u]=A?P:j,n||A||h(T,ve,j)}}else e.exports=function(){}},{105:105,106:106,108:108,109:109,11:11,110:110,112:112,113:113,114:114,117:117,118:118,12:12,130:130,17:17,25:25,28:28,32:32,34:34,38:38,39:39,40:40,46:46,49:49,54:54,56:56,58:58,6:6,66:66,67:67,70:70,72:72,74:74,8:8,85:85,86:86,89:89,9:9,91:91,95:95}],112:[function(t,e,n){"use strict";var i=t(38),r=t(28),o=t(58),a=t(113),s=t(40),l=t(86),c=t(34),u=t(6),h=t(106),d=t(108),p=t(72).f,f=t(67).f,g=t(9),m=t(92),v="ArrayBuffer",_="DataView",b="prototype",y="Wrong length!",w="Wrong index!",k=i[v],x=i[_],S=i.Math,C=i.RangeError,T=i.Infinity,E=k,D=S.abs,I=S.pow,P=S.floor,A=S.log,j=S.LN2,O="buffer",$="byteLength",R="byteOffset",M=r?"_b":O,N=r?"_l":$,F=r?"_o":R,L=function(t,e,n){var i,r,o,a=Array(n),s=8*n-e-1,l=(1<<s)-1,c=l>>1,u=23===e?I(2,-24)-I(2,-77):0,h=0,d=0>t||0===t&&0>1/t?1:0;for(t=D(t),t!=t||t===T?(r=t!=t?1:0,i=l):(i=P(A(t)/j),t*(o=I(2,-i))<1&&(i--,o*=2),t+=i+c>=1?u/o:u*I(2,1-c),t*o>=2&&(i++,o/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(t*o-1)*I(2,e),i+=c):(r=t*I(2,c-1)*I(2,e),i=0));e>=8;a[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[h++]=255&i,i/=256,s-=8);return a[--h]|=128*d,a},B=function(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,c=t[l--],u=127&c;for(c>>=7;s>0;u=256*u+t[l],l--,s-=8);for(i=u&(1<<-s)-1,u>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return i?0/0:c?-T:T;i+=I(2,e),u-=a}return(c?-1:1)*i*I(2,u-e)},z=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},U=function(t){return[255&t]},H=function(t){return[255&t,t>>8&255]},W=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return L(t,52,8)},V=function(t){return L(t,23,4)},Q=function(t,e,n){f(t[b],e,{get:function(){return this[n]}})},K=function(t,e,n,i){var r=+n,o=h(r);if(r!=o||0>o||o+e>t[N])throw C(w);var a=t[M]._b,s=o+t[F],l=a.slice(s,s+e);return i?l:l.reverse()},Y=function(t,e,n,i,r,o){var a=+n,s=h(a);if(a!=s||0>s||s+e>t[N])throw C(w);for(var l=t[M]._b,c=s+t[F],u=i(+r),d=0;e>d;d++)l[c+d]=u[o?d:e-d-1]},G=function(t,e){u(t,k,v);var n=+e,i=d(n);if(n!=i)throw C(y);return i};if(a.ABV){if(!c(function(){new k})||!c(function(){new k(.5)})){k=function(t){return new E(G(this,t))};for(var J,X=k[b]=E[b],Z=p(E),te=0;Z.length>te;)(J=Z[te++])in k||s(k,J,E[J]);o||(X.constructor=k)}var ee=new x(new k(2)),ne=x[b].setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),(ee.getInt8(0)||!ee.getInt8(1))&&l(x[b],{setInt8:function(t,e){ne.call(this,t,e<<24>>24)},setUint8:function(t,e){ne.call(this,t,e<<24>>24)}},!0)}else k=function(t){var e=G(this,t);this._b=g.call(Array(e),0),this[N]=e},x=function(t,e,n){u(this,x,_),u(t,k,_);var i=t[N],r=h(e);if(0>r||r>i)throw C("Wrong offset!");if(n=void 0===n?i-r:d(n),r+n>i)throw C(y);this[M]=t,this[F]=r,this[N]=n},r&&(Q(k,$,"_l"),Q(x,O,"_b"),Q(x,$,"_l"),Q(x,R,"_o")),l(x[b],{getInt8:function(t){return K(this,1,t)[0]<<24>>24},getUint8:function(t){return K(this,1,t)[0]},getInt16:function(t){var e=K(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=K(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return z(K(this,4,t,arguments[1]))},getUint32:function(t){return z(K(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return B(K(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return B(K(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Y(this,1,t,U,e)},setUint8:function(t,e){Y(this,1,t,U,e)},setInt16:function(t,e){Y(this,2,t,H,e,arguments[2])},setUint16:function(t,e){Y(this,2,t,H,e,arguments[2])},setInt32:function(t,e){Y(this,4,t,W,e,arguments[2])},setUint32:function(t,e){Y(this,4,t,W,e,arguments[2])},setFloat32:function(t,e){Y(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){Y(this,8,t,q,e,arguments[2])}});m(k,v),m(x,_),s(x[b],a.VIEW,!0),n[v]=k,n[_]=x},{106:106,108:108,113:113,28:28,34:34,38:38,40:40,58:58,6:6,67:67,72:72,86:86,9:9,92:92}],113:[function(t,e){for(var n,i=t(38),r=t(40),o=t(114),a=o("typed_array"),s=o("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,u=0,h=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h>u;)(n=i[d[u++]])?(r(n.prototype,a,!0),r(n.prototype,s,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:a,VIEW:s}},{114:114,38:38,40:40}],114:[function(t,e){var n=0,i=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},{}],115:[function(t,e){var n=t(38),i=t(23),r=t(58),o=t(116),a=t(67).f;e.exports=function(t){var e=i.Symbol||(i.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},{116:116,23:23,38:38,58:58,67:67}],116:[function(t,e,n){n.f=t(117)
},{117:117}],117:[function(t,e){var n=t(94)("wks"),i=t(114),r=t(38).Symbol,o="function"==typeof r,a=e.exports=function(t){return n[t]||(n[t]=o&&r[t]||(o?r:i)("Symbol."+t))};a.store=n},{114:114,38:38,94:94}],118:[function(t,e){var n=t(17),i=t(117)("iterator"),r=t(56);e.exports=t(23).getIteratorMethod=function(t){return void 0!=t?t[i]||t["@@iterator"]||r[n(t)]:void 0}},{117:117,17:17,23:23,56:56}],119:[function(t){var e=t(32),n=t(88)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(t){return n(t)}})},{32:32,88:88}],120:[function(t){var e=t(32);e(e.P,"Array",{copyWithin:t(8)}),t(5)("copyWithin")},{32:32,5:5,8:8}],121:[function(t){"use strict";var e=t(32),n=t(12)(4);e(e.P+e.F*!t(96)([].every,!0),"Array",{every:function(t){return n(this,t,arguments[1])}})},{12:12,32:32,96:96}],122:[function(t){var e=t(32);e(e.P,"Array",{fill:t(9)}),t(5)("fill")},{32:32,5:5,9:9}],123:[function(t){"use strict";var e=t(32),n=t(12)(2);e(e.P+e.F*!t(96)([].filter,!0),"Array",{filter:function(t){return n(this,t,arguments[1])}})},{12:12,32:32,96:96}],124:[function(t){"use strict";var e=t(32),n=t(12)(6),i="findIndex",r=!0;i in[]&&Array(1)[i](function(){r=!1}),e(e.P+e.F*r,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)(i)},{12:12,32:32,5:5}],125:[function(t){"use strict";var e=t(32),n=t(12)(5),i="find",r=!0;i in[]&&Array(1)[i](function(){r=!1}),e(e.P+e.F*r,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)(i)},{12:12,32:32,5:5}],126:[function(t){"use strict";var e=t(32),n=t(12)(0),i=t(96)([].forEach,!0);e(e.P+e.F*!i,"Array",{forEach:function(t){return n(this,t,arguments[1])}})},{12:12,32:32,96:96}],127:[function(t){"use strict";var e=t(25),n=t(32),i=t(109),r=t(51),o=t(46),a=t(108),s=t(24),l=t(118);n(n.S+n.F*!t(54)(function(t){Array.from(t)}),"Array",{from:function(t){var n,c,u,h,d=i(t),p="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=0,_=l(d);if(m&&(g=e(g,f>2?arguments[2]:void 0,2)),void 0==_||p==Array&&o(_))for(n=a(d.length),c=new p(n);n>v;v++)s(c,v,m?g(d[v],v):d[v]);else for(h=_.call(d),c=new p;!(u=h.next()).done;v++)s(c,v,m?r(h,g,[u.value,v],!0):u.value);return c.length=v,c}})},{108:108,109:109,118:118,24:24,25:25,32:32,46:46,51:51,54:54}],128:[function(t){"use strict";var e=t(32),n=t(11)(!1),i=[].indexOf,r=!!i&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(r||!t(96)(i)),"Array",{indexOf:function(t){return r?i.apply(this,arguments)||0:n(this,t,arguments[1])}})},{11:11,32:32,96:96}],129:[function(t){var e=t(32);e(e.S,"Array",{isArray:t(47)})},{32:32,47:47}],130:[function(t,e){"use strict";var n=t(5),i=t(55),r=t(56),o=t(107);e.exports=t(53)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},{107:107,5:5,53:53,55:55,56:56}],131:[function(t){"use strict";var e=t(32),n=t(107),i=[].join;e(e.P+e.F*(t(45)!=Object||!t(96)(i)),"Array",{join:function(t){return i.call(n(this),void 0===t?",":t)}})},{107:107,32:32,45:45,96:96}],132:[function(t){"use strict";var e=t(32),n=t(107),i=t(106),r=t(108),o=[].lastIndexOf,a=!!o&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(a||!t(96)(o)),"Array",{lastIndexOf:function(t){if(a)return o.apply(this,arguments)||0;var e=n(this),s=r(e.length),l=s-1;for(arguments.length>1&&(l=Math.min(l,i(arguments[1]))),0>l&&(l=s+l);l>=0;l--)if(l in e&&e[l]===t)return l||0;return-1}})},{106:106,107:107,108:108,32:32,96:96}],133:[function(t){"use strict";var e=t(32),n=t(12)(1);e(e.P+e.F*!t(96)([].map,!0),"Array",{map:function(t){return n(this,t,arguments[1])}})},{12:12,32:32,96:96}],134:[function(t){"use strict";var e=t(32),n=t(24);e(e.S+e.F*t(34)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)n(i,t,arguments[t++]);return i.length=e,i}})},{24:24,32:32,34:34}],135:[function(t){"use strict";var e=t(32),n=t(13);e(e.P+e.F*!t(96)([].reduceRight,!0),"Array",{reduceRight:function(t){return n(this,t,arguments.length,arguments[1],!0)}})},{13:13,32:32,96:96}],136:[function(t){"use strict";var e=t(32),n=t(13);e(e.P+e.F*!t(96)([].reduce,!0),"Array",{reduce:function(t){return n(this,t,arguments.length,arguments[1],!1)}})},{13:13,32:32,96:96}],137:[function(t){"use strict";var e=t(32),n=t(41),i=t(18),r=t(105),o=t(108),a=[].slice;e(e.P+e.F*t(34)(function(){n&&a.call(n)}),"Array",{slice:function(t,e){var n=o(this.length),s=i(this);if(e=void 0===e?n:e,"Array"==s)return a.call(this,t,e);for(var l=r(t,n),c=r(e,n),u=o(c-l),h=Array(u),d=0;u>d;d++)h[d]="String"==s?this.charAt(l+d):this[l+d];return h}})},{105:105,108:108,18:18,32:32,34:34,41:41}],138:[function(t){"use strict";var e=t(32),n=t(12)(3);e(e.P+e.F*!t(96)([].some,!0),"Array",{some:function(t){return n(this,t,arguments[1])}})},{12:12,32:32,96:96}],139:[function(t){"use strict";var e=t(32),n=t(3),i=t(109),r=t(34),o=[].sort,a=[1,2,3];e(e.P+e.F*(r(function(){a.sort(void 0)})||!r(function(){a.sort(null)})||!t(96)(o)),"Array",{sort:function(t){return void 0===t?o.call(i(this)):o.call(i(this),n(t))}})},{109:109,3:3,32:32,34:34,96:96}],140:[function(t){t(91)("Array")},{91:91}],141:[function(t){var e=t(32);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},{32:32}],142:[function(t){"use strict";var e=t(32),n=t(34),i=Date.prototype.getTime,r=function(t){return t>9?t:"0"+t};e(e.P+e.F*(n(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!n(function(){new Date(0/0).toISOString()})),"Date",{toISOString:function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),o=0>e?"-":e>9999?"+":"";return o+("00000"+Math.abs(e)).slice(o?-6:-4)+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+"."+(n>99?n:"0"+r(n))+"Z"}})},{32:32,34:34}],143:[function(t){"use strict";var e=t(32),n=t(109),i=t(110);e(e.P+e.F*t(34)(function(){return null!==new Date(0/0).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var t=n(this),e=i(t);return"number"!=typeof e||isFinite(e)?t.toISOString():null}})},{109:109,110:110,32:32,34:34}],144:[function(t){var e=t(117)("toPrimitive"),n=Date.prototype;e in n||t(40)(n,e,t(26))},{117:117,26:26,40:40}],145:[function(t){var e=Date.prototype,n="Invalid Date",i="toString",r=e[i],o=e.getTime;new Date(0/0)+""!=n&&t(87)(e,i,function(){var t=o.call(this);return t===t?r.call(this):n})},{87:87}],146:[function(t){var e=t(32);e(e.P,"Function",{bind:t(16)})},{16:16,32:32}],147:[function(t){"use strict";var e=t(49),n=t(74),i=t(117)("hasInstance"),r=Function.prototype;i in r||t(67).f(r,i,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=n(t);)if(this.prototype===t)return!0;return!1}})},{117:117,49:49,67:67,74:74}],148:[function(t){var e=t(67).f,n=t(85),i=t(39),r=Function.prototype,o=/^\s*function ([^ (]*)/,a="name",s=Object.isExtensible||function(){return!0};a in r||t(28)&&e(r,a,{configurable:!0,get:function(){try{var t=this,r=(""+t).match(o)[1];return i(t,a)||!s(t)||e(t,a,n(5,r)),r}catch(l){return""}}})},{28:28,39:39,67:67,85:85}],149:[function(t,e){"use strict";var n=t(19);e.exports=t(22)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(this,t);return e&&e.v},set:function(t,e){return n.def(this,0===t?0:t,e)}},n,!0)},{19:19,22:22}],150:[function(t){var e=t(32),n=t(60),i=Math.sqrt,r=Math.acosh;e(e.S+e.F*!(r&&710==Math.floor(r(Number.MAX_VALUE))&&1/0==r(1/0)),"Math",{acosh:function(t){return(t=+t)<1?0/0:t>94906265.62425156?Math.log(t)+Math.LN2:n(t-1+i(t-1)*i(t+1))}})},{32:32,60:60}],151:[function(t){function e(t){return isFinite(t=+t)&&0!=t?0>t?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var n=t(32),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:e})},{32:32}],152:[function(t){var e=t(32),n=Math.atanh;e(e.S+e.F*!(n&&1/n(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{32:32}],153:[function(t){var e=t(32),n=t(61);e(e.S,"Math",{cbrt:function(t){return n(t=+t)*Math.pow(Math.abs(t),1/3)}})},{32:32,61:61}],154:[function(t){var e=t(32);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{32:32}],155:[function(t){var e=t(32),n=Math.exp;e(e.S,"Math",{cosh:function(t){return(n(t=+t)+n(-t))/2}})},{32:32}],156:[function(t){var e=t(32),n=t(59);e(e.S+e.F*(n!=Math.expm1),"Math",{expm1:n})},{32:32,59:59}],157:[function(t){var e=t(32),n=t(61),i=Math.pow,r=i(2,-52),o=i(2,-23),a=i(2,127)*(2-o),s=i(2,-126),l=function(t){return t+1/r-1/r};e(e.S,"Math",{fround:function(t){var e,i,c=Math.abs(t),u=n(t);return s>c?u*l(c/s/o)*s*o:(e=(1+o/r)*c,i=e-(e-c),i>a||i!=i?1/0*u:u*i)}})},{32:32,61:61}],158:[function(t){var e=t(32),n=Math.abs;e(e.S,"Math",{hypot:function(){for(var t,e,i=0,r=0,o=arguments.length,a=0;o>r;)t=n(arguments[r++]),t>a?(e=a/t,i=i*e*e+1,a=t):t>0?(e=t/a,i+=e*e):i+=t;return 1/0===a?1/0:a*Math.sqrt(i)}})},{32:32}],159:[function(t){var e=t(32),n=Math.imul;e(e.S+e.F*t(34)(function(){return-5!=n(4294967295,5)||2!=n.length}),"Math",{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,a=n&r;return 0|o*a+((n&i>>>16)*a+o*(n&r>>>16)<<16>>>0)}})},{32:32,34:34}],160:[function(t){var e=t(32);e(e.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},{32:32}],161:[function(t){var e=t(32);e(e.S,"Math",{log1p:t(60)})},{32:32,60:60}],162:[function(t){var e=t(32);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{32:32}],163:[function(t){var e=t(32);e(e.S,"Math",{sign:t(61)})},{32:32,61:61}],164:[function(t){var e=t(32),n=t(59),i=Math.exp;e(e.S+e.F*t(34)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(n(t)-n(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},{32:32,34:34,59:59}],165:[function(t){var e=t(32),n=t(59),i=Math.exp;e(e.S,"Math",{tanh:function(t){var e=n(t=+t),r=n(-t);return 1/0==e?1:1/0==r?-1:(e-r)/(i(t)+i(-t))}})},{32:32,59:59}],166:[function(t){var e=t(32);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{32:32}],167:[function(t){"use strict";var e=t(38),n=t(39),i=t(18),r=t(43),o=t(110),a=t(34),s=t(72).f,l=t(70).f,c=t(67).f,u=t(102).trim,h="Number",d=e[h],p=d,f=d.prototype,g=i(t(66)(f))==h,m="trim"in String.prototype,v=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=m?e.trim():u(e,3);var n,i,r,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return 0/0}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,l=e.slice(2),c=0,h=l.length;h>c;c++)if(s=l.charCodeAt(c),48>s||s>r)return 0/0;return parseInt(l,i)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(g?a(function(){f.valueOf.call(n)}):i(n)!=h)?r(new p(v(e)),n,d):v(e)};for(var _,b=t(28)?s(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;b.length>y;y++)n(p,_=b[y])&&!n(d,_)&&c(d,_,l(p,_));d.prototype=f,f.constructor=d,t(87)(e,h,d)}},{102:102,110:110,18:18,28:28,34:34,38:38,39:39,43:43,66:66,67:67,70:70,72:72,87:87}],168:[function(t){var e=t(32);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},{32:32}],169:[function(t){var e=t(32),n=t(38).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&n(t)}})},{32:32,38:38}],170:[function(t){var e=t(32);e(e.S,"Number",{isInteger:t(48)})},{32:32,48:48}],171:[function(t){var e=t(32);e(e.S,"Number",{isNaN:function(t){return t!=t}})},{32:32}],172:[function(t){var e=t(32),n=t(48),i=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return n(t)&&i(t)<=9007199254740991}})},{32:32,48:48}],173:[function(t){var e=t(32);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{32:32}],174:[function(t){var e=t(32);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{32:32}],175:[function(t){var e=t(32),n=t(81);e(e.S+e.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},{32:32,81:81}],176:[function(t){var e=t(32),n=t(82);e(e.S+e.F*(Number.parseInt!=n),"Number",{parseInt:n})},{32:32,82:82}],177:[function(t){"use strict";var e=t(32),n=t(106),i=t(4),r=t(101),o=1..toFixed,a=Math.floor,s=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",c="0",u=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*s[n],s[n]=i%1e7,i=a(i/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=s[e],s[e]=a(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+r.call(c,7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2===1?p(t,e-1,n*t):p(t*t,e/2,n)},f=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};e(e.P+e.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!t(34)(function(){o.call({})})),"Number",{toFixed:function(t){var e,o,a,s,g=i(this,l),m=n(t),v="",_=c;if(0>m||m>20)throw RangeError(l);if(g!=g)return"NaN";if(-1e21>=g||g>=1e21)return String(g);if(0>g&&(v="-",g=-g),g>1e-21)if(e=f(g*p(2,69,1))-69,o=0>e?g*p(2,-e,1):g/p(2,e,1),o*=4503599627370496,e=52-e,e>0){for(u(0,o),a=m;a>=7;)u(1e7,0),a-=7;for(u(p(10,a,1),0),a=e-1;a>=23;)h(1<<23),a-=23;h(1<<a),u(1,1),h(2),_=d()}else u(0,o),u(1<<-e,0),_=d()+r.call(c,m);return m>0?(s=_.length,_=v+(m>=s?"0."+r.call(c,m-s)+_:_.slice(0,s-m)+"."+_.slice(s-m))):_=v+_,_}})},{101:101,106:106,32:32,34:34,4:4}],178:[function(t){"use strict";var e=t(32),n=t(34),i=t(4),r=1..toPrecision;e(e.P+e.F*(n(function(){return"1"!==r.call(1,void 0)})||!n(function(){r.call({})})),"Number",{toPrecision:function(t){var e=i(this,"Number#toPrecision: incorrect invocation!");return void 0===t?r.call(e):r.call(e,t)}})},{32:32,34:34,4:4}],179:[function(t){var e=t(32);e(e.S+e.F,"Object",{assign:t(65)})},{32:32,65:65}],180:[function(t){var e=t(32);e(e.S,"Object",{create:t(66)})},{32:32,66:66}],181:[function(t){var e=t(32);e(e.S+e.F*!t(28),"Object",{defineProperties:t(68)})},{28:28,32:32,68:68}],182:[function(t){var e=t(32);e(e.S+e.F*!t(28),"Object",{defineProperty:t(67).f})},{28:28,32:32,67:67}],183:[function(t){var e=t(49),n=t(62).onFreeze;t(78)("freeze",function(t){return function(i){return t&&e(i)?t(n(i)):i}})},{49:49,62:62,78:78}],184:[function(t){var e=t(107),n=t(70).f;t(78)("getOwnPropertyDescriptor",function(){return function(t,i){return n(e(t),i)}})},{107:107,70:70,78:78}],185:[function(t){t(78)("getOwnPropertyNames",function(){return t(71).f})},{71:71,78:78}],186:[function(t){var e=t(109),n=t(74);t(78)("getPrototypeOf",function(){return function(t){return n(e(t))}})},{109:109,74:74,78:78}],187:[function(t){var e=t(49);t(78)("isExtensible",function(t){return function(n){return e(n)?t?t(n):!0:!1}})},{49:49,78:78}],188:[function(t){var e=t(49);t(78)("isFrozen",function(t){return function(n){return e(n)?t?t(n):!1:!0}})},{49:49,78:78}],189:[function(t){var e=t(49);t(78)("isSealed",function(t){return function(n){return e(n)?t?t(n):!1:!0}})},{49:49,78:78}],190:[function(t){var e=t(32);e(e.S,"Object",{is:t(89)})},{32:32,89:89}],191:[function(t){var e=t(109),n=t(76);t(78)("keys",function(){return function(t){return n(e(t))}})},{109:109,76:76,78:78}],192:[function(t){var e=t(49),n=t(62).onFreeze;t(78)("preventExtensions",function(t){return function(i){return t&&e(i)?t(n(i)):i}})},{49:49,62:62,78:78}],193:[function(t){var e=t(49),n=t(62).onFreeze;t(78)("seal",function(t){return function(i){return t&&e(i)?t(n(i)):i}})},{49:49,62:62,78:78}],194:[function(t){var e=t(32);e(e.S,"Object",{setPrototypeOf:t(90).set})},{32:32,90:90}],195:[function(t){"use strict";var e=t(17),n={};n[t(117)("toStringTag")]="z",n+""!="[object z]"&&t(87)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},{117:117,17:17,87:87}],196:[function(t){var e=t(32),n=t(81);e(e.G+e.F*(parseFloat!=n),{parseFloat:n})},{32:32,81:81}],197:[function(t){var e=t(32),n=t(82);e(e.G+e.F*(parseInt!=n),{parseInt:n})},{32:32,82:82}],198:[function(t){"use strict";var e,n,i,r=t(58),o=t(38),a=t(25),s=t(17),l=t(32),c=t(49),u=t(3),h=t(6),d=t(37),p=t(95),f=t(104).set,g=t(64)(),m="Promise",v=o.TypeError,_=o.process,b=o[m],_=o.process,y="process"==s(_),w=function(){},k=!!function(){try{var e=b.resolve(1),n=(e.constructor={})[t(117)("species")]=function(t){t(w,w)};return(y||"function"==typeof PromiseRejectionEvent)&&e.then(w)instanceof n}catch(i){}}(),x=function(t,e){return t===e||t===b&&e===i},S=function(t){var e;return c(t)&&"function"==typeof(e=t.then)?e:!1},C=function(t){return x(b,t)?new T(t):new n(t)},T=n=function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw v("Bad Promise constructor");e=t,n=i}),this.resolve=u(e),this.reject=u(n)},E=function(t){try{t()}catch(e){return{error:e}}},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a=r?e.ok:e.fail,s=e.resolve,l=e.reject,c=e.domain;try{a?(r||(2==t._h&&A(t),t._h=1),a===!0?n=i:(c&&c.enter(),n=a(i),c&&c.exit()),n===e.promise?l(v("Promise-chain cycle")):(o=S(n))?o.call(n,s,l):s(n)):l(i)}catch(u){l(u)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)})}},I=function(t){f.call(o,function(){var e,n,i,r=t._v;if(P(t)&&(e=E(function(){y?_.emit("unhandledRejection",r,t):(n=o.onunhandledrejection)?n({promise:t,reason:r}):(i=o.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=y||P(t)?2:1),t._a=void 0,e)throw e.error})},P=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if(e=n[i++],e.fail||!P(e.promise))return!1;return!0},A=function(t){f.call(o,function(){var e;y?_.emit("rejectionHandled",t):(e=o.onrejectionhandled)&&e({promise:t,reason:t._v})})},j=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},O=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw v("Promise can't be resolved itself");(e=S(t))?g(function(){var i={_w:n,_d:!1};try{e.call(t,a(O,i,1),a(j,i,1))}catch(r){j.call(i,r)}}):(n._v=t,n._s=1,D(n,!1))}catch(i){j.call({_w:n,_d:!1},i)}}};k||(b=function(t){h(this,b,m,"_h"),u(t),e.call(this);try{t(a(O,this,1),a(j,this,1))}catch(n){j.call(this,n)}},e=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=t(86)(b.prototype,{then:function(t,e){var n=C(p(this,b));return n.ok="function"==typeof t?t:!0,n.fail="function"==typeof e&&e,n.domain=y?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},"catch":function(t){return this.then(void 0,t)}}),T=function(){var t=new e;this.promise=t,this.resolve=a(O,t,1),this.reject=a(j,t,1)}),l(l.G+l.W+l.F*!k,{Promise:b}),t(92)(b,m),t(91)(m),i=t(23)[m],l(l.S+l.F*!k,m,{reject:function(t){var e=C(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(r||!k),m,{resolve:function(t){if(t instanceof b&&x(t.constructor,this))return t;var e=C(this),n=e.resolve;return n(t),e.promise}}),l(l.S+l.F*!(k&&t(54)(function(t){b.all(t)["catch"](w)})),m,{all:function(t){var e=this,n=C(e),i=n.resolve,r=n.reject,o=E(function(){var n=[],o=0,a=1;d(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o&&r(o.error),n.promise},race:function(t){var e=this,n=C(e),i=n.reject,r=E(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r&&i(r.error),n.promise}})},{104:104,117:117,17:17,23:23,25:25,3:3,32:32,37:37,38:38,49:49,54:54,58:58,6:6,64:64,86:86,91:91,92:92,95:95}],199:[function(t){var e=t(32),n=t(3),i=t(7),r=(t(38).Reflect||{}).apply,o=Function.apply;e(e.S+e.F*!t(34)(function(){r(function(){})}),"Reflect",{apply:function(t,e,a){var s=n(t),l=i(a);return r?r(s,e,l):o.call(s,e,l)}})},{3:3,32:32,34:34,38:38,7:7}],200:[function(t){var e=t(32),n=t(66),i=t(3),r=t(7),o=t(49),a=t(34),s=t(16),l=(t(38).Reflect||{}).construct,c=a(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),u=!a(function(){l(function(){})});e(e.S+e.F*(c||u),"Reflect",{construct:function(t,e){i(t),r(e);var a=arguments.length<3?t:i(arguments[2]);if(u&&!c)return l(t,e,a);if(t==a){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var h=[null];return h.push.apply(h,e),new(s.apply(t,h))}var d=a.prototype,p=n(o(d)?d:Object.prototype),f=Function.apply.call(t,p,e);return o(f)?f:p}})},{16:16,3:3,32:32,34:34,38:38,49:49,66:66,7:7}],201:[function(t){var e=t(67),n=t(32),i=t(7),r=t(110);n(n.S+n.F*t(34)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,o){i(t),n=r(n,!0),i(o);try{return e.f(t,n,o),!0}catch(a){return!1}}})},{110:110,32:32,34:34,67:67,7:7}],202:[function(t){var e=t(32),n=t(70).f,i=t(7);e(e.S,"Reflect",{deleteProperty:function(t,e){var r=n(i(t),e);return r&&!r.configurable?!1:delete t[e]}})},{32:32,7:7,70:70}],203:[function(t){"use strict";var e=t(32),n=t(7),i=function(t){this._t=n(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};t(52)(i,"Object",function(){var t,e=this,n=e._k;do if(e._i>=n.length)return{value:void 0,done:!0};while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new i(t)}})},{32:32,52:52,7:7}],204:[function(t){var e=t(70),n=t(32),i=t(7);n(n.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(i(t),n)}})},{32:32,7:7,70:70}],205:[function(t){var e=t(32),n=t(74),i=t(7);e(e.S,"Reflect",{getPrototypeOf:function(t){return n(i(t))}})},{32:32,7:7,74:74}],206:[function(t){function e(t,o){var l,c,u=arguments.length<3?t:arguments[2];return s(t)===u?t[o]:(l=n.f(t,o))?r(l,"value")?l.value:void 0!==l.get?l.get.call(u):void 0:a(c=i(t))?e(c,o,u):void 0}var n=t(70),i=t(74),r=t(39),o=t(32),a=t(49),s=t(7);o(o.S,"Reflect",{get:e})},{32:32,39:39,49:49,7:7,70:70,74:74}],207:[function(t){var e=t(32);e(e.S,"Reflect",{has:function(t,e){return e in t}})},{32:32}],208:[function(t){var e=t(32),n=t(7),i=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return n(t),i?i(t):!0}})},{32:32,7:7}],209:[function(t){var e=t(32);e(e.S,"Reflect",{ownKeys:t(80)})},{32:32,80:80}],210:[function(t){var e=t(32),n=t(7),i=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){n(t);try{return i&&i(t),!0}catch(e){return!1}}})},{32:32,7:7}],211:[function(t){var e=t(32),n=t(90);n&&e(e.S,"Reflect",{setPrototypeOf:function(t,e){n.check(t,e);try{return n.set(t,e),!0}catch(i){return!1}}})},{32:32,90:90}],212:[function(t){function e(t,a,u){var h,d,p=arguments.length<4?t:arguments[3],f=i.f(l(t),a);if(!f){if(c(d=r(t)))return e(d,a,u,p);f=s(0)}return o(f,"value")?f.writable!==!1&&c(p)?(h=i.f(p,a)||s(0),h.value=u,n.f(p,a,h),!0):!1:void 0===f.set?!1:(f.set.call(p,u),!0)}var n=t(67),i=t(70),r=t(74),o=t(39),a=t(32),s=t(85),l=t(7),c=t(49);a(a.S,"Reflect",{set:e})},{32:32,39:39,49:49,67:67,7:7,70:70,74:74,85:85}],213:[function(t){var e=t(38),n=t(43),i=t(67).f,r=t(72).f,o=t(50),a=t(36),s=e.RegExp,l=s,c=s.prototype,u=/a/g,h=/a/g,d=new s(u)!==u;if(t(28)&&(!d||t(34)(function(){return h[t(117)("match")]=!1,s(u)!=u||s(h)==h||"/a/i"!=s(u,"i")}))){s=function(t,e){var i=this instanceof s,r=o(t),u=void 0===e;return!i&&r&&t.constructor===s&&u?t:n(d?new l(r&&!u?t.source:t,e):l((r=t instanceof s)?t.source:t,r&&u?a.call(t):e),i?this:c,s)};for(var p=(function(t){t in s||i(s,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}),f=r(l),g=0;f.length>g;)p(f[g++]);c.constructor=s,s.prototype=c,t(87)(e,"RegExp",s)}t(91)("RegExp")},{117:117,28:28,34:34,36:36,38:38,43:43,50:50,67:67,72:72,87:87,91:91}],214:[function(t){t(28)&&"g"!=/./g.flags&&t(67).f(RegExp.prototype,"flags",{configurable:!0,get:t(36)})},{28:28,36:36,67:67}],215:[function(t){t(35)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},{35:35}],216:[function(t){t(35)("replace",2,function(t,e,n){return[function(i,r){"use strict";var o=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},{35:35}],217:[function(t){t(35)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},{35:35}],218:[function(t){t(35)("split",2,function(e,n,i){"use strict";var r=t(50),o=i,a=[].push,s="split",l="length",c="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[l]||2!="ab"[s](/(?:ab)*/)[l]||4!="."[s](/(.?)(.?)/)[l]||"."[s](/()()/)[l]>1||""[s](/.?/)[l]){var u=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,s,h,d,p,f=[],g=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=void 0===e?4294967295:e>>>0,_=new RegExp(t.source,g+"g");for(u||(i=new RegExp("^"+_.source+"$(?!\\s)",g));(s=_.exec(n))&&(h=s.index+s[0][l],!(h>m&&(f.push(n.slice(m,s.index)),!u&&s[l]>1&&s[0].replace(i,function(){for(p=1;p<arguments[l]-2;p++)void 0===arguments[p]&&(s[p]=void 0)}),s[l]>1&&s.index<n[l]&&a.apply(f,s.slice(1)),d=s[0][l],m=h,f[l]>=v)));)_[c]===s.index&&_[c]++;return m===n[l]?(d||!_.test(""))&&f.push(""):f.push(n.slice(m)),f[l]>v?f.slice(0,v):f}}else"0"[s](void 0,0)[l]&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(t,r){var o=e(this),a=void 0==t?void 0:t[n];return void 0!==a?a.call(t,o,r):i.call(String(o),t,r)},i]})},{35:35,50:50}],219:[function(t){"use strict";t(214);var e=t(7),n=t(36),i=t(28),r="toString",o=/./[r],a=function(e){t(87)(RegExp.prototype,r,e,!0)};t(34)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?a(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?n.call(t):void 0)}):o.name!=r&&a(function(){return o.call(this)})},{214:214,28:28,34:34,36:36,7:7,87:87}],220:[function(t,e){"use strict";var n=t(19);e.exports=t(22)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(this,t=0===t?0:t,t)}},n)},{19:19,22:22}],221:[function(t){"use strict";t(99)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},{99:99}],222:[function(t){"use strict";t(99)("big",function(t){return function(){return t(this,"big","","")}})},{99:99}],223:[function(t){"use strict";t(99)("blink",function(t){return function(){return t(this,"blink","","")}})},{99:99}],224:[function(t){"use strict";t(99)("bold",function(t){return function(){return t(this,"b","","")}})},{99:99}],225:[function(t){"use strict";var e=t(32),n=t(97)(!1);e(e.P,"String",{codePointAt:function(t){return n(this,t)}})},{32:32,97:97}],226:[function(t){"use strict";var e=t(32),n=t(108),i=t(98),r="endsWith",o=""[r];e(e.P+e.F*t(33)(r),"String",{endsWith:function(t){var e=i(this,t,r),a=arguments.length>1?arguments[1]:void 0,s=n(e.length),l=void 0===a?s:Math.min(n(a),s),c=String(t);return o?o.call(e,c,l):e.slice(l-c.length,l)===c}})},{108:108,32:32,33:33,98:98}],227:[function(t){"use strict";t(99)("fixed",function(t){return function(){return t(this,"tt","","")}})},{99:99}],228:[function(t){"use strict";t(99)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},{99:99}],229:[function(t){"use strict";t(99)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},{99:99}],230:[function(t){var e=t(32),n=t(105),i=String.fromCharCode,r=String.fromCodePoint;e(e.S+e.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(){for(var t,e=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],n(t,1114111)!==t)throw RangeError(t+" is not a valid code point");e.push(65536>t?i(t):i(((t-=65536)>>10)+55296,t%1024+56320))}return e.join("")}})},{105:105,32:32}],231:[function(t){"use strict";var e=t(32),n=t(98),i="includes";e(e.P+e.F*t(33)(i),"String",{includes:function(t){return!!~n(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{32:32,33:33,98:98}],232:[function(t){"use strict";t(99)("italics",function(t){return function(){return t(this,"i","","")}})},{99:99}],233:[function(t){"use strict";var e=t(97)(!0);t(53)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,i=this._i;return i>=n.length?{value:void 0,done:!0}:(t=e(n,i),this._i+=t.length,{value:t,done:!1})})},{53:53,97:97}],234:[function(t){"use strict";t(99)("link",function(t){return function(e){return t(this,"a","href",e)}})},{99:99}],235:[function(t){var e=t(32),n=t(107),i=t(108);e(e.S,"String",{raw:function(t){for(var e=n(t.raw),r=i(e.length),o=arguments.length,a=[],s=0;r>s;)a.push(String(e[s++])),o>s&&a.push(String(arguments[s]));return a.join("")}})},{107:107,108:108,32:32}],236:[function(t){var e=t(32);e(e.P,"String",{repeat:t(101)})},{101:101,32:32}],237:[function(t){"use strict";t(99)("small",function(t){return function(){return t(this,"small","","")}})},{99:99}],238:[function(t){"use strict";var e=t(32),n=t(108),i=t(98),r="startsWith",o=""[r];e(e.P+e.F*t(33)(r),"String",{startsWith:function(t){var e=i(this,t,r),a=n(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),s=String(t);return o?o.call(e,s,a):e.slice(a,a+s.length)===s}})},{108:108,32:32,33:33,98:98}],239:[function(t){"use strict";t(99)("strike",function(t){return function(){return t(this,"strike","","")}})},{99:99}],240:[function(t){"use strict";t(99)("sub",function(t){return function(){return t(this,"sub","","")}})},{99:99}],241:[function(t){"use strict";t(99)("sup",function(t){return function(){return t(this,"sup","","")}})},{99:99}],242:[function(t){"use strict";t(102)("trim",function(t){return function(){return t(this,3)}})},{102:102}],243:[function(t){"use strict";var e=t(38),n=t(39),i=t(28),r=t(32),o=t(87),a=t(62).KEY,s=t(34),l=t(94),c=t(92),u=t(114),h=t(117),d=t(116),p=t(115),f=t(57),g=t(31),m=t(47),v=t(7),_=t(107),b=t(110),y=t(85),w=t(66),k=t(71),x=t(70),S=t(67),C=t(76),T=x.f,E=S.f,D=k.f,I=e.Symbol,P=e.JSON,A=P&&P.stringify,j="prototype",O=h("_hidden"),$=h("toPrimitive"),R={}.propertyIsEnumerable,M=l("symbol-registry"),N=l("symbols"),F=l("op-symbols"),L=Object[j],B="function"==typeof I,z=e.QObject,U=!z||!z[j]||!z[j].findChild,H=i&&s(function(){return 7!=w(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=T(L,e);i&&delete L[e],E(t,e,n),i&&t!==L&&E(L,e,i)}:E,W=function(t){var e=N[t]=w(I[j]);return e._k=t,e},q=B&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},V=function(t,e,i){return t===L&&V(F,e,i),v(t),e=b(e,!0),v(i),n(N,e)?(i.enumerable?(n(t,O)&&t[O][e]&&(t[O][e]=!1),i=w(i,{enumerable:y(0,!1)})):(n(t,O)||E(t,O,y(1,{})),t[O][e]=!0),H(t,e,i)):E(t,e,i)},Q=function(t,e){v(t);for(var n,i=g(e=_(e)),r=0,o=i.length;o>r;)V(t,n=i[r++],e[n]);return t},K=function(t,e){return void 0===e?w(t):Q(w(t),e)},Y=function(t){var e=R.call(this,t=b(t,!0));return this===L&&n(N,t)&&!n(F,t)?!1:e||!n(this,t)||!n(N,t)||n(this,O)&&this[O][t]?e:!0},G=function(t,e){if(t=_(t),e=b(e,!0),t!==L||!n(N,e)||n(F,e)){var i=T(t,e);return!i||!n(N,e)||n(t,O)&&t[O][e]||(i.enumerable=!0),i}},J=function(t){for(var e,i=D(_(t)),r=[],o=0;i.length>o;)n(N,e=i[o++])||e==O||e==a||r.push(e);return r},X=function(t){for(var e,i=t===L,r=D(i?F:_(t)),o=[],a=0;r.length>a;)n(N,e=r[a++])&&(i?n(L,e):!0)&&o.push(N[e]);return o};B||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=u(arguments.length>0?arguments[0]:void 0),e=function(i){this===L&&e.call(F,i),n(this,O)&&n(this[O],t)&&(this[O][t]=!1),H(this,t,y(1,i))};return i&&U&&H(L,t,{configurable:!0,set:e}),W(t)},o(I[j],"toString",function(){return this._k}),x.f=G,S.f=V,t(72).f=k.f=J,t(77).f=Y,t(73).f=X,i&&!t(58)&&o(L,"propertyIsEnumerable",Y,!0),d.f=function(t){return W(h(t))}),r(r.G+r.W+r.F*!B,{Symbol:I});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;Z.length>te;)h(Z[te++]);for(var Z=C(h.store),te=0;Z.length>te;)p(Z[te++]);r(r.S+r.F*!B,"Symbol",{"for":function(t){return n(M,t+="")?M[t]:M[t]=I(t)},keyFor:function(t){if(q(t))return f(M,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),r(r.S+r.F*!B,"Object",{create:K,defineProperty:V,defineProperties:Q,getOwnPropertyDescriptor:G,getOwnPropertyNames:J,getOwnPropertySymbols:X}),P&&r(r.S+r.F*(!B||s(function(){var t=I();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))
})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);return e=i[1],"function"==typeof e&&(n=e),(n||!m(e))&&(e=function(t,e){return n&&(e=n.call(this,t,e)),q(e)?void 0:e}),i[1]=e,A.apply(P,i)}}}),I[j][$]||t(40)(I[j],$,I[j].valueOf),c(I,"Symbol"),c(Math,"Math",!0),c(e.JSON,"JSON",!0)},{107:107,110:110,114:114,115:115,116:116,117:117,28:28,31:31,32:32,34:34,38:38,39:39,40:40,47:47,57:57,58:58,62:62,66:66,67:67,7:7,70:70,71:71,72:72,73:73,76:76,77:77,85:85,87:87,92:92,94:94}],244:[function(t){"use strict";var e=t(32),n=t(113),i=t(112),r=t(7),o=t(105),a=t(108),s=t(49),l=t(38).ArrayBuffer,c=t(95),u=i.ArrayBuffer,h=i.DataView,d=n.ABV&&l.isView,p=u.prototype.slice,f=n.VIEW,g="ArrayBuffer";e(e.G+e.W+e.F*(l!==u),{ArrayBuffer:u}),e(e.S+e.F*!n.CONSTR,g,{isView:function(t){return d&&d(t)||s(t)&&f in t}}),e(e.P+e.U+e.F*t(34)(function(){return!new u(2).slice(1,void 0).byteLength}),g,{slice:function(t,e){if(void 0!==p&&void 0===e)return p.call(r(this),t);for(var n=r(this).byteLength,i=o(t,n),s=o(void 0===e?n:e,n),l=new(c(this,u))(a(s-i)),d=new h(this),f=new h(l),g=0;s>i;)f.setUint8(g++,d.getUint8(i++));return l}}),t(91)(g)},{105:105,108:108,112:112,113:113,32:32,34:34,38:38,49:49,7:7,91:91,95:95}],245:[function(t){var e=t(32);e(e.G+e.W+e.F*!t(113).ABV,{DataView:t(112).DataView})},{112:112,113:113,32:32}],246:[function(t){t(111)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},{111:111}],247:[function(t){t(111)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},{111:111}],248:[function(t){t(111)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},{111:111}],249:[function(t){t(111)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},{111:111}],250:[function(t){t(111)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},{111:111}],251:[function(t){t(111)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},{111:111}],252:[function(t){t(111)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},{111:111}],253:[function(t){t(111)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},{111:111}],254:[function(t){t(111)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},{111:111}],255:[function(t,e){"use strict";var n,i=t(12)(0),r=t(87),o=t(62),a=t(65),s=t(21),l=t(49),c=o.getWeak,u=Object.isExtensible,h=s.ufstore,d={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},f={get:function(t){if(l(t)){var e=c(t);return e===!0?h(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return s.def(this,t,e)}},g=e.exports=t(22)("WeakMap",p,f,s,!0,!0);7!=(new g).set((Object.freeze||Object)(d),7).get(d)&&(n=s.getConstructor(p),a(n.prototype,f),o.NEED=!0,i(["delete","has","get","set"],function(t){var e=g.prototype,i=e[t];r(e,t,function(e,r){if(l(e)&&!u(e)){this._f||(this._f=new n);var o=this._f[t](e,r);return"set"==t?this:o}return i.call(this,e,r)})}))},{12:12,21:21,22:22,49:49,62:62,65:65,87:87}],256:[function(t){"use strict";var e=t(21);t(22)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},{21:21,22:22}],257:[function(t){"use strict";var e=t(32),n=t(11)(!0);e(e.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("includes")},{11:11,32:32,5:5}],258:[function(t){var e=t(32),n=t(64)(),i=t(38).process,r="process"==t(18)(i);e(e.G,{asap:function(t){var e=r&&i.domain;n(e?e.bind(t):t)}})},{18:18,32:32,38:38,64:64}],259:[function(t){var e=t(32),n=t(18);e(e.S,"Error",{isError:function(t){return"Error"===n(t)}})},{18:18,32:32}],260:[function(t){var e=t(32);e(e.P+e.R,"Map",{toJSON:t(20)("Map")})},{20:20,32:32}],261:[function(t){var e=t(32);e(e.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=e>>>0,a=n>>>0;return o+(i>>>0)+((r&a|(r|a)&~(r+a>>>0))>>>31)|0}})},{32:32}],262:[function(t){var e=t(32);e(e.S,"Math",{imulh:function(t,e){var n=65535,i=+t,r=+e,o=i&n,a=r&n,s=i>>16,l=r>>16,c=(s*a>>>0)+(o*a>>>16);return s*l+(c>>16)+((o*l>>>0)+(c&n)>>16)}})},{32:32}],263:[function(t){var e=t(32);e(e.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=e>>>0,a=n>>>0;return o-(i>>>0)-((~r&a|~(r^a)&r-a>>>0)>>>31)|0}})},{32:32}],264:[function(t){var e=t(32);e(e.S,"Math",{umulh:function(t,e){var n=65535,i=+t,r=+e,o=i&n,a=r&n,s=i>>>16,l=r>>>16,c=(s*a>>>0)+(o*a>>>16);return s*l+(c>>>16)+((o*l>>>0)+(c&n)>>>16)}})},{32:32}],265:[function(t){"use strict";var e=t(32),n=t(109),i=t(3),r=t(67);t(28)&&e(e.P+t(69),"Object",{__defineGetter__:function(t,e){r.f(n(this),t,{get:i(e),enumerable:!0,configurable:!0})}})},{109:109,28:28,3:3,32:32,67:67,69:69}],266:[function(t){"use strict";var e=t(32),n=t(109),i=t(3),r=t(67);t(28)&&e(e.P+t(69),"Object",{__defineSetter__:function(t,e){r.f(n(this),t,{set:i(e),enumerable:!0,configurable:!0})}})},{109:109,28:28,3:3,32:32,67:67,69:69}],267:[function(t){var e=t(32),n=t(79)(!0);e(e.S,"Object",{entries:function(t){return n(t)}})},{32:32,79:79}],268:[function(t){var e=t(32),n=t(80),i=t(107),r=t(70),o=t(24);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,a=i(t),s=r.f,l=n(a),c={},u=0;l.length>u;)o(c,e=l[u++],s(a,e));return c}})},{107:107,24:24,32:32,70:70,80:80}],269:[function(t){"use strict";var e=t(32),n=t(109),i=t(110),r=t(74),o=t(70).f;t(28)&&e(e.P+t(69),"Object",{__lookupGetter__:function(t){var e,a=n(this),s=i(t,!0);do if(e=o(a,s))return e.get;while(a=r(a))}})},{109:109,110:110,28:28,32:32,69:69,70:70,74:74}],270:[function(t){"use strict";var e=t(32),n=t(109),i=t(110),r=t(74),o=t(70).f;t(28)&&e(e.P+t(69),"Object",{__lookupSetter__:function(t){var e,a=n(this),s=i(t,!0);do if(e=o(a,s))return e.set;while(a=r(a))}})},{109:109,110:110,28:28,32:32,69:69,70:70,74:74}],271:[function(t){var e=t(32),n=t(79)(!1);e(e.S,"Object",{values:function(t){return n(t)}})},{32:32,79:79}],272:[function(t){"use strict";var e=t(32),n=t(38),i=t(23),r=t(64)(),o=t(117)("observable"),a=t(3),s=t(7),l=t(6),c=t(86),u=t(40),h=t(37),d=h.RETURN,p=function(t){return null==t?void 0:a(t)},f=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},m=function(t){g(t)||(t._o=void 0,f(t))},v=function(t,e){s(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:a(n),this._c=n)}catch(r){return void t.error(r)}g(this)&&f(this)};v.prototype=c({},{unsubscribe:function(){m(this)}});var _=function(t){this._s=t};_.prototype=c({},{next:function(t){var e=this._s;if(!g(e)){var n=e._o;try{var i=p(n.next);if(i)return i.call(n,t)}catch(r){try{m(e)}finally{throw r}}}},error:function(t){var e=this._s;if(g(e))throw t;var n=e._o;e._o=void 0;try{var i=p(n.error);if(!i)throw t;t=i.call(n,t)}catch(r){try{f(e)}finally{throw r}}return f(e),t},complete:function(t){var e=this._s;if(!g(e)){var n=e._o;e._o=void 0;try{var i=p(n.complete);t=i?i.call(n,t):void 0}catch(r){try{f(e)}finally{throw r}}return f(e),t}}});var b=function(t){l(this,b,"Observable","_f")._f=a(t)};c(b.prototype,{subscribe:function(t){return new v(t,this._f)},forEach:function(t){var e=this;return new(i.Promise||n.Promise)(function(n,i){a(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(n){i(n),r.unsubscribe()}},error:i,complete:n})})}}),c(b,{from:function(t){var e="function"==typeof this?this:b,n=p(s(t)[o]);if(n){var i=s(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return r(function(){if(!n){try{if(h(t,!1,function(t){return e.next(t),n?d:void 0})===d)return}catch(i){if(n)throw i;return void e.error(i)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);e>t;)n[t]=arguments[t++];return new("function"==typeof this?this:b)(function(t){var e=!1;return r(function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}}),function(){e=!0}})}}),u(b.prototype,o,function(){return this}),e(e.G,{Observable:b}),t(91)("Observable")},{117:117,23:23,3:3,32:32,37:37,38:38,40:40,6:6,64:64,7:7,86:86,91:91}],273:[function(t){var e=t(63),n=t(7),i=e.key,r=e.set;e.exp({defineMetadata:function(t,e,o,a){r(t,e,n(o),i(a))}})},{63:63,7:7}],274:[function(t){var e=t(63),n=t(7),i=e.key,r=e.map,o=e.store;e.exp({deleteMetadata:function(t,e){var a=arguments.length<3?void 0:i(arguments[2]),s=r(n(e),a,!1);if(void 0===s||!s["delete"](t))return!1;if(s.size)return!0;var l=o.get(e);return l["delete"](a),!!l.size||o["delete"](e)}})},{63:63,7:7}],275:[function(t){var e=t(220),n=t(10),i=t(63),r=t(7),o=t(74),a=i.keys,s=i.key,l=function(t,i){var r=a(t,i),s=o(t);if(null===s)return r;var c=l(s,i);return c.length?r.length?n(new e(r.concat(c))):c:r};i.exp({getMetadataKeys:function(t){return l(r(t),arguments.length<2?void 0:s(arguments[1]))}})},{10:10,220:220,63:63,7:7,74:74}],276:[function(t){var e=t(63),n=t(7),i=t(74),r=e.has,o=e.get,a=e.key,s=function(t,e,n){var a=r(t,e,n);if(a)return o(t,e,n);var l=i(e);return null!==l?s(t,l,n):void 0};e.exp({getMetadata:function(t,e){return s(t,n(e),arguments.length<3?void 0:a(arguments[2]))}})},{63:63,7:7,74:74}],277:[function(t){var e=t(63),n=t(7),i=e.keys,r=e.key;e.exp({getOwnMetadataKeys:function(t){return i(n(t),arguments.length<2?void 0:r(arguments[1]))}})},{63:63,7:7}],278:[function(t){var e=t(63),n=t(7),i=e.get,r=e.key;e.exp({getOwnMetadata:function(t,e){return i(t,n(e),arguments.length<3?void 0:r(arguments[2]))}})},{63:63,7:7}],279:[function(t){var e=t(63),n=t(7),i=t(74),r=e.has,o=e.key,a=function(t,e,n){var o=r(t,e,n);if(o)return!0;var s=i(e);return null!==s?a(t,s,n):!1};e.exp({hasMetadata:function(t,e){return a(t,n(e),arguments.length<3?void 0:o(arguments[2]))}})},{63:63,7:7,74:74}],280:[function(t){var e=t(63),n=t(7),i=e.has,r=e.key;e.exp({hasOwnMetadata:function(t,e){return i(t,n(e),arguments.length<3?void 0:r(arguments[2]))}})},{63:63,7:7}],281:[function(t){var e=t(63),n=t(7),i=t(3),r=e.key,o=e.set;e.exp({metadata:function(t,e){return function(a,s){o(t,e,(void 0!==s?n:i)(a),r(s))}}})},{3:3,63:63,7:7}],282:[function(t){var e=t(32);e(e.P+e.R,"Set",{toJSON:t(20)("Set")})},{20:20,32:32}],283:[function(t){"use strict";var e=t(32),n=t(97)(!0);e(e.P,"String",{at:function(t){return n(this,t)}})},{32:32,97:97}],284:[function(t){"use strict";var e=t(32),n=t(27),i=t(108),r=t(50),o=t(36),a=RegExp.prototype,s=function(t,e){this._r=t,this._s=e};t(52)(s,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function(t){if(n(this),!r(t))throw TypeError(t+" is not a regexp!");var e=String(this),l="flags"in a?String(t.flags):o.call(t),c=new RegExp(t.source,~l.indexOf("g")?l:"g"+l);return c.lastIndex=i(t.lastIndex),new s(c,e)}})},{108:108,27:27,32:32,36:36,50:50,52:52}],285:[function(t){"use strict";var e=t(32),n=t(100);e(e.P,"String",{padEnd:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{100:100,32:32}],286:[function(t){"use strict";var e=t(32),n=t(100);e(e.P,"String",{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{100:100,32:32}],287:[function(t){"use strict";t(102)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},{102:102}],288:[function(t){"use strict";t(102)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},{102:102}],289:[function(t){t(115)("asyncIterator")},{115:115}],290:[function(t){t(115)("observable")},{115:115}],291:[function(t){var e=t(32);e(e.S,"System",{global:t(38)})},{32:32,38:38}],292:[function(t){for(var e=t(130),n=t(87),i=t(38),r=t(40),o=t(56),a=t(117),s=a("iterator"),l=a("toStringTag"),c=o.Array,u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],h=0;5>h;h++){var d,p=u[h],f=i[p],g=f&&f.prototype;if(g){g[s]||r(g,s,c),g[l]||r(g,l,p),o[p]=c;for(d in e)g[d]||n(g,d,e[d],!0)}}},{117:117,130:130,38:38,40:40,56:56,87:87}],293:[function(t){var e=t(32),n=t(104);e(e.G+e.B,{setImmediate:n.set,clearImmediate:n.clear})},{104:104,32:32}],294:[function(t){var e=t(38),n=t(32),i=t(44),r=t(83),o=e.navigator,a=!!o&&/MSIE .\./.test(o.userAgent),s=function(t){return a?function(e,n){return t(i(r,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};n(n.G+n.B+n.F*a,{setTimeout:s(e.setTimeout),setInterval:s(e.setInterval)})},{32:32,38:38,44:44,83:83}],295:[function(t,e){t(243),t(180),t(182),t(181),t(184),t(186),t(191),t(185),t(183),t(193),t(192),t(188),t(189),t(187),t(179),t(190),t(194),t(195),t(146),t(148),t(147),t(197),t(196),t(167),t(177),t(178),t(168),t(169),t(170),t(171),t(172),t(173),t(174),t(175),t(176),t(150),t(151),t(152),t(153),t(154),t(155),t(156),t(157),t(158),t(159),t(160),t(161),t(162),t(163),t(164),t(165),t(166),t(230),t(235),t(242),t(233),t(225),t(226),t(231),t(236),t(238),t(221),t(222),t(223),t(224),t(227),t(228),t(229),t(232),t(234),t(237),t(239),t(240),t(241),t(141),t(143),t(142),t(145),t(144),t(129),t(127),t(134),t(131),t(137),t(139),t(126),t(133),t(123),t(138),t(121),t(136),t(135),t(128),t(132),t(120),t(122),t(125),t(124),t(140),t(130),t(213),t(219),t(214),t(215),t(216),t(217),t(218),t(198),t(149),t(220),t(255),t(256),t(244),t(245),t(250),t(253),t(254),t(248),t(251),t(249),t(252),t(246),t(247),t(199),t(200),t(201),t(202),t(203),t(206),t(204),t(205),t(207),t(208),t(209),t(210),t(212),t(211),t(257),t(283),t(286),t(285),t(287),t(288),t(284),t(289),t(290),t(268),t(271),t(267),t(265),t(266),t(269),t(270),t(260),t(282),t(291),t(259),t(261),t(263),t(262),t(264),t(273),t(274),t(276),t(275),t(278),t(277),t(279),t(280),t(281),t(258),t(272),t(294),t(293),t(292),e.exports=t(23)},{120:120,121:121,122:122,123:123,124:124,125:125,126:126,127:127,128:128,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294}],296:[function(t,e){(function(t){/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * https://raw.github.com/facebook/regenerator/master/LICENSE file. An
 * additional grant of patent rights can be found in the PATENTS file in
 * the same directory.
 */
!function(t){"use strict";function n(t,e,n,i){var o=e&&e.prototype instanceof r?e:r,a=Object.create(o.prototype),s=new p(i||[]);return a._invoke=u(t,n,s),a}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){this.arg=t}function c(t){function e(n,r,o,a){var s=i(t[n],t,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u instanceof l?Promise.resolve(u.arg).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},a)}a(s.arg)}function n(t,n){function i(){return new Promise(function(i,r){e(t,n,i,r)})}return r=r?r.then(i,i):i()}"object"==typeof process&&process.domain&&(e=process.domain.bind(e));var r;this._invoke=n}function u(t,e,n){var r=x;return function(o,a){if(r===C)throw new Error("Generator is already running");if(r===T){if("throw"===o)throw a;return g()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===m){n.delegate=null;var l=s.iterator["return"];if(l){var c=i(l,s.iterator,a);if("throw"===c.type){o="throw",a=c.arg;continue}}if("return"===o)continue}var c=i(s.iterator[o],s.iterator,a);if("throw"===c.type){n.delegate=null,o="throw",a=c.arg;continue}o="next",a=m;var u=c.arg;if(!u.done)return r=S,u;n[s.resultName]=u.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n.sent=n._sent=a;else if("throw"===o){if(r===x)throw r=T,a;n.dispatchException(a)&&(o="next",a=m)}else"return"===o&&n.abrupt("return",a);r=C;var c=i(t,e,n);if("normal"===c.type){r=n.done?T:S;var u={value:c.arg,done:n.done};if(c.arg!==E)return u;n.delegate&&"next"===o&&(a=m)}else"throw"===c.type&&(r=T,o="throw",a=c.arg)}}}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function f(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(v.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=m,r.done=!0,r};return i.next=i}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",y=_.toStringTag||"@@toStringTag",w="object"==typeof e,k=t.regeneratorRuntime;if(k)return void(w&&(e.exports=k));k=t.regeneratorRuntime=w?e.exports:{},k.wrap=n;var x="suspendedStart",S="suspendedYield",C="executing",T="completed",E={},D=a.prototype=r.prototype;o.prototype=D.constructor=a,a.constructor=o,a[y]=o.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===o||"GeneratorFunction"===(e.displayName||e.name):!1},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,y in t||(t[y]="GeneratorFunction")),t.prototype=Object.create(D),t},k.awrap=function(t){return new l(t)},s(c.prototype),k.async=function(t,e,i,r){var o=new c(n(t,e,i,r));return k.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(D),D[b]=function(){return this},D[y]="Generator",D.toString=function(){return"[object Generator]"},k.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},k.values=f,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&v.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=v.call(r,"catchLoc"),s=v.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&v.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?this.next=r.finallyLoc:this.complete(o),E},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),d(n),E}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;d(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:f(t),resultName:e,nextLoc:n},E}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]),/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
function(t,e){function n(t){var e=t.length,n=le.type(t);return le.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=xe[t]={};return le.each(t.match(ue)||[],function(t,n){e[n]=!0}),e}function r(t,n,i,r){if(le.acceptData(t)){var o,a,s=le.expando,l="string"==typeof n,c=t.nodeType,u=c?le.cache:t,h=c?t[s]:t[s]&&s;if(h&&u[h]&&(r||u[h].data)||!l||i!==e)return h||(c?t[s]=h=Z.pop()||le.guid++:h=s),u[h]||(u[h]={},c||(u[h].toJSON=le.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[h]=le.extend(u[h],n):u[h].data=le.extend(u[h].data,n)),o=u[h],r||(o.data||(o.data={}),o=o.data),i!==e&&(o[le.camelCase(n)]=i),l?(a=o[n],null==a&&(a=o[le.camelCase(n)])):a=o,a}}function o(t,e,n){if(le.acceptData(t)){var i,r,o,a=t.nodeType,l=a?le.cache:t,c=a?t[le.expando]:le.expando;if(l[c]){if(e&&(o=n?l[c]:l[c].data)){le.isArray(e)?e=e.concat(le.map(e,le.camelCase)):e in o?e=[e]:(e=le.camelCase(e),e=e in o?[e]:e.split(" "));for(i=0,r=e.length;r>i;i++)delete o[e[i]];if(!(n?s:le.isEmptyObject)(o))return}(n||(delete l[c].data,s(l[c])))&&(a?le.cleanData([t],!0):le.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function a(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(Ce,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Se.test(i)?le.parseJSON(i):i}catch(o){}le.data(t,n,i)}else i=e}return i}function s(t){var e;for(e in t)if(("data"!==e||!le.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function h(t,e,n){if(e=e||0,le.isFunction(e))return le.grep(t,function(t,i){var r=!!e.call(t,i,t);return r===n});if(e.nodeType)return le.grep(t,function(t){return t===e===n});if("string"==typeof e){var i=le.grep(t,function(t){return 1===t.nodeType});if(He.test(e))return le.filter(e,i,!n);e=le.filter(e,i)}return le.grep(t,function(t){return le.inArray(t,e)>=0===n})}function d(t){var e=Ve.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function f(t){var e=t.getAttributeNode("type");return t.type=(e&&e.specified)+"/"+t.type,t}function g(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var n,i=0;null!=(n=t[i]);i++)le._data(n,"globalEval",!e||le._data(e[i],"globalEval"))}function v(t,e){if(1===e.nodeType&&le.hasData(t)){var n,i,r,o=le._data(t),a=le._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)le.event.add(e,n,s[n][i])}a.data&&(a.data=le.extend({},a.data))}}function _(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!le.support.noCloneEvent&&e[le.expando]){r=le._data(e);for(i in r.events)le.removeEvent(e,i,r.handle);e.removeAttribute(le.expando)}"script"===n&&e.text!==t.text?(f(e).text=t.text,g(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),le.support.html5Clone&&t.innerHTML&&!le.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function b(t,n){var i,r,o=0,a=typeof t.getElementsByTagName!==Q?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==Q?t.querySelectorAll(n||"*"):e;if(!a)for(a=[],i=t.childNodes||t;null!=(r=i[o]);o++)!n||le.nodeName(r,n)?a.push(r):le.merge(a,b(r,n));return n===e||n&&le.nodeName(t,n)?le.merge([t],a):a}function y(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function w(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Cn.length;r--;)if(e=Cn[r]+n,e in t)return e;return i}function k(t,e){return t=e||t,"none"===le.css(t,"display")||!le.contains(t.ownerDocument,t)}function x(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=le._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&k(i)&&(o[a]=le._data(i,"olddisplay",E(i.nodeName)))):o[a]||(r=k(i),(n&&"none"!==n||!r)&&le._data(i,"olddisplay",r?n:le.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function S(t,e,n){var i=_n.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function C(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=le.css(t,n+Sn[o],!0,r)),i?("content"===n&&(a-=le.css(t,"padding"+Sn[o],!0,r)),"margin"!==n&&(a-=le.css(t,"border"+Sn[o]+"Width",!0,r))):(a+=le.css(t,"padding"+Sn[o],!0,r),"padding"!==n&&(a+=le.css(t,"border"+Sn[o]+"Width",!0,r)));return a}function T(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=hn(t),a=le.support.boxSizing&&"border-box"===le.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=dn(t,e,o),(0>r||null==r)&&(r=t.style[e]),bn.test(r))return r;i=a&&(le.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+C(t,e,n||(a?"border":"content"),i,o)+"px"}function E(t){var e=K,n=wn[t];return n||(n=D(t,e),"none"!==n&&n||(un=(un||le("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(un[0].contentWindow||un[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=D(t,e),un.detach()),wn[t]=n),n}function D(t,e){var n=le(e.createElement(t)).appendTo(e.body),i=le.css(n[0],"display");return n.remove(),i}function I(t,e,n,i){var r;if(le.isArray(e))le.each(e,function(e,r){n||En.test(t)?i(t,r):I(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==le.type(e))i(t,e);else for(r in e)I(t+"["+r+"]",e[r],n,i)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(ue)||[];if(le.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function A(t,e,n,i){function r(s){var l;return o[s]=!0,le.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=t===Wn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function j(t,n){var i,r,o=le.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);return i&&le.extend(!0,t,i),t}function O(t,n,i){var r,o,a,s,l=t.contents,c=t.dataTypes,u=t.responseFields;for(s in u)s in i&&(n[u[s]]=i[s]);for(;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in i)a=c[0];else{for(s in i){if(!c[0]||t.converters[s+" "+c[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function $(t,e){var n,i,r,o,a={},s=0,l=t.dataTypes.slice(),c=l[0];if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l[1])for(r in t.converters)a[r.toLowerCase()]=t.converters[r];for(;i=l[++s];)if("*"!==i){if("*"!==c&&c!==i){if(r=a[c+" "+i]||a["* "+i],!r)for(n in a)if(o=n.split(" "),o[1]===i&&(r=a[c+" "+o[0]]||a["* "+o[0]])){r===!0?r=a[n]:a[n]!==!0&&(i=o[0],l.splice(s--,0,i));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:e}}function R(){try{return new t.XMLHttpRequest}catch(e){}}function M(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function N(){return setTimeout(function(){Zn=e}),Zn=le.now()}function F(t,e){le.each(e,function(e,n){for(var i=(oi[e]||[]).concat(oi["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(t,e,n))return})}function L(t,e,n){var i,r,o=0,a=ri.length,s=le.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Zn||N(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),1>o&&l?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:le.extend({},e),opts:le.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Zn||N(),duration:n.duration,tweens:[],createTween:function(e,n){var i=le.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),u=c.props;for(B(u,c.opts.specialEasing);a>o;o++)if(i=ri[o].call(c,t,u,c.opts))return i;return F(c,u),le.isFunction(c.opts.start)&&c.opts.start.call(t,c),le.fx.timer(le.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(t,e){var n,i,r,o,a;for(r in t)if(i=le.camelCase(r),o=e[i],n=t[r],le.isArray(n)&&(o=n[1],n=t[r]=n[0]),r!==i&&(t[i]=n,delete t[r]),a=le.cssHooks[i],a&&"expand"in a){n=a.expand(n),delete t[i];for(r in n)r in t||(t[r]=n[r],e[r]=o)}else e[i]=o}function z(t,e,n){var i,r,o,a,s,l,c,u,h,d=this,p=t.style,f={},g=[],m=t.nodeType&&k(t);n.queue||(u=le._queueHooks(t,"fx"),null==u.unqueued&&(u.unqueued=0,h=u.empty.fire,u.empty.fire=function(){u.unqueued||h()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,le.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===le.css(t,"display")&&"none"===le.css(t,"float")&&(le.support.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",le.support.shrinkWrapBlocks||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(a=e[r],ei.exec(a)){if(delete e[r],l=l||"toggle"===a,a===(m?"hide":"show"))continue;g.push(r)}if(o=g.length){s=le._data(t,"fxshow")||le._data(t,"fxshow",{}),"hidden"in s&&(m=s.hidden),l&&(s.hidden=!m),m?le(t).show():d.done(function(){le(t).hide()}),d.done(function(){var e;le._removeData(t,"fxshow");for(e in f)le.style(t,e,f[e])});for(r=0;o>r;r++)i=g[r],c=d.createTween(i,m?s[i]:0),f[i]=s[i]||le.style(t,i),i in s||(s[i]=c.start,m&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function U(t,e,n,i,r){return new U.prototype.init(t,e,n,i,r)}function H(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Sn[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function W(t){return le.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var q,V,Q=typeof e,K=t.document,Y=t.location,G=t.jQuery,J=t.$,X={},Z=[],te="1.9.1",ee=Z.concat,ne=Z.push,ie=Z.slice,re=Z.indexOf,oe=X.toString,ae=X.hasOwnProperty,se=te.trim,le=function(t,e){return new le.fn.init(t,e,V)},ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ue=/\S+/g,he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,de=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^[\],:{}\s]*$/,ge=/(?:^|:|,)(?:\s*\[)+/g,me=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ve=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,_e=/^-ms-/,be=/-([\da-z])/gi,ye=function(t,e){return e.toUpperCase()},we=function(t){(K.addEventListener||"load"===t.type||"complete"===K.readyState)&&(ke(),le.ready())},ke=function(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",we,!1),t.removeEventListener("load",we,!1)):(K.detachEvent("onreadystatechange",we),t.detachEvent("onload",we))};le.fn=le.prototype={jquery:te,constructor:le,init:function(t,n,i){var r,o;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:de.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1]){if(n=n instanceof le?n[0]:n,le.merge(this,le.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:K,!0)),pe.test(r[1])&&le.isPlainObject(n))for(r in n)le.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=K.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(t);this.length=1,this[0]=o}return this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):le.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),le.makeArray(t,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ie.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=le.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return le.each(this,t,e)},ready:function(t){return le.ready.promise().done(t),this},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(le.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:ne,sort:[].sort,splice:[].splice},le.fn.init.prototype=le.fn,le.extend=le.fn.extend=function(){var t,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||le.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)t=s[r],i=o[r],s!==i&&(u&&i&&(le.isPlainObject(i)||(n=le.isArray(i)))?(n?(n=!1,a=t&&le.isArray(t)?t:[]):a=t&&le.isPlainObject(t)?t:{},s[r]=le.extend(u,a,i)):i!==e&&(s[r]=i));return s},le.extend({noConflict:function(e){return t.$===le&&(t.$=J),e&&t.jQuery===le&&(t.jQuery=G),le},isReady:!1,readyWait:1,holdReady:function(t){t?le.readyWait++:le.ready(!0)},ready:function(t){if(t===!0?!--le.readyWait:!le.isReady){if(!K.body)return setTimeout(le.ready);le.isReady=!0,t!==!0&&--le.readyWait>0||(q.resolveWith(K,[le]),le.fn.trigger&&le(K).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===le.type(t)},isArray:Array.isArray||function(t){return"array"===le.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?X[oe.call(t)]||"object":typeof t},isPlainObject:function(t){if(!t||"object"!==le.type(t)||t.nodeType||le.isWindow(t))return!1;try{if(t.constructor&&!ae.call(t,"constructor")&&!ae.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in t);return i===e||ae.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||K;var i=pe.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=le.buildFragment([t],e,r),r&&le(r).remove(),le.merge([],i.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=le.trim(e),e&&fe.test(e.replace(me,"@").replace(ve,"]").replace(ge,"")))?new Function("return "+e)():void le.error("Invalid JSON: "+e)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||le.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&le.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(_e,"ms-").replace(be,ye)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:se&&!se.call("\ufeff\xa0")?function(t){return null==t?"":se.call(t)}:function(t){return null==t?"":(t+"").replace(he,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?le.merge(i,"string"==typeof t?[t]:t):ne.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(re)return re.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[r++]=n[o];else for(;n[o]!==e;)t[r++]=n[o++];return t.length=r,t},grep:function(t,e,n){var i,r=[],o=0,a=t.length;for(n=!!n;a>o;o++)i=!!e(t[o],o),n!==i&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),l=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&(l[l.length]=r);else for(o in t)r=e(t[o],o,i),null!=r&&(l[l.length]=r);return ee.apply([],l)},guid:1,proxy:function(t,n){var i,r,o;return"string"==typeof n&&(o=t[n],n=t,t=o),le.isFunction(t)?(i=ie.call(arguments,2),r=function(){return t.apply(n||this,i.concat(ie.call(arguments)))},r.guid=t.guid=t.guid||le.guid++,r):e},access:function(t,n,i,r,o,a,s){var l=0,c=t.length,u=null==i;if("object"===le.type(i)){o=!0;for(l in i)le.access(t,n,l,i[l],!0,a,s)}else if(r!==e&&(o=!0,le.isFunction(r)||(s=!0),u&&(s?(n.call(t,r),n=null):(u=n,n=function(t,e,n){return u.call(le(t),n)})),n))for(;c>l;l++)n(t[l],i,s?r:r.call(t[l],l,n(t[l],i)));return o?t:u?n.call(t):c?n(t[0],i):a},now:function(){return(new Date).getTime()}}),le.ready.promise=function(e){if(!q)if(q=le.Deferred(),"complete"===K.readyState)setTimeout(le.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",we,!1),t.addEventListener("load",we,!1);else{K.attachEvent("onreadystatechange",we),t.attachEvent("onload",we);var n=!1;try{n=null==t.frameElement&&K.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!le.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}ke(),le.ready()}}()}return q.promise(e)},le.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()}),V=le(K);var xe={};le.Callbacks=function(t){t="string"==typeof t?xe[t]||i(t):le.extend({},t);var n,r,o,a,s,l,c=[],u=!t.once&&[],h=function(e){for(r=t.memory&&e,o=!0,s=l||0,l=0,a=c.length,n=!0;c&&a>s;s++)if(c[s].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&h(u.shift()):r?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function i(e){le.each(e,function(e,n){var r=le.type(n);"function"===r?t.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?a=c.length:r&&(l=e,h(r))}return this},remove:function(){return c&&le.each(arguments,function(t,e){for(var i;(i=le.inArray(e,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(t){return t?le.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=u=r=e,this},disabled:function(){return!c},lock:function(){return u=e,r||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||o&&!u||(n?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},le.extend({Deferred:function(t){var e=[["resolve","done",le.Callbacks("once memory"),"resolved"],["reject","fail",le.Callbacks("once memory"),"rejected"],["notify","progress",le.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return le.Deferred(function(n){le.each(e,function(e,o){var a=o[0],s=le.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&le.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?le.extend(t,i):i}},r={};return i.pipe=i.then,le.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=ie.call(arguments),a=o.length,s=1!==a||t&&le.isFunction(t.promise)?a:0,l=1===s?t:le.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?ie.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&le.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,e)):--s;return s||l.resolveWith(i,o),l.promise()}}),le.support=function(){var e,n,i,r,o,a,s,l,c,u,h=K.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],!n||!i||!n.length)return{};o=K.createElement("select"),s=o.appendChild(K.createElement("option")),r=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!r.value,optSelected:s.selected,enctype:!!K.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===K.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled;try{delete h.test}catch(d){e.deleteExpando=!1}r=K.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=K.createDocumentFragment(),a.appendChild(r),e.appendChecked=r.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),e[u+"Bubbles"]=l in t||h.attributes[l].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip,le(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=K.getElementsByTagName("body")[0];a&&(n=K.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===h.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(h,null)||{width:"4px"}).width,i=h.appendChild(K.createElement("div")),i.style.cssText=h.style.cssText=o,i.style.marginRight=i.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),typeof h.style.zoom!==Q&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=h=r=i=null)}),n=o=a=s=i=r=null,e}();var Se=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ce=/([A-Z])/g;le.extend({cache:{},expando:"jQuery"+(te+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?le.cache[t[le.expando]]:t[le.expando],!!t&&!s(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return o(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&le.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),le.fn.extend({data:function(t,n){var i,r,o=this[0],s=0,l=null;if(t===e){if(this.length&&(l=le.data(o),1===o.nodeType&&!le._data(o,"parsedAttrs"))){for(i=o.attributes;s<i.length;s++)r=i[s].name,r.indexOf("data-")||(r=le.camelCase(r.slice(5)),a(o,r,l[r]));le._data(o,"parsedAttrs",!0)}return l}return"object"==typeof t?this.each(function(){le.data(this,t)}):le.access(this,function(n){return n===e?o?a(o,t,le.data(o,t)):null:void this.each(function(){le.data(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){le.removeData(this,t)})}}),le.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=le._data(t,e),n&&(!i||le.isArray(n)?i=le._data(t,e,le.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=le.queue(t,e),i=n.length,r=n.shift(),o=le._queueHooks(t,e),a=function(){le.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),o.cur=r,r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return le._data(t,n)||le._data(t,n,{empty:le.Callbacks("once memory").add(function(){le._removeData(t,e+"queue"),le._removeData(t,n)})})}}),le.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?le.queue(this[0],t):n===e?this:this.each(function(){var e=le.queue(this,t,n);le._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&le.dequeue(this,t)})},dequeue:function(t){return this.each(function(){le.dequeue(this,t)})},delay:function(t,e){return t=le.fx?le.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,o=le.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";s--;)i=le._data(a[s],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Te,Ee,De=/[\t\r\n]/g,Ie=/\r/g,Pe=/^(?:input|select|textarea|button|object)$/i,Ae=/^(?:a|area)$/i,je=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Oe=/^(?:checked|selected)$/i,$e=le.support.getSetAttribute,Re=le.support.input;le.fn.extend({attr:function(t,e){return le.access(this,le.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){le.removeAttr(this,t)})},prop:function(t,e){return le.access(this,le.prop,t,e,arguments.length>1)},removeProp:function(t){return t=le.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,o,a=0,s=this.length,l="string"==typeof t&&t;if(le.isFunction(t))return this.each(function(e){le(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ue)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=le.trim(i)}return this},removeClass:function(t){var e,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(le.isFunction(t))return this.each(function(e){le(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ue)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?le.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return this.each(le.isFunction(t)?function(n){le(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var r,o=0,a=le(this),s=e,l=t.match(ue)||[];r=l[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else(n===Q||"boolean"===n)&&(this.className&&le._data(this,"__className__",this.className),this.className=this.className||t===!1?"":le._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(De," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,o=this[0];{if(arguments.length)return r=le.isFunction(t),this.each(function(n){var o,a=le(this);1===this.nodeType&&(o=r?t.call(this,n,a.val()):t,null==o?o="":"number"==typeof o?o+="":le.isArray(o)&&(o=le.map(o,function(t){return null==t?"":t+""})),i=le.valHooks[this.type]||le.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==e||(this.value=o))});if(o)return i=le.valHooks[o.type]||le.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(Ie,""):null==n?"":n)}}}),le.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(le.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&le.nodeName(n.parentNode,"optgroup"))){if(e=le(n).val(),o)return e;a.push(e)}return a},set:function(t,e){var n=le.makeArray(e);return le(t).find("option").each(function(){this.selected=le.inArray(le(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attr:function(t,n,i){var r,o,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===Q?le.prop(t,n,i):(o=1!==s||!le.isXMLDoc(t),o&&(n=n.toLowerCase(),r=le.attrHooks[n]||(je.test(n)?Ee:Te)),i===e?r&&o&&"get"in r&&null!==(a=r.get(t,n))?a:(typeof t.getAttribute!==Q&&(a=t.getAttribute(n)),null==a?e:a):null!==i?r&&o&&"set"in r&&(a=r.set(t,i,n))!==e?a:(t.setAttribute(n,i+""),i):void le.removeAttr(t,n))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(ue);if(o&&1===t.nodeType)for(;n=o[r++];)i=le.propFix[n]||n,je.test(n)?!$e&&Oe.test(n)?t[le.camelCase("default-"+n)]=t[i]=!1:t[i]=!1:le.attr(t,n,""),t.removeAttribute($e?n:i)},attrHooks:{type:{set:function(t,e){if(!le.support.radioValue&&"radio"===e&&le.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,n,i){var r,o,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return a=1!==s||!le.isXMLDoc(t),a&&(n=le.propFix[n]||n,o=le.propHooks[n]),i!==e?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:t[n]=i:o&&"get"in o&&null!==(r=o.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){var n=t.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Pe.test(t.nodeName)||Ae.test(t.nodeName)&&t.href?0:e}}}}),Ee={get:function(t,n){var i=le.prop(t,n),r="boolean"==typeof i&&t.getAttribute(n),o="boolean"==typeof i?Re&&$e?null!=r:Oe.test(n)?t[le.camelCase("default-"+n)]:!!r:t.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():e},set:function(t,e,n){return e===!1?le.removeAttr(t,n):Re&&$e||!Oe.test(n)?t.setAttribute(!$e&&le.propFix[n]||n,n):t[le.camelCase("default-"+n)]=t[n]=!0,n}},Re&&$e||(le.attrHooks.value={get:function(t,n){var i=t.getAttributeNode(n);return le.nodeName(t,"input")?t.defaultValue:i&&i.specified?i.value:e},set:function(t,e,n){return le.nodeName(t,"input")?void(t.defaultValue=e):Te&&Te.set(t,e,n)}}),$e||(Te=le.valHooks.button={get:function(t,n){var i=t.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:e},set:function(t,n,i){var r=t.getAttributeNode(i);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===t.getAttribute(i)?n:e}},le.attrHooks.contenteditable={get:Te.get,set:function(t,e,n){Te.set(t,""===e?!1:e,n)
}},le.each(["width","height"],function(t,e){le.attrHooks[e]=le.extend(le.attrHooks[e],{set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}})})),le.support.hrefNormalized||(le.each(["href","src","width","height"],function(t,n){le.attrHooks[n]=le.extend(le.attrHooks[n],{get:function(t){var i=t.getAttribute(n,2);return null==i?e:i}})}),le.each(["href","src"],function(t,e){le.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),le.support.style||(le.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),le.support.optSelected||(le.propHooks.selected=le.extend(le.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),le.support.enctype||(le.propFix.enctype="encoding"),le.support.checkOn||le.each(["radio","checkbox"],function(){le.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),le.each(["radio","checkbox"],function(){le.valHooks[this]=le.extend(le.valHooks[this],{set:function(t,e){return le.isArray(e)?t.checked=le.inArray(le(t).val(),e)>=0:void 0}})});var Me=/^(?:input|select|textarea)$/i,Ne=/^key/,Fe=/^(?:mouse|contextmenu)|click/,Le=/^(?:focusinfocus|focusoutblur)$/,Be=/^([^.]*)(?:\.(.+)|)$/;le.event={global:{},add:function(t,n,i,r,o){var a,s,l,c,u,h,d,p,f,g,m,v=le._data(t);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=le.guid++),(s=v.events)||(s=v.events={}),(h=v.handle)||(h=v.handle=function(t){return typeof le===Q||t&&le.event.triggered===t.type?e:le.event.dispatch.apply(h.elem,arguments)},h.elem=t),n=(n||"").match(ue)||[""],l=n.length;l--;)a=Be.exec(n[l])||[],f=m=a[1],g=(a[2]||"").split(".").sort(),u=le.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=le.event.special[f]||{},d=le.extend({type:f,origType:m,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&le.expr.match.needsContext.test(o),namespace:g.join(".")},c),(p=s[f])||(p=s[f]=[],p.delegateCount=0,u.setup&&u.setup.call(t,r,g,h)!==!1||(t.addEventListener?t.addEventListener(f,h,!1):t.attachEvent&&t.attachEvent("on"+f,h))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),le.event.global[f]=!0;t=null}},remove:function(t,e,n,i,r){var o,a,s,l,c,u,h,d,p,f,g,m=le.hasData(t)&&le._data(t);if(m&&(u=m.events)){for(e=(e||"").match(ue)||[""],c=e.length;c--;)if(s=Be.exec(e[c])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(h=le.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,h.remove&&h.remove.call(t,a));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||le.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)le.event.remove(t,p+e[c],n,i,!0);le.isEmptyObject(u)&&(delete m.handle,le._removeData(t,"events"))}},trigger:function(n,i,r,o){var a,s,l,c,u,h,d,p=[r||K],f=ae.call(n,"type")?n.type:n,g=ae.call(n,"namespace")?n.namespace.split("."):[];if(l=h=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!Le.test(f+le.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),s=f.indexOf(":")<0&&"on"+f,n=n[le.expando]?n:new le.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=r),i=null==i?[n]:le.makeArray(i,[n]),u=le.event.special[f]||{},o||!u.trigger||u.trigger.apply(r,i)!==!1)){if(!o&&!u.noBubble&&!le.isWindow(r)){for(c=u.delegateType||f,Le.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(r.ownerDocument||K)&&p.push(h.defaultView||h.parentWindow||t)}for(d=0;(l=p[d++])&&!n.isPropagationStopped();)n.type=d>1?c:u.bindType||f,a=(le._data(l,"events")||{})[n.type]&&le._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&le.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!(o||n.isDefaultPrevented()||u._default&&u._default.apply(r.ownerDocument,i)!==!1||"click"===f&&le.nodeName(r,"a")||!le.acceptData(r)||!s||!r[f]||le.isWindow(r))){h=r[s],h&&(r[s]=null),le.event.triggered=f;try{r[f]()}catch(m){}le.event.triggered=e,h&&(r[s]=h)}return n.result}},dispatch:function(t){t=le.event.fix(t);var n,i,r,o,a,s=[],l=ie.call(arguments),c=(le._data(this,"events")||{})[t.type]||[],u=le.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=le.event.handlers.call(this,t,c),n=0;(o=s[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((le.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==e&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,r,o,a,s=[],l=n.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(o=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",o[i]===e&&(o[i]=r.needsContext?le(i,this).index(c)>=0:le.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(t){if(t[le.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Fe.test(r)?this.mouseHooks:Ne.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new le.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||K),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,o,a=n.button,s=n.fromElement;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||K,o=r.documentElement,i=r.body,t.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?n.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},click:{trigger:function(){return le.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==K.activeElement&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===K.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=le.extend(new le.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?le.event.trigger(r,null,e):le.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},le.removeEvent=K.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Q&&(t[i]=null),t.detachEvent(i,n))},le.Event=function(t,e){return this instanceof le.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,e&&le.extend(this,e),this.timeStamp=t&&t.timeStamp||le.now(),void(this[le.expando]=!0)):new le.Event(t,e)},le.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},le.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){le.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!le.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),le.support.submitBubbles||(le.event.special.submit={setup:function(){return le.nodeName(this,"form")?!1:void le.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=le.nodeName(n,"input")||le.nodeName(n,"button")?n.form:e;i&&!le._data(i,"submitBubbles")&&(le.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),le._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&le.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return le.nodeName(this,"form")?!1:void le.event.remove(this,"._submit")}}),le.support.changeBubbles||(le.event.special.change={setup:function(){return Me.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(le.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),le.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),le.event.simulate("change",this,t,!0)})),!1):void le.event.add(this,"beforeactivate._change",function(t){var e=t.target;Me.test(e.nodeName)&&!le._data(e,"changeBubbles")&&(le.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||le.event.simulate("change",this.parentNode,t,!0)}),le._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return le.event.remove(this,"._change"),!Me.test(this.nodeName)}}),le.support.focusinBubbles||le.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){le.event.simulate(e,t.target,le.event.fix(t),!0)};le.event.special[e]={setup:function(){0===n++&&K.addEventListener(t,i,!0)},teardown:function(){0===--n&&K.removeEventListener(t,i,!0)}}}),le.fn.extend({on:function(t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(a in t)this.on(a,n,i,t[a],o);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(t){return le().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=le.guid++)),this.each(function(){le.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,le(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=c),this.each(function(){le.event.remove(this,t,i,n)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},trigger:function(t,e){return this.each(function(){le.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?le.event.trigger(t,e,n,!0):void 0}}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(t,e){function n(t){return fe.test(t+"")}function i(){var t,e=[];return t=function(n,i){return e.push(n+=" ")>S.cacheLength&&delete t[e.shift()],t[n]=i}}function r(t){return t[L]=!0,t}function o(t){var e=A.createElement("div");try{return t(e)}catch(n){return!1}finally{e=null}}function a(t,e,n,i){var r,o,a,s,l,c,u,p,f,g;if((e?e.ownerDocument||e:B)!==A&&P(e),e=e||A,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(!O&&!i){if(r=ge.exec(t))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&N(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return J.apply(n,X.call(e.getElementsByTagName(t),0)),n;if((a=r[3])&&z.getByClassName&&e.getElementsByClassName)return J.apply(n,X.call(e.getElementsByClassName(a),0)),n}if(z.qsa&&!$.test(t)){if(u=!0,p=L,f=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=h(t),(u=e.getAttribute("id"))?p=u.replace(_e,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=pe.test(t)&&e.parentNode||e,g=c.join(",")}if(g)try{return J.apply(n,X.call(f.querySelectorAll(g),0)),n}catch(m){}finally{u||e.removeAttribute("id")}}}return y(t.replace(ae,"$1"),e,n,i)}function s(t,e){var n=e&&t,i=n&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function h(t,e){var n,i,r,o,s,l,c,u=q[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=S.preFilter;s;){(!n||(i=se.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=ce.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ae," ")}),s=s.slice(n.length));for(o in S.filter)!(i=de[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?a.error(t):q(t,l).slice(0)}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,c,u=U+" "+o;if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(c=e[L]||(e[L]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===x)return s===!0}else if(l=c[i]=[u],l[1]=t(e,n,a)||x,l[1]===!0)return!0}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),c&&e.push(s));return a}function m(t,e,n,i,o,a){return i&&!i[L]&&(i=m(i)),o&&!o[L]&&(o=m(o,a)),r(function(r,a,s,l){var c,u,h,d=[],p=[],f=a.length,m=r||b(e||"*",s.nodeType?[s]:s,[]),v=!t||!r&&e?m:g(m,d,t,s,l),_=n?o||(r?t:f||i)?[]:a:v;if(n&&n(v,_,s,l),i)for(c=g(_,p),i(c,[],s,l),u=c.length;u--;)(h=c[u])&&(_[p[u]]=!(v[p[u]]=h));if(r){if(o||t){if(o){for(c=[],u=_.length;u--;)(h=_[u])&&c.push(v[u]=h);o(null,_=[],c,l)}for(u=_.length;u--;)(h=_[u])&&(c=o?Z.call(r,h):d[u])>-1&&(r[c]=!(a[c]=h))}}else _=g(_===a?_.splice(f,_.length):_),o?o(null,a,_,l):J.apply(a,_)})}function v(t){for(var e,n,i,r=t.length,o=S.relative[t[0].type],a=o||S.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),c=p(function(t){return Z.call(e,t)>-1},a,!0),u=[function(t,n,i){return!o&&(i||n!==I)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];r>s;s++)if(n=S.relative[t[s].type])u=[p(f(u),n)];else{if(n=S.filter[t[s].type].apply(null,t[s].matches),n[L]){for(i=++s;r>i&&!S.relative[t[i].type];i++);return m(s>1&&f(u),s>1&&d(t.slice(0,s-1)).replace(ae,"$1"),n,i>s&&v(t.slice(s,i)),r>i&&v(t=t.slice(i)),r>i&&d(t))}u.push(n)}return f(u)}function _(t,e){var n=0,i=e.length>0,o=t.length>0,s=function(r,s,l,c,u){var h,d,p,f=[],m=0,v="0",_=r&&[],b=null!=u,y=I,w=r||o&&S.find.TAG("*",u&&s.parentNode||s),k=U+=null==y?1:Math.random()||.1;for(b&&(I=s!==A&&s,x=n);null!=(h=w[v]);v++){if(o&&h){for(d=0;p=t[d++];)if(p(h,s,l)){c.push(h);break}b&&(U=k,x=++n)}i&&((h=!p&&h)&&m--,r&&_.push(h))}if(m+=v,i&&v!==m){for(d=0;p=e[d++];)p(_,f,s,l);if(r){if(m>0)for(;v--;)_[v]||f[v]||(f[v]=G.call(c));f=g(f)}J.apply(c,f),b&&!r&&f.length>0&&m+e.length>1&&a.uniqueSort(c)}return b&&(U=k,I=y),_};return i?r(s):s}function b(t,e,n){for(var i=0,r=e.length;r>i;i++)a(t,e[i],n);return n}function y(t,e,n,i){var r,o,a,s,l,c=h(t);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&!O&&S.relative[o[1].type]){if(e=S.find.ID(a.matches[0].replace(ye,we),e)[0],!e)return n;t=t.slice(o.shift().value.length)}for(r=de.needsContext.test(t)?0:o.length;r--&&(a=o[r],!S.relative[s=a.type]);)if((l=S.find[s])&&(i=l(a.matches[0].replace(ye,we),pe.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return J.apply(n,X.call(i,0)),n;break}}return E(t,c)(i,e,O,n,pe.test(t)),n}function w(){}var k,x,S,C,T,E,D,I,P,A,j,O,$,R,M,N,F,L="sizzle"+-new Date,B=t.document,z={},U=0,H=0,W=i(),q=i(),V=i(),Q=typeof e,K=1<<31,Y=[],G=Y.pop,J=Y.push,X=Y.slice,Z=Y.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},te="[\\x20\\t\\r\\n\\f]",ee="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=ee.replace("w","w#"),ie="([*^$|!~]?=)",re="\\["+te+"*("+ee+")"+te+"*(?:"+ie+te+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ne+")|)|)"+te+"*\\]",oe=":("+ee+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+re.replace(3,8)+")*)|.*)\\)|)",ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),se=new RegExp("^"+te+"*,"+te+"*"),ce=new RegExp("^"+te+"*([\\x20\\t\\r\\n\\f>+~])"+te+"*"),ue=new RegExp(oe),he=new RegExp("^"+ne+"$"),de={ID:new RegExp("^#("+ee+")"),CLASS:new RegExp("^\\.("+ee+")"),NAME:new RegExp("^\\[name=['\"]?("+ee+")['\"]?\\]"),TAG:new RegExp("^("+ee.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/[\x20\t\r\n\f]*[+~]/,fe=/^[^{]+\{\s*\[native code/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,_e=/'|\\/g,be=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ye=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,we=function(t,e){var n="0x"+e-65536;return n!==n?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{X.call(B.documentElement.childNodes,0)[0].nodeType}catch(ke){X=function(t){for(var e,n=[];e=this[t++];)n.push(e);return n}}T=a.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},P=a.setDocument=function(t){var i=t?t.ownerDocument||t:B;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,j=i.documentElement,O=T(i),z.tagNameNoComments=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),z.attributes=o(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),z.getByClassName=o(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),z.getByName=o(function(t){t.id=L+0,t.innerHTML="<a name='"+L+"'></a><div name='"+L+"'></div>",j.insertBefore(t,j.firstChild);var e=i.getElementsByName&&i.getElementsByName(L).length===2+i.getElementsByName(L+0).length;return z.getIdNotName=!i.getElementById(L),j.removeChild(t),e}),S.attrHandle=o(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==Q&&"#"===t.firstChild.getAttribute("href")})?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},z.getIdNotName?(S.find.ID=function(t,e){if(typeof e.getElementById!==Q&&!O){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(t){var e=t.replace(ye,we);return function(t){return t.getAttribute("id")===e}}):(S.find.ID=function(t,n){if(typeof n.getElementById!==Q&&!O){var i=n.getElementById(t);return i?i.id===t||typeof i.getAttributeNode!==Q&&i.getAttributeNode("id").value===t?[i]:e:[]}},S.filter.ID=function(t){var e=t.replace(ye,we);return function(t){var n=typeof t.getAttributeNode!==Q&&t.getAttributeNode("id");return n&&n.value===e}}),S.find.TAG=z.tagNameNoComments?function(t,e){return typeof e.getElementsByTagName!==Q?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},S.find.NAME=z.getByName&&function(t,e){return typeof e.getElementsByName!==Q?e.getElementsByName(name):void 0},S.find.CLASS=z.getByClassName&&function(t,e){return typeof e.getElementsByClassName===Q||O?void 0:e.getElementsByClassName(t)},R=[],$=[":focus"],(z.qsa=n(i.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||$.push("\\["+te+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||$.push(":checked")}),o(function(t){t.innerHTML="<input type='hidden' i=''/>",t.querySelectorAll("[i^='']").length&&$.push("[*^$]="+te+"*(?:\"\"|'')"),t.querySelectorAll(":enabled").length||$.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),$.push(",.*:")})),(z.matchesSelector=n(M=j.matchesSelector||j.mozMatchesSelector||j.webkitMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&o(function(t){z.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),R.push("!=",oe)}),$=new RegExp($.join("|")),R=new RegExp(R.join("|")),N=n(j.contains)||j.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},F=j.compareDocumentPosition?function(t,e){var n;return t===e?(D=!0,0):(n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e))?1&n||t.parentNode&&11===t.parentNode.nodeType?t===i||N(B,t)?-1:e===i||N(B,e)?1:0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,r=0,o=t.parentNode,a=e.parentNode,l=[t],c=[e];if(t===e)return D=!0,0;if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===B?-1:c[r]===B?1:0},D=!1,[0,0].sort(F),z.detectDuplicates=D,A):A},a.matches=function(t,e){return a(t,null,null,e)},a.matchesSelector=function(t,e){if((t.ownerDocument||t)!==A&&P(t),e=e.replace(be,"='$1']"),!(!z.matchesSelector||O||R&&R.test(e)||$.test(e)))try{var n=M.call(t,e);if(n||z.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(i){}return a(e,A,null,[t]).length>0},a.contains=function(t,e){return(t.ownerDocument||t)!==A&&P(t),N(t,e)},a.attr=function(t,e){var n;return(t.ownerDocument||t)!==A&&P(t),O||(e=e.toLowerCase()),(n=S.attrHandle[e])?n(t):O||z.attributes?t.getAttribute(e):((n=t.getAttributeNode(e))||t.getAttribute(e))&&t[e]===!0?e:n&&n.specified?n.value:null},a.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},a.uniqueSort=function(t){var e,n=[],i=1,r=0;if(D=!z.detectDuplicates,t.sort(F),D){for(;e=t[i];i++)e===t[i-1]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},C=a.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=C(e);return n},S=a.selectors={cacheLength:50,createPseudo:r,match:de,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ye,we),t[3]=(t[4]||t[5]||"").replace(ye,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||a.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&a.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return de.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:n&&ue.test(n)&&(e=h(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(ye,we).toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+te+")"+t+"("+te+"|$)"))&&W(t,function(t){return e.test(t.className||typeof t.getAttribute!==Q&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=a.attr(i,t);return null==r?"!="===e:e?(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),_=!l&&!s;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&_){for(u=m[L]||(m[L]={}),c=u[t]||[],p=c[0]===U&&c[1],d=c[0]===U&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[U,p,d];break}}else if(_&&(c=(e[L]||(e[L]={}))[t])&&c[0]===U)d=c[1];else for(;(h=++p&&h&&h[g]||(d=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(_&&((h[L]||(h[L]={}))[t]=[U,d]),h!==e)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,e){var n,i=S.pseudos[t]||S.setFilters[t.toLowerCase()]||a.error("unsupported pseudo: "+t);return i[L]?i(e):i.length>1?(n=[t,t,"",e],S.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)r=Z.call(t,o[a]),t[r]=!(n[r]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:r(function(t){var e=[],n=[],i=E(t.replace(ae,"$1"));return i[L]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(e){return a(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:r(function(t){return he.test(t||"")||a.error("unsupported lang: "+t),t=t.replace(ye,we).toLowerCase(),function(e){var n;do if(n=O?e.getAttribute("xml:lang")||e.getAttribute("lang"):e.lang)return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===j},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return ve.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}};for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[k]=l(k);for(k in{submit:!0,reset:!0})S.pseudos[k]=c(k);E=a.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=h(t)),n=e.length;n--;)o=v(e[n]),o[L]?i.push(o):r.push(o);o=V(t,_(r,i))}return o},S.pseudos.nth=S.pseudos.eq,S.filters=w.prototype=S.pseudos,S.setFilters=new w,P(),a.attr=le.attr,le.find=a,le.expr=a.selectors,le.expr[":"]=le.expr.pseudos,le.unique=a.uniqueSort,le.text=a.getText,le.isXMLDoc=a.isXML,le.contains=a.contains}(t);var ze=/Until$/,Ue=/^(?:parents|prev(?:Until|All))/,He=/^.[^:#\[\.,]*$/,We=le.expr.match.needsContext,qe={children:!0,contents:!0,next:!0,prev:!0};le.fn.extend({find:function(t){var e,n,i,r=this.length;if("string"!=typeof t)return i=this,this.pushStack(le(t).filter(function(){for(e=0;r>e;e++)if(le.contains(i[e],this))return!0}));for(n=[],e=0;r>e;e++)le.find(t,this[e],n);return n=this.pushStack(r>1?le.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+t,n},has:function(t){var e,n=le(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(le.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(h(this,t,!1))},filter:function(t){return this.pushStack(h(this,t,!0))},is:function(t){return!!t&&("string"==typeof t?We.test(t)?le(t,this.context).index(this[0])>=0:le.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=We.test(t)||"string"!=typeof t?le(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==e&&11!==n.nodeType;){if(a?a.index(n)>-1:le.find.matchesSelector(n,t)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?le.unique(o):o)},index:function(t){return t?"string"==typeof t?le.inArray(this[0],le(t)):le.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?le(t,e):le.makeArray(t&&t.nodeType?[t]:t),i=le.merge(this.get(),n);return this.pushStack(le.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),le.fn.andSelf=le.fn.addBack,le.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return le.dir(t,"parentNode")},parentsUntil:function(t,e,n){return le.dir(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return le.dir(t,"nextSibling")},prevAll:function(t){return le.dir(t,"previousSibling")},nextUntil:function(t,e,n){return le.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return le.dir(t,"previousSibling",n)},siblings:function(t){return le.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return le.sibling(t.firstChild)},contents:function(t){return le.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:le.merge([],t.childNodes)}},function(t,e){le.fn[t]=function(n,i){var r=le.map(this,e,n);return ze.test(t)||(i=n),i&&"string"==typeof i&&(r=le.filter(i,r)),r=this.length>1&&!qe[t]?le.unique(r):r,this.length>1&&Ue.test(t)&&(r=r.reverse()),this.pushStack(r)}}),le.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?le.find.matchesSelector(e[0],t)?[e[0]]:[]:le.find.matches(t,e)},dir:function(t,n,i){for(var r=[],o=t[n];o&&9!==o.nodeType&&(i===e||1!==o.nodeType||!le(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qe=/ jQuery\d+="(?:null|\d+)"/g,Ke=new RegExp("<(?:"+Ve+")[\\s/>]","i"),Ye=/^\s+/,Ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Je=/<([\w:]+)/,Xe=/<tbody/i,Ze=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:le.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=d(K),cn=ln.appendChild(K.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,le.fn.extend({text:function(t){return le.access(this,function(t){return t===e?le.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(le.isFunction(t))return this.each(function(e){le(this).wrapAll(t.call(this,e))});if(this[0]){var e=le(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(le.isFunction(t)?function(e){le(this).wrapInner(t.call(this,e))}:function(){var e=le(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=le.isFunction(t);return this.each(function(n){le(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){le.nodeName(this,"body")||le(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=0;null!=(n=this[i]);i++)(!t||le.filter(t,[n]).length>0)&&(e||1!==n.nodeType||le.cleanData(b(n)),n.parentNode&&(e&&le.contains(n.ownerDocument,n)&&m(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&le.cleanData(b(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&le.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return le.clone(this,t,e)})},html:function(t){return le.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(Qe,""):e;if(!("string"!=typeof t||tn.test(t)||!le.support.htmlSerialize&&Ke.test(t)||!le.support.leadingWhitespace&&Ye.test(t)||sn[(Je.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ge,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(le.cleanData(b(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){var e=le.isFunction(t);return e||"string"==typeof t||(t=le(t).not(this).detach()),this.domManip([t],!0,function(t){var e=this.nextSibling,n=this.parentNode;n&&(le(this).remove(),n.insertBefore(t,e))})},detach:function(t){return this.remove(t,!0)},domManip:function(t,n,i){t=ee.apply([],t);var r,o,a,s,l,c,u=0,h=this.length,d=this,m=h-1,v=t[0],_=le.isFunction(v);if(_||!(1>=h||"string"!=typeof v||le.support.checkClone)&&nn.test(v))return this.each(function(r){var o=d.eq(r);_&&(t[0]=v.call(this,r,n?o.html():e)),o.domManip(t,n,i)});if(h&&(c=le.buildFragment(t,this[0].ownerDocument,!1,this),r=c.firstChild,1===c.childNodes.length&&(c=r),r)){for(n=n&&le.nodeName(r,"tr"),s=le.map(b(c,"script"),f),a=s.length;h>u;u++)o=c,u!==m&&(o=le.clone(o,!0,!0),a&&le.merge(s,b(o,"script"))),i.call(n&&le.nodeName(this[u],"table")?p(this[u],"tbody"):this[u],o,u);if(a)for(l=s[s.length-1].ownerDocument,le.map(s,g),u=0;a>u;u++)o=s[u],rn.test(o.type||"")&&!le._data(o,"globalEval")&&le.contains(l,o)&&(o.src?le.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):le.globalEval((o.text||o.textContent||o.innerHTML||"").replace(an,"")));c=r=null}return this}}),le.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){le.fn[t]=function(t){for(var n,i=0,r=[],o=le(t),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),le(o[i])[e](n),ne.apply(r,n.get());return this.pushStack(r)}}),le.extend({clone:function(t,e,n){var i,r,o,a,s,l=le.contains(t.ownerDocument,t);if(le.support.html5Clone||le.isXMLDoc(t)||!Ke.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(cn.innerHTML=t.outerHTML,cn.removeChild(o=cn.firstChild)),!(le.support.noCloneEvent&&le.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||le.isXMLDoc(t)))for(i=b(o),s=b(t),a=0;null!=(r=s[a]);++a)i[a]&&_(r,i[a]);if(e)if(n)for(s=s||b(t),i=i||b(o),a=0;null!=(r=s[a]);a++)v(r,i[a]);else v(t,o);return i=b(o,"script"),i.length>0&&m(i,!l&&b(t,"script")),i=s=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,a,s,l,c,u,h=t.length,p=d(e),f=[],g=0;h>g;g++)if(o=t[g],o||0===o)if("object"===le.type(o))le.merge(f,o.nodeType?[o]:o);else if(Ze.test(o)){for(s=s||p.appendChild(e.createElement("div")),l=(Je.exec(o)||["",""])[1].toLowerCase(),u=sn[l]||sn._default,s.innerHTML=u[1]+o.replace(Ge,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!le.support.leadingWhitespace&&Ye.test(o)&&f.push(e.createTextNode(Ye.exec(o)[0])),!le.support.tbody)for(o="table"!==l||Xe.test(o)?"<table>"!==u[1]||Xe.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)le.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(le.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(e.createTextNode(o));for(s&&p.removeChild(s),le.support.appendChecked||le.grep(b(f,"input"),y),g=0;o=f[g++];)if((!i||-1===le.inArray(o,i))&&(a=le.contains(o.ownerDocument,o),s=b(p.appendChild(o),"script"),a&&m(s),n))for(r=0;o=s[r++];)rn.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(t,e){for(var n,i,r,o,a=0,s=le.expando,l=le.cache,c=le.support.deleteExpando,u=le.event.special;null!=(n=t[a]);a++)if((e||le.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?le.event.remove(n,i):le.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==Q?n.removeAttribute(s):n[s]=null,Z.push(r))}}});var un,hn,dn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,_n=new RegExp("^("+ce+")(.*)$","i"),bn=new RegExp("^("+ce+")(?!px)[a-z%]+$","i"),yn=new RegExp("^([+-])=("+ce+")","i"),wn={BODY:"block"},kn={position:"absolute",visibility:"hidden",display:"block"},xn={letterSpacing:0,fontWeight:400},Sn=["Top","Right","Bottom","Left"],Cn=["Webkit","O","Moz","ms"];le.fn.extend({css:function(t,n){return le.access(this,function(t,n,i){var r,o,a={},s=0;if(le.isArray(n)){for(o=hn(t),r=n.length;r>s;s++)a[n[s]]=le.css(t,n[s],!1,o);return a}return i!==e?le.style(t,n,i):le.css(t,n)},t,n,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:k(this))?le(this).show():le(this).hide()})}}),le.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=dn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":le.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,l=le.camelCase(n),c=t.style;if(n=le.cssProps[l]||(le.cssProps[l]=w(c,l)),s=le.cssHooks[n]||le.cssHooks[l],i===e)return s&&"get"in s&&(o=s.get(t,!1,r))!==e?o:c[n];if(a=typeof i,"string"===a&&(o=yn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(le.css(t,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||le.cssNumber[l]||(i+="px"),le.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(i=s.set(t,i,r))===e)))try{c[n]=i}catch(u){}}},css:function(t,n,i,r){var o,a,s,l=le.camelCase(n);return n=le.cssProps[l]||(le.cssProps[l]=w(t.style,l)),s=le.cssHooks[n]||le.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,i)),a===e&&(a=dn(t,n,r)),"normal"===a&&n in xn&&(a=xn[n]),""===i||i?(o=parseFloat(a),i===!0||le.isNumeric(o)?o||0:a):a},swap:function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r}}),t.getComputedStyle?(hn=function(e){return t.getComputedStyle(e,null)},dn=function(t,n,i){var r,o,a,s=i||hn(t),l=s?s.getPropertyValue(n)||s[n]:e,c=t.style;return s&&(""!==l||le.contains(t.ownerDocument,t)||(l=le.style(t,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l}):K.documentElement.currentStyle&&(hn=function(t){return t.currentStyle},dn=function(t,n,i){var r,o,a,s=i||hn(t),l=s?s[n]:e,c=t.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!gn.test(n)&&(r=c.left,o=t.runtimeStyle,a=o&&o.left,a&&(o.left=t.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(o.left=a)),""===l?"auto":l}),le.each(["height","width"],function(t,e){le.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&mn.test(le.css(t,"display"))?le.swap(t,kn,function(){return T(t,e,i)}):T(t,e,i):void 0},set:function(t,n,i){var r=i&&hn(t);return S(t,n,i?C(t,e,i,le.support.boxSizing&&"border-box"===le.css(t,"boxSizing",!1,r),r):0)}}}),le.support.opacity||(le.cssHooks.opacity={get:function(t,e){return fn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=le.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===le.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),le(function(){le.support.reliableMarginRight||(le.cssHooks.marginRight={get:function(t,e){return e?le.swap(t,{display:"inline-block"},dn,[t,"marginRight"]):void 0}}),!le.support.pixelPosition&&le.fn.position&&le.each(["top","left"],function(t,e){le.cssHooks[e]={get:function(t,n){return n?(n=dn(t,e),bn.test(n)?le(t).position()[e]+"px":n):void 0}}})}),le.expr&&le.expr.filters&&(le.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!le.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||le.css(t,"display"))},le.expr.filters.visible=function(t){return!le.expr.filters.hidden(t)}),le.each({margin:"",padding:"",border:"Width"},function(t,e){le.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Sn[i]+e]=o[i]||o[i-2]||o[0];return r}},vn.test(t)||(le.cssHooks[t+e].set=S)});var Tn=/%20/g,En=/\[\]$/,Dn=/\r?\n/g,In=/^(?:submit|button|image|reset|file)$/i,Pn=/^(?:input|select|textarea|keygen)/i;le.fn.extend({serialize:function(){return le.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=le.prop(this,"elements");return t?le.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!le(this).is(":disabled")&&Pn.test(this.nodeName)&&!In.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=le(this).val();return null==n?null:le.isArray(n)?le.map(n,function(t){return{name:e.name,value:t.replace(Dn,"\r\n")}}):{name:e.name,value:n.replace(Dn,"\r\n")}}).get()}}),le.param=function(t,n){var i,r=[],o=function(t,e){e=le.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)
};if(n===e&&(n=le.ajaxSettings&&le.ajaxSettings.traditional),le.isArray(t)||t.jquery&&!le.isPlainObject(t))le.each(t,function(){o(this.name,this.value)});else for(i in t)I(i,t[i],n,o);return r.join("&").replace(Tn,"+")},le.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){le.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),le.fn.hover=function(t,e){return this.mouseenter(t).mouseleave(e||t)};var An,jn,On=le.now(),$n=/\?/,Rn=/#.*$/,Mn=/([?&])_=[^&]*/,Nn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ln=/^(?:GET|HEAD)$/,Bn=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Un=le.fn.load,Hn={},Wn={},qn="*/".concat("*");try{jn=Y.href}catch(Vn){jn=K.createElement("a"),jn.href="",jn=jn.href}An=zn.exec(jn.toLowerCase())||[],le.fn.load=function(t,n,i){if("string"!=typeof t&&Un)return Un.apply(this,arguments);var r,o,a,s=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),le.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(a="POST"),s.length>0&&le.ajax({url:t,type:a,dataType:"html",data:n}).done(function(t){o=arguments,s.html(r?le("<div>").append(le.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){s.each(i,o||[t.responseText,e,t])}),this},le.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){le.fn[e]=function(t){return this.on(e,t)}}),le.each(["get","post"],function(t,n){le[n]=function(t,i,r,o){return le.isFunction(i)&&(o=o||r,r=i,i=e),le.ajax({url:t,type:n,dataType:o,data:i,success:r})}}),le.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn,type:"GET",isLocal:Fn.test(An[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":le.parseJSON,"text xml":le.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,le.ajaxSettings),e):j(le.ajaxSettings,t)},ajaxPrefilter:P(Hn),ajaxTransport:P(Wn),ajax:function(t,n){function i(t,n,i,r){var o,h,_,b,w,x=n;2!==y&&(y=2,l&&clearTimeout(l),u=e,s=r||"",k.readyState=t>0?4:0,i&&(b=O(d,k,i)),t>=200&&300>t||304===t?(d.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(le.lastModified[a]=w),w=k.getResponseHeader("etag"),w&&(le.etag[a]=w)),204===t?(o=!0,x="nocontent"):304===t?(o=!0,x="notmodified"):(o=$(d,b),x=o.state,h=o.data,_=o.error,o=!_)):(_=x,(t||!x)&&(x="error",0>t&&(t=0))),k.status=t,k.statusText=(n||x)+"",o?g.resolveWith(p,[h,x,k]):g.rejectWith(p,[k,x,_]),k.statusCode(v),v=e,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[k,d,o?h:_]),m.fireWith(p,[k,x]),c&&(f.trigger("ajaxComplete",[k,d]),--le.active||le.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,o,a,s,l,c,u,h,d=le.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?le(p):le.event,g=le.Deferred(),m=le.Callbacks("once memory"),v=d.statusCode||{},_={},b={},y=0,w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!h)for(h={};e=Nn.exec(s);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=b[n]=b[n]||t,_[t]=e),this},overrideMimeType:function(t){return y||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)v[e]=[v[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||w;return u&&u.abort(e),i(0,e),this}};if(g.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,d.url=((t||d.url||jn)+"").replace(Rn,"").replace(Bn,An[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=le.trim(d.dataType||"*").toLowerCase().match(ue)||[""],null==d.crossDomain&&(r=zn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===An[1]&&r[2]===An[2]&&(r[3]||("http:"===r[1]?80:443))==(An[3]||("http:"===An[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=le.param(d.data,d.traditional)),A(Hn,d,n,k),2===y)return k;c=d.global,c&&0===le.active++&&le.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ln.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=($n.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Mn.test(a)?a.replace(Mn,"$1_="+On++):a+($n.test(a)?"&":"?")+"_="+On++)),d.ifModified&&(le.lastModified[a]&&k.setRequestHeader("If-Modified-Since",le.lastModified[a]),le.etag[a]&&k.setRequestHeader("If-None-Match",le.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)k.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,k,d)===!1||2===y))return k.abort();w="abort";for(o in{success:1,error:1,complete:1})k[o](d[o]);if(u=A(Wn,d,n,k)){k.readyState=1,c&&f.trigger("ajaxSend",[k,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},d.timeout));try{y=1,u.send(_,i)}catch(x){if(!(2>y))throw x;i(-1,x)}}else i(-1,"No Transport");return k},getScript:function(t,n){return le.get(t,e,n,"script")},getJSON:function(t,e,n){return le.get(t,e,n,"json")}}),le.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return le.globalEval(t),t}}}),le.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),le.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=K.head||le("head")[0]||K.documentElement;return{send:function(e,r){n=K.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var Qn=[],Kn=/(=)\?(?=&|$)|\?\?/;le.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qn.pop()||le.expando+"_"+On++;return this[t]=!0,t}}),le.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(Kn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=le.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Kn,"$1"+o):n.jsonp!==!1&&(n.url+=($n.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||le.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=t[o],t[o]=function(){s=arguments},r.always(function(){t[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Qn.push(o)),s&&le.isFunction(a)&&a(s[0]),s=a=e}),"script"):void 0});var Yn,Gn,Jn=0,Xn=t.ActiveXObject&&function(){var t;for(t in Yn)Yn[t](e,!0)};le.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&R()||M()}:R,Gn=le.ajaxSettings.xhr(),le.support.cors=!!Gn&&"withCredentials"in Gn,Gn=le.support.ajax=!!Gn,Gn&&le.ajaxTransport(function(n){if(!n.crossDomain||le.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(t,r){var s,c,u,h;try{if(i&&(r||4===l.readyState))if(i=e,a&&(l.onreadystatechange=le.noop,Xn&&delete Yn[a]),r)4!==l.readyState&&l.abort();else{h={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(d){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=h.text?200:404}}catch(p){r||o(-1,p)}h&&o(s,u,h,c)},n.async?4===l.readyState?setTimeout(i):(a=++Jn,Xn&&(Yn||(Yn={},le(t).unload(Xn)),Yn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(e,!0)}}}});var Zn,ti,ei=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[z],oi={"*":[function(t,e){var n,i,r=this.createTween(t,e),o=ni.exec(e),a=r.cur(),s=+a||0,l=1,c=20;if(o){if(n=+o[2],i=o[3]||(le.cssNumber[t]?"":"px"),"px"!==i&&s){s=le.css(r.elem,t,!0)||n||1;do l=l||".5",s/=l,le.style(r.elem,t,s+i);while(l!==(l=r.cur()/a)&&1!==l&&--c)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};le.Animation=le.extend(L,{tweener:function(t,e){le.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],oi[n]=oi[n]||[],oi[n].unshift(e)},prefilter:function(t,e){e?ri.unshift(t):ri.push(t)}}),le.Tween=U,U.prototype={constructor:U,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(le.cssNumber[n]?"":"px")},cur:function(){var t=U.propHooks[this.prop];return t&&t.get?t.get(this):U.propHooks._default.get(this)},run:function(t){var e,n=U.propHooks[this.prop];return this.pos=e=this.options.duration?le.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=le.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){le.fx.step[t.prop]?le.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[le.cssProps[t.prop]]||le.cssHooks[t.prop])?le.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},le.each(["toggle","show","hide"],function(t,e){var n=le.fn[e];le.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(H(e,!0),t,i,r)}}),le.fn.extend({fadeTo:function(t,e,n,i){return this.filter(k).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=le.isEmptyObject(t),o=le.speed(e,n,i),a=function(){var e=L(this,le.extend({},t),o);a.finish=function(){e.stop(!0)},(r||le._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=le.timers,a=le._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&le.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=le._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=le.timers,a=i?i.length:0;for(n.finish=!0,le.queue(this,t,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),le.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){le.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),le.speed=function(t,e,n){var i=t&&"object"==typeof t?le.extend({},t):{complete:n||!n&&e||le.isFunction(t)&&t,duration:t,easing:n&&e||e&&!le.isFunction(e)&&e};return i.duration=le.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in le.fx.speeds?le.fx.speeds[i.duration]:le.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){le.isFunction(i.old)&&i.old.call(this),i.queue&&le.dequeue(this,i.queue)},i},le.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},le.timers=[],le.fx=U.prototype.init,le.fx.tick=function(){var t,n=le.timers,i=0;for(Zn=le.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||le.fx.stop(),Zn=e},le.fx.timer=function(t){t()&&le.timers.push(t)&&le.fx.start()},le.fx.interval=13,le.fx.start=function(){ti||(ti=setInterval(le.fx.tick,le.fx.interval))},le.fx.stop=function(){clearInterval(ti),ti=null},le.fx.speeds={slow:600,fast:200,_default:400},le.fx.step={},le.expr&&le.expr.filters&&(le.expr.filters.animated=function(t){return le.grep(le.timers,function(e){return t===e.elem}).length}),le.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){le.offset.setOffset(this,t,e)});var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,le.contains(n,o)?(typeof o.getBoundingClientRect!==Q&&(r=o.getBoundingClientRect()),i=W(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},le.offset={setOffset:function(t,e,n){var i=le.css(t,"position");"static"===i&&(t.style.position="relative");var r,o,a=le(t),s=a.offset(),l=le.css(t,"top"),c=le.css(t,"left"),u=("absolute"===i||"fixed"===i)&&le.inArray("auto",[l,c])>-1,h={},d={};u?(d=a.position(),r=d.top,o=d.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),le.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+r),null!=e.left&&(h.left=e.left-s.left+o),"using"in e?e.using.call(t,h):a.css(h)}},le.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===le.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),le.nodeName(t[0],"html")||(n=t.offset()),n.top+=le.css(t[0],"borderTopWidth",!0),n.left+=le.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-le.css(i,"marginTop",!0),left:e.left-n.left-le.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||K.documentElement;t&&!le.nodeName(t,"html")&&"static"===le.css(t,"position");)t=t.offsetParent;return t||K.documentElement})}}),le.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);le.fn[t]=function(r){return le.access(this,function(t,r,o){var a=W(t);return o===e?a?n in a?a[n]:a.document.documentElement[r]:t[r]:void(a?a.scrollTo(i?le(a).scrollLeft():o,i?o:le(a).scrollTop()):t[r]=o)},t,r,arguments.length,null)}}),le.each({Height:"height",Width:"width"},function(t,n){le.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){le.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return le.access(this,function(n,i,r){var o;return le.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):r===e?le.css(n,i,s):le.style(n,i,r,s)},n,a?r:e,a,null)}})}),t.jQuery=t.$=le,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return le})}(window),function(t,e){var n=function(){var e=t._data(document,"events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};n()&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var r,o,a,s,l,c,u,h;if(i.fire(n,"ajax:before")){if(s=n.data("cross-domain"),l=s===e?null:s,c=n.data("with-credentials")||null,u=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),o=n.attr("action"),a=n.serializeArray();var d=n.data("ujs:submit-button");d&&(a.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),a=n.data("params")||null);h={type:r||"GET",data:a,dataType:u,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[t,r])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),o&&(h.url=o);var p=i.ajax(h);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var r=i.href(n),o=n.data("method"),a=n.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&s!==e&&(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),r=!1;return n?(i.fire(t,"confirm")&&(r=i.confirm(n),e=i.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,o,a=t(),s=n||"input,textarea",l=e.find(s);return l.each(function(){if(r=t(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),o=!0;return r!==e&&r.submit!==e&&t.each(r.submit,function(t,e){return"function"==typeof e.handler?o=e.handler(i):void 0}),o},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=t(this),o=r.data("method"),a=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||a))return!0;var s=i.handleRemote(r);return s===!1?i.enableElement(r):s.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=t(this),o=r.data("remote")!==e,a=i.blankInputs(r,i.requiredInputSelector),s=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(a&&r.attr("novalidate")==e&&i.fire(r,"ajax:aborted:required",[a]))return i.stopEverything(n);if(o){if(s){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return!t.support.submitBubbles&&t().jquery<"1.7"&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t,e,n){function i(n){var i=e.console;o[n]||(o[n]=!0,t.migrateWarnings.push(n),i&&i.warn&&!t.migrateMute&&(i.warn("JQMIGRATE: "+n),t.migrateTrace&&i.trace&&i.trace()))}function r(e,r,o,a){if(Object.defineProperty)try{return Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){return i(a),o},set:function(t){i(a),o=t}}),n}catch(s){}t._definePropertyBroken=!0,e[r]=o}var o={};t.migrateWarnings=[],!t.migrateMute&&e.console&&e.console.log&&e.console.log("JQMIGRATE: Logging is active"),t.migrateTrace===n&&(t.migrateTrace=!0),t.migrateReset=function(){o={},t.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=t("<input/>",{size:1}).attr("size")&&t.attrFn,s=t.attr,l=t.attrHooks.value&&t.attrHooks.value.get||function(){return null},c=t.attrHooks.value&&t.attrHooks.value.set||function(){return n},u=/^(?:input|button)$/i,h=/^[238]$/,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;r(t,"attrFn",a||{},"jQuery.attrFn is deprecated"),t.attr=function(e,r,o,l){var c=r.toLowerCase(),f=e&&e.nodeType;return l&&(4>s.length&&i("jQuery.fn.attr( props, pass ) is deprecated"),e&&!h.test(f)&&(a?r in a:t.isFunction(t.fn[r])))?t(e)[r](o):("type"===r&&o!==n&&u.test(e.nodeName)&&e.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!t.attrHooks[c]&&d.test(c)&&(t.attrHooks[c]={get:function(e,i){var r,o=t.prop(e,i);return o===!0||"boolean"!=typeof o&&(r=e.getAttributeNode(i))&&r.nodeValue!==!1?i.toLowerCase():n},set:function(e,n,i){var r;return n===!1?t.removeAttr(e,i):(r=t.propFix[i]||i,r in e&&(e[r]=!0),e.setAttribute(i,i.toLowerCase())),i}},p.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(t,e,r,o))},t.attrHooks.value={get:function(t,e){var n=(t.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),e in t?t.value:null)},set:function(t,e){var r=(t.nodeName||"").toLowerCase();return"button"===r?c.apply(this,arguments):("input"!==r&&"option"!==r&&i("jQuery.fn.attr('value', val) no longer sets properties"),t.value=e,n)}};var f,g,m=t.fn.init,v=t.parseJSON,_=/^([^<]*)(<[\w\W]+>)([^>]*)$/;t.fn.init=function(e,n,r){var o;return e&&"string"==typeof e&&!t.isPlainObject(n)&&(o=_.exec(t.trim(e)))&&o[0]&&("<"!==e.charAt(0)&&i("$(html) HTML strings must start with '<' character"),o[3]&&i("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),t.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),t.parseHTML)?m.call(this,t.parseHTML(o[2],n,!0),n,r):m.apply(this,arguments)},t.fn.init.prototype=t.fn,t.parseJSON=function(t){return t||null===t?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},t.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||0>t.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.browser||(f=t.uaMatch(navigator.userAgent),g={},f.browser&&(g[f.browser]=!0,g.version=f.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),t.browser=g),r(t,"browser",t.browser,"jQuery.browser is deprecated"),t.sub=function(){function e(t,n){return new e.fn.init(t,n)}t.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,r){return r&&r instanceof t&&!(r instanceof e)&&(r=e(r)),t.fn.init.call(this,i,r,n)},e.fn.init.prototype=e.fn;var n=e(document);return i("jQuery.sub() is deprecated"),e},t.ajaxSetup({converters:{"text json":t.parseJSON}});var b=t.fn.data;t.fn.data=function(e){var r,o,a=this[0];return!a||"events"!==e||1!==arguments.length||(r=t.data(a,e),o=t._data(a,e),r!==n&&r!==o||o===n)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),o)};var y=/\/(java|ecma)script/i,w=t.fn.andSelf||t.fn.addBack;t.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},t.clean||(t.clean=function(e,r,o,a){r=r||document,r=!r.nodeType&&r[0]||r,r=r.ownerDocument||r,i("jQuery.clean() is deprecated");var s,l,c,u,h=[];if(t.merge(h,t.buildFragment(e,r).childNodes),o)for(c=function(t){return!t.type||y.test(t.type)?a?a.push(t.parentNode?t.parentNode.removeChild(t):t):o.appendChild(t):n},s=0;null!=(l=h[s]);s++)t.nodeName(l,"script")&&c(l)||(o.appendChild(l),l.getElementsByTagName!==n&&(u=t.grep(t.merge([],l.getElementsByTagName("script")),c),h.splice.apply(h,[s+1,0].concat(u)),s+=u.length));return h});var k=t.event.add,x=t.event.remove,S=t.event.trigger,C=t.fn.toggle,T=t.fn.live,E=t.fn.die,D="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",I=RegExp("\\b(?:"+D+")\\b"),P=/(?:^|\s)hover(\.\S+|)\b/,A=function(e){return"string"!=typeof e||t.event.special.hover?e:(P.test(e)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),e&&e.replace(P,"mouseenter$1 mouseleave$1"))};t.event.props&&"attrChange"!==t.event.props[0]&&t.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),t.event.dispatch&&r(t.event,"handle",t.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),t.event.add=function(t,e,n,r,o){t!==document&&I.test(e)&&i("AJAX events should be attached to document: "+e),k.call(this,t,A(e||""),n,r,o)},t.event.remove=function(t,e,n,i,r){x.call(this,t,A(e)||"",n,i,r)},t.fn.error=function(){var t=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),t.splice(0,0,"error"),arguments.length?this.bind.apply(this,t):(this.triggerHandler.apply(this,t),this)},t.fn.toggle=function(e,n){if(!t.isFunction(e)||!t.isFunction(n))return C.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=e.guid||t.guid++,a=0,s=function(n){var i=(t._data(this,"lastToggle"+e.guid)||0)%a;return t._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(s.guid=o;r.length>a;)r[a++].guid=o;return this.click(s)},t.fn.live=function(e,n,r){return i("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(t(this.context).on(e,this.selector,n,r),this)},t.fn.die=function(e,n){return i("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(t(this.context).off(e,this.selector||"**",n),this)},t.event.trigger=function(t,e,n,r){return n||I.test(t)||i("Global events are undocumented and deprecated"),S.call(this,t,e,n||document,r)},t.each(D.split("|"),function(e,n){t.event.special[n]={setup:function(){var e=this;return e!==document&&(t.event.add(document,n+"."+t.guid,function(){t.event.trigger(n,null,e,!0)}),t._data(this,n,t.guid++)),!1},teardown:function(){return this!==document&&t.event.remove(document,n+"."+t._data(this,n)),!1}}})}(jQuery,window),/*! jQuery UI - v1.8.23 - 2012-08-15
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.effects.core.js, jquery.effects.blind.js, jquery.effects.bounce.js, jquery.effects.clip.js, jquery.effects.drop.js, jquery.effects.explode.js, jquery.effects.fade.js, jquery.effects.fold.js, jquery.effects.highlight.js, jquery.effects.pulsate.js, jquery.effects.scale.js, jquery.effects.shake.js, jquery.effects.slide.js, jquery.effects.transfer.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.tabs.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
function(t,e){function n(e,n){var r=e.nodeName.toLowerCase();if("area"===r){var o,a=e.parentNode,s=a.name;return e.href&&s&&"map"===a.nodeName.toLowerCase()?(o=t("img[usemap=#"+s+"]")[0],!!o&&i(o)):!1}return(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"==r?e.href||n:n)&&i(e)}function i(e){return!t(e).parents().andSelf().filter(function(){return"hidden"===t.curCSS(this,"visibility")||t.expr.filters.hidden(this)}).length}t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),t.fn.extend({propAttr:t.fn.prop||t.fn.attr,_focus:t.fn.focus,focus:function(e,n){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){t(i).focus(),n&&n.call(i)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.curCSS(e,"padding"+this,!0))||0,i&&(n-=parseFloat(t.curCSS(e,"border"+this+"Width",!0))||0),r&&(n-=parseFloat(t.curCSS(e,"margin"+this,!0))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?s["inner"+i].call(this):this.each(function(){t(this).css(a,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(a,r(this,e,!0,n)+"px")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t(function(){var e=document.body,n=e.appendChild(n=document.createElement("div"));n.offsetHeight,t.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===n.offsetHeight,t.support.selectstart="onselectstart"in n,e.removeChild(n).style.display="none"}),t.curCSS||(t.curCSS=t.css),t.extend(t.ui,{plugin:{add:function(e,n,i){var r=t.ui[e].prototype;for(var o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n){var i=t.plugins[e];if(i&&t.element[0].parentNode)for(var r=0;r<i.length;r++)t.options[i[r][0]]&&i[r][1].apply(t.element,n)}},contains:function(t,e){return document.compareDocumentPosition?16&t.compareDocumentPosition(e):t!==e&&t.contains(e)},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)},isOverAxis:function(t,e,n){return t>e&&e+n>t},isOver:function(e,n,i,r,o,a){return t.ui.isOverAxis(e,i,o)&&t.ui.isOverAxis(n,r,a)}}))}(jQuery),function(t,e){if(t.cleanData){var n=t.cleanData;t.cleanData=function(e){for(var i,r=0;null!=(i=e[r]);r++)try{t(i).triggerHandler("remove")}catch(o){}n(e)}}else{var i=t.fn.remove;t.fn.remove=function(e,n){return this.each(function(){return n||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),i.call(t(this),e,n)})}}t.widget=function(e,n,i){var r,o=e.split(".")[0];e=e.split(".")[1],r=o+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r]=function(n){return!!t.data(n,e)},t[o]=t[o]||{},t[o][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var a=new n;a.options=t.extend(!0,{},a.options),t[o][e].prototype=t.extend(!0,a,{namespace:o,widgetName:e,widgetEventPrefix:t[o][e].prototype.widgetEventPrefix||e,widgetBaseClass:r},i),t.widget.bridge(e,t[o][e])},t.widget.bridge=function(n,i){t.fn[n]=function(r){var o="string"==typeof r,a=Array.prototype.slice.call(arguments,1),s=this;return r=!o&&a.length?t.extend.apply(null,[!0,r].concat(a)):r,o&&"_"===r.charAt(0)?s:(this.each(o?function(){var i=t.data(this,n),o=i&&t.isFunction(i[r])?i[r].apply(i,a):i;return o!==i&&o!==e?(s=o,!1):void 0}:function(){var e=t.data(this,n);e?e.option(r||{})._init():t.data(this,n,new i(r,this))}),s)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,n){t.data(n,this.widgetName,this),this.element=t(n),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,i){var r=n;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof n){if(i===e)return this.options[n];r={},r[n]=i}return this._setOptions(r),this},_setOptions:function(e){var n=this;return t.each(e,function(t,e){n._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent,o)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.call(this.element[0],n,i)===!1||n.isDefaultPrevented())}}}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1==n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return!t.browser.msie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(e){var n=this.options;return this.helper||n.disabled||t(e.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(e),this.handle?(n.iframeFix&&t(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){t('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1);for(var i=this.element[0],r=!1;i&&(i=i.parentNode);)i==document&&(r=!0);if(!r&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var o=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){o._trigger("stop",e)!==!1&&o._clear()})}else this._trigger("stop",e)!==!1&&this._clear();return!1},_mouseUp:function(e){return this.options.iframeFix===!0&&t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var n=this.options.handle&&t(this.options.handle,this.element).length?!1:!0;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(n=!0)}),n},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"==n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),i[0]!=this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))&&i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var n=t(e.containment),i=n[0];if(!i)return;var r=(n.offset(),"hidden"!=t(i).css("overflow"));this.containment=[(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0),(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0),(r?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"==e?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i),left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i)}},_generatePosition:function(e){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName),o=e.pageX,a=e.pageY;if(this.originalPosition){var s;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();s=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else s=this.containment;e.pageX-this.offset.click.left<s[0]&&(o=s[0]+this.offset.click.left),e.pageY-this.offset.click.top<s[1]&&(a=s[1]+this.offset.click.top),e.pageX-this.offset.click.left>s[2]&&(o=s[2]+this.offset.click.left),e.pageY-this.offset.click.top>s[3]&&(a=s[3]+this.offset.click.top)}if(n.grid){var c=n.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;a=s&&(c-this.offset.click.top<s[1]||c-this.offset.click.top>s[3])?c-this.offset.click.top<s[1]?c+n.grid[1]:c-n.grid[1]:c;var u=n.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;o=s&&(u-this.offset.click.left<s[0]||u-this.offset.click.left>s[2])?u-this.offset.click.left<s[0]?u+n.grid[0]:u-n.grid[0]:u}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&t.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.extend(t.ui.draggable,{version:"1.8.23"}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n){var i=t(this).data("draggable"),r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t.data(this,"sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n){var i=t(this).data("draggable"),r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n){var i=t(this).data("draggable"),r=this;t.each(i.sortables,function(){this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),n=t(this).data("draggable").options;e.css("cursor")&&(n._cursor=e.css("cursor")),e.css("cursor",n.cursor)},stop:function(){var e=t(this).data("draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n){var i=t(n.helper),r=t(this).data("draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(e,n){var i=t(this).data("draggable").options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("draggable");e.scrollParent[0]!=document&&"HTML"!=e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var n=t(this).data("draggable"),i=n.options,r=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(e.pageY-t(document).scrollTop()<i.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(e.pageX-t(document).scrollLeft()<i.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("draggable"),n=e.options;e.snapElements=[],t(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var n=t(this),i=n.offset();this!=e.element[0]&&e.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(e,n){for(var i=t(this).data("draggable"),r=i.options,o=r.snapTolerance,a=n.offset.left,s=a+i.helperProportions.width,l=n.offset.top,c=l+i.helperProportions.height,u=i.snapElements.length-1;u>=0;u--){var h=i.snapElements[u].left,d=h+i.snapElements[u].width,p=i.snapElements[u].top,f=p+i.snapElements[u].height;if(a>h-o&&d+o>a&&l>p-o&&f+o>l||a>h-o&&d+o>a&&c>p-o&&f+o>c||s>h-o&&d+o>s&&l>p-o&&f+o>l||s>h-o&&d+o>s&&c>p-o&&f+o>c){if("inner"!=r.snapMode){var g=Math.abs(p-c)<=o,m=Math.abs(f-l)<=o,v=Math.abs(h-s)<=o,_=Math.abs(d-a)<=o;g&&(n.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top-i.margins.top),m&&(n.position.top=i._convertPositionTo("relative",{top:f,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left-i.margins.left),_&&(n.position.left=i._convertPositionTo("relative",{top:0,left:d}).left-i.margins.left)}var b=g||m||v||_;if("outer"!=r.snapMode){var g=Math.abs(p-l)<=o,m=Math.abs(f-c)<=o,v=Math.abs(h-a)<=o,_=Math.abs(d-s)<=o;g&&(n.position.top=i._convertPositionTo("relative",{top:p,left:0}).top-i.margins.top),m&&(n.position.top=i._convertPositionTo("relative",{top:f-i.helperProportions.height,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:h}).left-i.margins.left),_&&(n.position.left=i._convertPositionTo("relative",{top:0,left:d-i.helperProportions.width}).left-i.margins.left)}!i.snapElements[u].snapping&&(g||m||v||_||b)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=g||m||v||_||b}else i.snapElements[u].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(){var e=t(this).data("draggable").options,n=t.makeArray(t(e.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});if(n.length){var i=parseInt(n[0].style.zIndex)||0;t(n).each(function(t){this.style.zIndex=i+t}),this[0].style.zIndex=i+n.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n){var i=t(n.helper),r=t(this).data("draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(e,n){var i=t(this).data("draggable").options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(t){t.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,n=e.accept;this.isover=0,this.isout=1,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var e=t.ui.ddmanager.droppables[this.options.scope],n=0;n<e.length;n++)e[n]==this&&e.splice(n,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(e,n){"accept"==e&&(this.accept=t.isFunction(n)?n:function(t){return t.is(n)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return!1;var r=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope==i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.extend(t.ui.droppable,{version:"1.8.23"}),t.ui.intersect=function(e,n,i){if(!n.offset)return!1;var r=(e.positionAbs||e.position.absolute).left,o=r+e.helperProportions.width,a=(e.positionAbs||e.position.absolute).top,s=a+e.helperProportions.height,l=n.offset.left,c=l+n.proportions.width,u=n.offset.top,h=u+n.proportions.height;switch(i){case"fit":return r>=l&&c>=o&&a>=u&&h>=s;case"intersect":return l<r+e.helperProportions.width/2&&o-e.helperProportions.width/2<c&&u<a+e.helperProportions.height/2&&s-e.helperProportions.height/2<h;case"pointer":var d=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,p=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,f=t.ui.isOver(p,d,u,l,n.proportions.height,n.proportions.width);return f;case"touch":return(a>=u&&h>=a||s>=u&&h>=s||u>a&&s>h)&&(r>=l&&c>=r||o>=l&&c>=o||l>r&&o>c);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i=t.ui.ddmanager.droppables[e.options.scope]||[],r=n?n.type:null,o=(e.currentItem||e.element).find(":data(droppable)").andSelf();t:for(var a=0;a<i.length;a++)if(!(i[a].options.disabled||e&&!i[a].accept.call(i[a].element[0],e.currentItem||e.element))){for(var s=0;s<o.length;s++)if(o[s]==i[a].element[0]){i[a].proportions.height=0;continue t}i[a].visible="none"!=i[a].element.css("display"),i[a].visible&&("mousedown"==r&&i[a]._activate.call(i[a],n),i[a].offset=i[a].element.offset(),i[a].proportions={width:i[a].element[0].offsetWidth,height:i[a].element[0].offsetHeight})}},drop:function(e,n){var i=!1;return t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))
}),i},dragStart:function(e,n){e.element.parents(":not(body,html)").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i=t.ui.intersect(e,this,this.options.tolerance),r=i||1!=this.isover?i&&0==this.isover?"isover":null:"isout";if(r){var o;if(this.options.greedy){var a=this.element.parents(":data(droppable):eq(0)");a.length&&(o=t.data(a[0],"droppable"),o.greedyChild="isover"==r?1:0)}o&&"isover"==r&&(o.isover=0,o.isout=1,o._out.call(o,n)),this[r]=1,this["isout"==r?"isover":"isout"]=0,this["isover"==r?"_over":"_out"].call(this,n),o&&"isout"==r&&(o.isout=0,o.isover=1,o._over.call(o,n))}}})},dragStop:function(e,n){e.element.parents(":not(body,html)").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}}}(jQuery),function(t){t.widget("ui.resizable",t.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,n=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var r=0;r<i.length;r++){var o=t.trim(i[r]),a="ui-resizable-"+o,s=t('<div class="ui-resizable-handle '+a+'"></div>');s.css({zIndex:n.zIndex}),"se"==o&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(s)}}this._renderAxis=function(e){e=e||this.element;for(var n in this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=t(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i=t(this.handles[n],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth();var o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");e.css(o,r),this._proportionallyResize()}t(this.handles[n]).length}},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),n.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").hover(function(){n.disabled||(t(this).removeClass("ui-resizable-autohide"),e._handles.show())},function(){n.disabled||e.resizing||(t(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var n=this.element;n.after(this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var n=!1;for(var i in this.handles)t(this.handles[i])[0]==e.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(n){var i=this.options,r=this.element.position(),o=this.element;this.resizing=!0,this.documentScroll={top:t(document).scrollTop(),left:t(document).scrollLeft()},(o.is(".ui-draggable")||/absolute/.test(o.css("position")))&&o.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy();var a=e(this.helper.css("left")),s=e(this.helper.css("top"));i.containment&&(a+=t(i.containment).scrollLeft()||0,s+=t(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:a,top:s},this.size=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:a,top:s},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=t(".ui-resizable-"+this.axis).css("cursor");return t("body").css("cursor","auto"==l?this.axis+"-resize":l),o.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(e){var n=this.helper,i=(this.options,this.originalMousePosition),r=this.axis,o=e.pageX-i.left||0,a=e.pageY-i.top||0,s=this._change[r];if(!s)return!1;{var l=s.apply(this,[e,o,a]);t.browser.msie&&t.browser.version<7,this.sizeDiff}return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(l=this._updateRatio(l,e)),l=this._respectSize(l,e),this._propagate("resize",e),n.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(e){this.resizing=!1;var n=this.options,i=this;if(this._helper){var r=this._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&t.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.helper.width()-s,height:i.helper.height()-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;n.animate||this.element.css(t.extend(l,{top:u,left:c})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,r,o,a,s=this.options;a={minWidth:n(s.minWidth)?s.minWidth:0,maxWidth:n(s.maxWidth)?s.maxWidth:1/0,minHeight:n(s.minHeight)?s.minHeight:0,maxHeight:n(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),r>a.minHeight&&(a.minHeight=r),i<a.maxWidth&&(a.maxWidth=i),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.options;this.offset=this.helper.offset(),n(t.left)&&(this.position.left=t.left),n(t.top)&&(this.position.top=t.top),n(t.height)&&(this.size.height=t.height),n(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=(this.options,this.position),i=this.size,r=this.axis;return n(t.height)?t.width=t.height*this.aspectRatio:n(t.width)&&(t.height=t.width/this.aspectRatio),"sw"==r&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"==r&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t,e){var i=(this.helper,this._vBoundaries),r=(this._aspectRatio||e.shiftKey,this.axis),o=n(t.width)&&i.maxWidth&&i.maxWidth<t.width,a=n(t.height)&&i.maxHeight&&i.maxHeight<t.height,s=n(t.width)&&i.minWidth&&i.minWidth>t.width,l=n(t.height)&&i.minHeight&&i.minHeight>t.height;s&&(t.width=i.minWidth),l&&(t.height=i.minHeight),o&&(t.width=i.maxWidth),a&&(t.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,h=/sw|nw|w/.test(r),d=/nw|ne|n/.test(r);s&&h&&(t.left=c-i.minWidth),o&&h&&(t.left=c-i.maxWidth),l&&d&&(t.top=u-i.minHeight),a&&d&&(t.top=u-i.maxHeight);var p=!t.width&&!t.height;return p&&!t.left&&t.top?t.top=null:p&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,n=0;n<this._proportionallyResizeElements.length;n++){var i=this._proportionallyResizeElements[n];if(!this.borderDif){var r=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=t.map(r,function(t,e){var n=parseInt(t,10)||0,i=parseInt(o[e],10)||0;return n+i})}t.browser.msie&&(t(e).is(":hidden")||t(e).parents(":hidden").length)||i.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.element,n=this.options;if(this.elementOffset=e.offset(),this._helper){this.helper=this.helper||t('<div style="overflow:hidden;"></div>');var i=t.browser.msie&&t.browser.version<7,r=i?1:0,o=i?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+o,height:this.element.outerHeight()+o,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=(this.options,this.originalSize),i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=(this.options,this.originalSize),r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!=e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.extend(t.ui.resizable,{version:"1.8.23"}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("resizable"),n=e.options,i=function(e){t(e).each(function(){var e=t(this);e.data("resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):t.each(n.alsoResize,function(t){i(t)})},resize:function(e,n){var i=t(this).data("resizable"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0},l=function(e,i){t(e).each(function(){var e=t(this),r=t(this).data("resizable-alsoresize"),o={},a=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var n=(r[e]||0)+(s[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).data("resizable"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&t.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var n=t(this).data("resizable"),i=n.options,r=n.element,o=i.containment,a=o instanceof t?o.get(0):/parent/.test(o)?r.parent().get(0):o;if(a)if(n.containerElement=t(a),/document/.test(o)||o==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight};else{var s=t(a),l=[];t(["Top","Right","Left","Bottom"]).each(function(t,n){l[t]=e(s.css("padding"+n))}),n.containerOffset=s.offset(),n.containerPosition=s.position(),n.containerSize={height:s.innerHeight()-l[3],width:s.innerWidth()-l[1]};var c=n.containerOffset,u=n.containerSize.height,h=n.containerSize.width,d=t.ui.hasScroll(a,"left")?a.scrollWidth:h,p=t.ui.hasScroll(a)?a.scrollHeight:u;n.parentData={element:a,left:c.left,top:c.top,width:d,height:p}}},resize:function(e){var n=t(this).data("resizable"),i=n.options,r=(n.containerSize,n.containerOffset),o=(n.size,n.position),a=n._aspectRatio||e.shiftKey,s={top:0,left:0},l=n.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(s=r),o.left<(n._helper?r.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-r.left:n.position.left-s.left),a&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=i.helper?r.left:0),o.top<(n._helper?r.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-r.top:n.position.top),a&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?r.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var c=Math.abs((n._helper?n.offset.left-s.left:n.offset.left-s.left)+n.sizeDiff.width),u=Math.abs((n._helper?n.offset.top-s.top:n.offset.top-r.top)+n.sizeDiff.height),h=n.containerElement.get(0)==n.element.parent().get(0),d=/relative|absolute/.test(n.containerElement.css("position"));h&&d&&(c-=n.parentData.left),c+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-c,a&&(n.size.height=n.size.width/n.aspectRatio)),u+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-u,a&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(){var e=t(this).data("resizable"),n=e.options,i=(e.position,e.containerOffset),r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("resizable"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){{var e=t(this).data("resizable");e.options}e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){{var e=t(this).data("resizable");e.options}e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(e){{var n=t(this).data("resizable"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis;i._aspectRatio||e.shiftKey}i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var l=Math.round((r.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((r.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(s)?(n.size.width=o.width+l,n.size.height=o.height+c):/^(ne)$/.test(s)?(n.size.width=o.width+l,n.size.height=o.height+c,n.position.top=a.top-c):/^(sw)$/.test(s)?(n.size.width=o.width+l,n.size.height=o.height+c,n.position.left=a.left-l):(n.size.width=o.width+l,n.size.height=o.height+c,n.position.top=a.top-c,n.position.left=a.left-l)}});var e=function(t){return parseInt(t,10)||0},n=function(t){return!isNaN(parseInt(t,10))}}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var e=this;this.element.addClass("ui-selectable"),this.dragged=!1;var n;this.refresh=function(){n=t(e.options.filter,e.element[0]),n.addClass("ui-selectee"),n.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=n.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(e){var n=this;if(this.opos=[e.pageX,e.pageY],!this.options.disabled){var i=this.options;this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.clientX,top:e.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,!e.metaKey&&!e.ctrlKey&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().andSelf().each(function(){var i=t.data(this,"selectable-item");if(i){var r=!e.metaKey&&!e.ctrlKey||!i.$element.hasClass("ui-selected");return i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",e,{selecting:i.element}):n._trigger("unselecting",e,{unselecting:i.element}),!1}})}},_mouseDrag:function(e){var n=this;if(this.dragged=!0,!this.options.disabled){var i=this.options,r=this.opos[0],o=this.opos[1],a=e.pageX,s=e.pageY;if(r>a){var l=a;a=r,r=l}if(o>s){var l=s;s=o,o=l}return this.helper.css({left:r,top:o,width:a-r,height:s-o}),this.selectees.each(function(){var l=t.data(this,"selectable-item");if(l&&l.element!=n.element[0]){var c=!1;"touch"==i.tolerance?c=!(l.left>a||l.right<r||l.top>s||l.bottom<o):"fit"==i.tolerance&&(c=l.left>r&&l.right<a&&l.top>o&&l.bottom<s),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,n._trigger("selecting",e,{selecting:l.element}))):(l.selecting&&((e.metaKey||e.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),n._trigger("unselecting",e,{unselecting:l.element}))),l.selected&&!e.metaKey&&!e.ctrlKey&&!l.startselected&&(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,n._trigger("unselecting",e,{unselecting:l.element})))}}),!1}},_mouseStop:function(e){var n=this;this.dragged=!1;this.options;return t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.extend(t.ui.selectable,{version:"1.8.23"})}(jQuery),function(t){t.widget("ui.sortable",t.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){t.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget()[n?"addClass":"removeClass"]("ui-sortable-disabled")):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var i=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(e);{var r=null,o=this;t(e.target).parents().each(function(){return t.data(this,i.widgetName+"-item")==o?(r=t(this),!1):void 0})}if(t.data(e.target,i.widgetName+"-item")==o&&(r=t(e.target)),!r)return!1;if(this.options.handle&&!n){var a=!1;if(t(this.options.handle,r).find("*").andSelf().each(function(){this==e.target&&(a=!0)}),!a)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,n,i){var r=this.options,o=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",r.cursor)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",e,o._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-t(document).scrollTop()<n.scrollSensitivity?i=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(i=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed)),e.pageX-t(document).scrollLeft()<n.scrollSensitivity?i=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(i=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed))),i!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var r=this.items.length-1;r>=0;r--){var o=this.items[r],a=o.item[0],s=this._intersectsWithPointer(o);if(s&&a!=this.currentItem[0]&&this.placeholder[1==s?"next":"prev"]()[0]!=a&&!t.ui.contains(this.placeholder[0],a)&&("semi-dynamic"==this.options.type?!t.ui.contains(this.element[0],a):!0)){if(this.direction=1==s?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(e,o),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=i.placeholder.offset();i.reverting=!0,t(this.helper).animate({left:r.left-this.offset.parent.left-i.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-i.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){var e=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("deactivate",null,e._uiHash(this)),this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",null,e._uiHash(this)),this.containers[n].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,u=this.offset.click.left,h=i+c>s&&l>i+c&&e+u>o&&a>e+u;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=n&&i,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return r?this.floating?a&&"right"==a||"down"==o?2:1:o&&("down"==o?2:1):!1},_intersectsWithSides:function(e){var n=t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"==o&&i||"left"==o&&!i:r&&("down"==r&&n||"up"==r&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n=[],i=[],r=this._connectWith();if(r&&e)for(var o=r.length-1;o>=0;o--)for(var a=t(r[o]),s=a.length-1;s>=0;s--){var l=t.data(a[s],this.widgetName);l&&l!=this&&!l.options.disabled&&i.push([t.isFunction(l.options.items)?l.options.items.call(l.element):t(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}i.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var o=i.length-1;o>=0;o--)i[o][0].each(function(){n.push(this)});return t(n)},_removeCurrentsFromItems:function(){for(var t=this.currentItem.find(":data("+this.widgetName+"-item)"),e=0;e<this.items.length;e++)for(var n=0;n<t.length;n++)t[n]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(e){this.items=[],this.containers=[this];
var n=this.items,i=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],r=this._connectWith();if(r&&this.ready)for(var o=r.length-1;o>=0;o--)for(var a=t(r[o]),s=a.length-1;s>=0;s--){var l=t.data(a[s],this.widgetName);l&&l!=this&&!l.options.disabled&&(i.push([t.isFunction(l.options.items)?l.options.items.call(l.element[0],e,{item:this.currentItem}):t(l.options.items,l.element),l]),this.containers.push(l))}for(var o=i.length-1;o>=0;o--)for(var c=i[o][1],u=i[o][0],s=0,h=u.length;h>s;s++){var d=t(u[s]);d.data(this.widgetName+"-item",c),n.push({item:d,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var i=this.items[n];if(i.instance==this.currentContainer||!this.currentContainer||i.item[0]==this.currentItem[0]){var r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item;e||(i.width=r.outerWidth(),i.height=r.outerHeight());var o=r.offset();i.left=o.left,i.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(e){var n=e||this,i=n.options;if(!i.placeholder||i.placeholder.constructor==String){var r=i.placeholder;i.placeholder={element:function(){var e=t(document.createElement(n.currentItem[0].nodeName)).addClass(r||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(e.style.visibility="hidden"),e},update:function(t,e){(!r||i.forcePlaceholderSize)&&(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=t(i.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),i.placeholder.update(n,n.placeholder)},_contactContainers:function(e){for(var n=null,i=null,r=this.containers.length-1;r>=0;r--)if(!t.ui.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(n&&t.ui.contains(this.containers[r].element[0],n.element[0]))continue;n=this.containers[r],i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",e,this._uiHash(this)),this.containers[r].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[i]._trigger("over",e,this._uiHash(this)),this.containers[i].containerCache.over=1;else if(this.currentContainer!=this.containers[i]){for(var o=1e4,a=null,s=this.positionAbs[this.containers[i].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(t.ui.contains(this.containers[i].element[0],this.items[l].item[0])){var c=this.containers[i].floating?this.items[l].item.offset().left:this.items[l].item.offset().top;Math.abs(c-s)<o&&(o=Math.abs(c-s),a=this.items[l],this.direction=c-s>0?"down":"up")}if(!a&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[i].element,!0),this._trigger("change",e,this._uiHash()),this.containers[i]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",e,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(""==i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),("document"==e.containment||"window"==e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(e.containment)){var n=t(e.containment)[0],i=t(e.containment).offset(),r="hidden"!=t(n).css("overflow");this.containment=[i.left+(parseInt(t(n).css("borderLeftWidth"),10)||0)+(parseInt(t(n).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(n).css("borderTopWidth"),10)||0)+(parseInt(t(n).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t(n).css("borderLeftWidth"),10)||0)-(parseInt(t(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t(n).css("borderTopWidth"),10)||0)-(parseInt(t(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"==e?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-(t.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i),left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-(t.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i)}},_generatePosition:function(e){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var o=e.pageX,a=e.pageY;if(this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid)){var s=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1];a=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+n.grid[1]:s-n.grid[1]:s;var l=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0];o=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(t.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(t.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this,o=this.counter;window.setTimeout(function(){o==r.counter&&r.refreshPositions(!i)},0)},_clear:function(e,n){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var r in this._storedCSS)("auto"==this._storedCSS[r]||"static"==this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!n&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&i.push(function(t){this._trigger("update",t,this._uiHash())}),!t.ui.contains(this.element[0],this.currentItem[0])){n||i.push(function(t){this._trigger("remove",t,this._uiHash())});for(var r=this.containers.length-1;r>=0;r--)t.ui.contains(this.containers[r].element[0],this.currentItem[0])&&!n&&(i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.containers[r])),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.containers[r])))}for(var r=this.containers.length-1;r>=0;r--)n||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",e,this._uiHash());for(var r=0;r<i.length;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(n||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var r=0;r<i.length;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.extend(t.ui.sortable,{version:"1.8.23"})}(jQuery),jQuery.effects||function(t,e){function n(e){var n;return e&&e.constructor==Array&&3==e.length?e:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3])]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:(n=/rgba\(0, 0, 0, 0\)/.exec(e))?c.transparent:c[t.trim(e).toLowerCase()]}function i(e,i){var r;do{if(r=(t.curCSS||t.css)(e,i),""!=r&&"transparent"!=r||t.nodeName(e,"body"))break;i="backgroundColor"}while(e=e.parentNode);return n(r)}function r(){var t,e,n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,i={};if(n&&n.length&&n[0]&&n[n[0]])for(var r=n.length;r--;)t=n[r],"string"==typeof n[t]&&(e=t.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i[e]=n[t]);else for(t in n)"string"==typeof n[t]&&(i[t]=n[t]);return i}function o(e){var n,i;for(n in e)i=e[n],(null==i||t.isFunction(i)||n in h||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(i)))&&delete e[n];return e}function a(t,e){var n,i={_:0};for(n in e)t[n]!=e[n]&&(i[n]=e[n]);return i}function s(e,n,i,r){return"object"==typeof e&&(r=n,i=null,n=e,e=n.effect),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n=n||{},i=i||n.duration,i=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,r=r||n.complete,[e,n,i,r]}function l(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects[e]?!1:!0}t.effects={},t.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(e,r){t.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=n(t.end),t.colorInit=!0),t.elem.style[r]="rgb("+Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2],10),255),0)+")"}});var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},u=["add","remove","toggle"],h={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.effects.animateClass=function(e,n,i,s){return t.isFunction(i)&&(s=i,i=null),this.queue(function(){var l,c=t(this),h=c.attr("style")||" ",d=o(r.call(this)),p=c.attr("class")||"";t.each(u,function(t,n){e[n]&&c[n+"Class"](e[n])}),l=o(r.call(this)),c.attr("class",p),c.animate(a(d,l),{queue:!1,duration:n,easing:i,complete:function(){t.each(u,function(t,n){e[n]&&c[n+"Class"](e[n])}),"object"==typeof c.attr("style")?(c.attr("style").cssText="",c.attr("style").cssText=h):c.attr("style",h),s&&s.apply(this,arguments),t.dequeue(this)}})})},t.fn.extend({_addClass:t.fn.addClass,addClass:function(e,n,i,r){return n?t.effects.animateClass.apply(this,[{add:e},n,i,r]):this._addClass(e)},_removeClass:t.fn.removeClass,removeClass:function(e,n,i,r){return n?t.effects.animateClass.apply(this,[{remove:e},n,i,r]):this._removeClass(e)},_toggleClass:t.fn.toggleClass,toggleClass:function(n,i,r,o,a){return"boolean"==typeof i||i===e?r?t.effects.animateClass.apply(this,[i?{add:n}:{remove:n},r,o,a]):this._toggleClass(n,i):t.effects.animateClass.apply(this,[{toggle:n},i,r,o])},switchClass:function(e,n,i,r,o){return t.effects.animateClass.apply(this,[{add:n,remove:e},i,r,o])}}),t.extend(t.effects,{version:"1.8.23",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data("ec.storage."+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.css(e[n],t.data("ec.storage."+e[n]))},setMode:function(t,e){return"toggle"==e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r=document.activeElement;try{r.id}catch(o){r=document.body}return e.wrap(i),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),i=e.parent(),"static"==e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(n).show()},removeWrapper:function(e){var n,i=document.activeElement;return e.parent().is(".ui-effects-wrapper")?(n=e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus(),n):e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(e){var n=s.apply(this,arguments),i={options:n[1],duration:n[2],callback:n[3]},r=i.options.mode,o=t.effects[e];return t.fx.off||!o?r?this[r](i.duration,i.callback):this.each(function(){i.callback&&i.callback.call(this)}):o.call(this,i)},_show:t.fn.show,show:function(t){if(l(t))return this._show.apply(this,arguments);var e=s.apply(this,arguments);return e[1].mode="show",this.effect.apply(this,e)},_hide:t.fn.hide,hide:function(t){if(l(t))return this._hide.apply(this,arguments);var e=s.apply(this,arguments);return e[1].mode="hide",this.effect.apply(this,e)},__toggle:t.fn.toggle,toggle:function(e){if(l(e)||"boolean"==typeof e||t.isFunction(e))return this.__toggle.apply(this,arguments);var n=s.apply(this,arguments);return n[1].mode="toggle",this.effect.apply(this,n)},cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}});var d={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){d[e]=function(e){return Math.pow(e,t+2)}}),t.extend(d,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(d,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:n(-2*t+2)/-2+1}})}(jQuery),function(t){t.effects.blind=function(e){return this.queue(function(){var n=t(this),i=["position","top","bottom","left","right"],r=t.effects.setMode(n,e.options.mode||"hide"),o=e.options.direction||"vertical";t.effects.save(n,i),n.show();var a=t.effects.createWrapper(n).css({overflow:"hidden"}),s="vertical"==o?"height":"width",l="vertical"==o?a.height():a.width();"show"==r&&a.css(s,0);var c={};c[s]="show"==r?l:0,a.animate(c,e.duration,e.options.easing,function(){"hide"==r&&n.hide(),t.effects.restore(n,i),t.effects.removeWrapper(n),e.callback&&e.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(t){t.effects.bounce=function(e){return this.queue(function(){var n=t(this),i=["position","top","bottom","left","right"],r=t.effects.setMode(n,e.options.mode||"effect"),o=e.options.direction||"up",a=e.options.distance||20,s=e.options.times||5,l=e.duration||250;/show|hide/.test(r)&&i.push("opacity"),t.effects.save(n,i),n.show(),t.effects.createWrapper(n);var c="up"==o||"down"==o?"top":"left",u="up"==o||"left"==o?"pos":"neg",a=e.options.distance||("top"==c?n.outerHeight(!0)/3:n.outerWidth(!0)/3);if("show"==r&&n.css("opacity",0).css(c,"pos"==u?-a:a),"hide"==r&&(a/=2*s),"hide"!=r&&s--,"show"==r){var h={opacity:1};h[c]=("pos"==u?"+=":"-=")+a,n.animate(h,l/2,e.options.easing),a/=2,s--}for(var d=0;s>d;d++){var p={},f={};p[c]=("pos"==u?"-=":"+=")+a,f[c]=("pos"==u?"+=":"-=")+a,n.animate(p,l/2,e.options.easing).animate(f,l/2,e.options.easing),a="hide"==r?2*a:a/2}if("hide"==r){var h={opacity:0};h[c]=("pos"==u?"-=":"+=")+a,n.animate(h,l/2,e.options.easing,function(){n.hide(),t.effects.restore(n,i),t.effects.removeWrapper(n),e.callback&&e.callback.apply(this,arguments)})}else{var p={},f={};p[c]=("pos"==u?"-=":"+=")+a,f[c]=("pos"==u?"+=":"-=")+a,n.animate(p,l/2,e.options.easing).animate(f,l/2,e.options.easing,function(){t.effects.restore(n,i),t.effects.removeWrapper(n),e.callback&&e.callback.apply(this,arguments)})}n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),function(t){t.effects.clip=function(e){return this.queue(function(){var n=t(this),i=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(n,e.options.mode||"hide"),o=e.options.direction||"vertical";t.effects.save(n,i),n.show();var a=t.effects.createWrapper(n).css({overflow:"hidden"}),s="IMG"==n[0].tagName?a:n,l={size:"vertical"==o?"height":"width",position:"vertical"==o?"top":"left"},c="vertical"==o?s.height():s.width();"show"==r&&(s.css(l.size,0),s.css(l.position,c/2));var u={};u[l.size]="show"==r?c:0,u[l.position]="show"==r?0:c/2,s.animate(u,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==r&&n.hide(),t.effects.restore(n,i),t.effects.removeWrapper(n),e.callback&&e.callback.apply(n[0],arguments),n.dequeue()}})})}}(jQuery),function(t){t.effects.drop=function(e){return this.queue(function(){var n=t(this),i=["position","top","bottom","left","right","opacity"],r=t.effects.setMode(n,e.options.mode||"hide"),o=e.options.direction||"left";t.effects.save(n,i),n.show(),t.effects.createWrapper(n);var a="up"==o||"down"==o?"top":"left",s="up"==o||"left"==o?"pos":"neg",l=e.options.distance||("top"==a?n.outerHeight(!0)/2:n.outerWidth(!0)/2);"show"==r&&n.css("opacity",0).css(a,"pos"==s?-l:l);var c={opacity:"show"==r?1:0};c[a]=("show"==r?"pos"==s?"+=":"-=":"pos"==s?"-=":"+=")+l,n.animate(c,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==r&&n.hide(),t.effects.restore(n,i),t.effects.removeWrapper(n),e.callback&&e.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(t){t.effects.explode=function(e){return this.queue(function(){var n=e.options.pieces?Math.round(Math.sqrt(e.options.pieces)):3,i=e.options.pieces?Math.round(Math.sqrt(e.options.pieces)):3;e.options.mode="toggle"==e.options.mode?t(this).is(":visible")?"hide":"show":e.options.mode;var r=t(this).show().css("visibility","hidden"),o=r.offset();o.top-=parseInt(r.css("marginTop"),10)||0,o.left-=parseInt(r.css("marginLeft"),10)||0;for(var a=r.outerWidth(!0),s=r.outerHeight(!0),l=0;n>l;l++)for(var c=0;i>c;c++)r.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-c*(a/i),top:-l*(s/n)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:a/i,height:s/n,left:o.left+c*(a/i)+("show"==e.options.mode?(c-Math.floor(i/2))*(a/i):0),top:o.top+l*(s/n)+("show"==e.options.mode?(l-Math.floor(n/2))*(s/n):0),opacity:"show"==e.options.mode?0:1}).animate({left:o.left+c*(a/i)+("show"==e.options.mode?0:(c-Math.floor(i/2))*(a/i)),top:o.top+l*(s/n)+("show"==e.options.mode?0:(l-Math.floor(n/2))*(s/n)),opacity:"show"==e.options.mode?1:0},e.duration||500);setTimeout(function(){"show"==e.options.mode?r.css({visibility:"visible"}):r.css({visibility:"visible"}).hide(),e.callback&&e.callback.apply(r[0]),r.dequeue(),t("div.ui-effects-explode").remove()},e.duration||500)})}}(jQuery),function(t){t.effects.fade=function(e){return this.queue(function(){var n=t(this),i=t.effects.setMode(n,e.options.mode||"hide");n.animate({opacity:i},{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){e.callback&&e.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(t){t.effects.fold=function(e){return this.queue(function(){var n=t(this),i=["position","top","bottom","left","right"],r=t.effects.setMode(n,e.options.mode||"hide"),o=e.options.size||15,a=!!e.options.horizFirst,s=e.duration?e.duration/2:t.fx.speeds._default/2;t.effects.save(n,i),n.show();var l=t.effects.createWrapper(n).css({overflow:"hidden"}),c="show"==r!=a,u=c?["width","height"]:["height","width"],h=c?[l.width(),l.height()]:[l.height(),l.width()],d=/([0-9]+)%/.exec(o);d&&(o=parseInt(d[1],10)/100*h["hide"==r?0:1]),"show"==r&&l.css(a?{height:0,width:o}:{height:o,width:0});var p={},f={};p[u[0]]="show"==r?h[0]:o,f[u[1]]="show"==r?h[1]:0,l.animate(p,s,e.options.easing).animate(f,s,e.options.easing,function(){"hide"==r&&n.hide(),t.effects.restore(n,i),t.effects.removeWrapper(n),e.callback&&e.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(t){t.effects.highlight=function(e){return this.queue(function(){var n=t(this),i=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(n,e.options.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"==r&&(o.opacity=0),t.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:e.options.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==r&&n.hide(),t.effects.restore(n,i),"show"==r&&!t.support.opacity&&this.style.removeAttribute("filter"),e.callback&&e.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(t){t.effects.pulsate=function(e){return this.queue(function(){var n=t(this),i=t.effects.setMode(n,e.options.mode||"show"),r=2*(e.options.times||5)-1,o=e.duration?e.duration/2:t.fx.speeds._default/2,a=n.is(":visible"),s=0;a||(n.css("opacity",0).show(),s=1),("hide"==i&&a||"show"==i&&!a)&&r--;for(var l=0;r>l;l++)n.animate({opacity:s},o,e.options.easing),s=(s+1)%2;n.animate({opacity:s},o,e.options.easing,function(){0==s&&n.hide(),e.callback&&e.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}).dequeue()})}}(jQuery),function(t){t.effects.puff=function(e){return this.queue(function(){var n=t(this),i=t.effects.setMode(n,e.options.mode||"hide"),r=parseInt(e.options.percent,10)||150,o=r/100,a={height:n.height(),width:n.width()};t.extend(e.options,{fade:!0,mode:i,percent:"hide"==i?r:100,from:"hide"==i?a:{height:a.height*o,width:a.width*o}}),n.effect("scale",e.options,e.duration,e.callback),n.dequeue()})},t.effects.scale=function(e){return this.queue(function(){var n=t(this),i=t.extend(!0,{},e.options),r=t.effects.setMode(n,e.options.mode||"effect"),o=parseInt(e.options.percent,10)||(0==parseInt(e.options.percent,10)?0:"hide"==r?0:100),a=e.options.direction||"both",s=e.options.origin;"effect"!=r&&(i.origin=s||["middle","center"],i.restore=!0);var l={height:n.height(),width:n.width()};n.from=e.options.from||("show"==r?{height:0,width:0}:l);var c={y:"horizontal"!=a?o/100:1,x:"vertical"!=a?o/100:1};n.to={height:l.height*c.y,width:l.width*c.x},e.options.fade&&("show"==r&&(n.from.opacity=0,n.to.opacity=1),"hide"==r&&(n.from.opacity=1,n.to.opacity=0)),i.from=n.from,i.to=n.to,i.mode=r,n.effect("size",i,e.duration,e.callback),n.dequeue()})},t.effects.size=function(e){return this.queue(function(){var n=t(this),i=["position","top","bottom","left","right","width","height","overflow","opacity"],r=["position","top","bottom","left","right","overflow","opacity"],o=["width","height","overflow"],a=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=t.effects.setMode(n,e.options.mode||"effect"),u=e.options.restore||!1,h=e.options.scale||"both",d=e.options.origin,p={height:n.height(),width:n.width()};if(n.from=e.options.from||p,n.to=e.options.to||p,d){var f=t.effects.getBaseline(d,p);n.from.top=(p.height-n.from.height)*f.y,n.from.left=(p.width-n.from.width)*f.x,n.to.top=(p.height-n.to.height)*f.y,n.to.left=(p.width-n.to.width)*f.x}var g={from:{y:n.from.height/p.height,x:n.from.width/p.width},to:{y:n.to.height/p.height,x:n.to.width/p.width}};("box"==h||"both"==h)&&(g.from.y!=g.to.y&&(i=i.concat(s),n.from=t.effects.setTransition(n,s,g.from.y,n.from),n.to=t.effects.setTransition(n,s,g.to.y,n.to)),g.from.x!=g.to.x&&(i=i.concat(l),n.from=t.effects.setTransition(n,l,g.from.x,n.from),n.to=t.effects.setTransition(n,l,g.to.x,n.to))),("content"==h||"both"==h)&&g.from.y!=g.to.y&&(i=i.concat(a),n.from=t.effects.setTransition(n,a,g.from.y,n.from),n.to=t.effects.setTransition(n,a,g.to.y,n.to)),t.effects.save(n,u?i:r),n.show(),t.effects.createWrapper(n),n.css("overflow","hidden").css(n.from),("content"==h||"both"==h)&&(s=s.concat(["marginTop","marginBottom"]).concat(a),l=l.concat(["marginLeft","marginRight"]),o=i.concat(s).concat(l),n.find("*[width]").each(function(){var n=t(this);u&&t.effects.save(n,o);var i={height:n.height(),width:n.width()};n.from={height:i.height*g.from.y,width:i.width*g.from.x},n.to={height:i.height*g.to.y,width:i.width*g.to.x},g.from.y!=g.to.y&&(n.from=t.effects.setTransition(n,s,g.from.y,n.from),n.to=t.effects.setTransition(n,s,g.to.y,n.to)),g.from.x!=g.to.x&&(n.from=t.effects.setTransition(n,l,g.from.x,n.from),n.to=t.effects.setTransition(n,l,g.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.options.easing,function(){u&&t.effects.restore(n,o)})})),n.animate(n.to,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){0===n.to.opacity&&n.css("opacity",n.from.opacity),"hide"==c&&n.hide(),t.effects.restore(n,u?i:r),t.effects.removeWrapper(n),e.callback&&e.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(t){t.effects.shake=function(e){return this.queue(function(){var n=t(this),i=["position","top","bottom","left","right"],r=(t.effects.setMode(n,e.options.mode||"effect"),e.options.direction||"left"),o=e.options.distance||20,a=e.options.times||3,s=e.duration||e.options.duration||140;t.effects.save(n,i),n.show(),t.effects.createWrapper(n);var l="up"==r||"down"==r?"top":"left",c="up"==r||"left"==r?"pos":"neg",u={},h={},d={};u[l]=("pos"==c?"-=":"+=")+o,h[l]=("pos"==c?"+=":"-=")+2*o,d[l]=("pos"==c?"-=":"+=")+2*o,n.animate(u,s,e.options.easing);for(var p=1;a>p;p++)n.animate(h,s,e.options.easing).animate(d,s,e.options.easing);n.animate(h,s,e.options.easing).animate(u,s/2,e.options.easing,function(){t.effects.restore(n,i),t.effects.removeWrapper(n),e.callback&&e.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),function(t){t.effects.slide=function(e){return this.queue(function(){var n=t(this),i=["position","top","bottom","left","right"],r=t.effects.setMode(n,e.options.mode||"show"),o=e.options.direction||"left";
t.effects.save(n,i),n.show(),t.effects.createWrapper(n).css({overflow:"hidden"});var a="up"==o||"down"==o?"top":"left",s="up"==o||"left"==o?"pos":"neg",l=e.options.distance||("top"==a?n.outerHeight(!0):n.outerWidth(!0));"show"==r&&n.css(a,"pos"==s?isNaN(l)?"-"+l:-l:l);var c={};c[a]=("show"==r?"pos"==s?"+=":"-=":"pos"==s?"-=":"+=")+l,n.animate(c,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==r&&n.hide(),t.effects.restore(n,i),t.effects.removeWrapper(n),e.callback&&e.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(t){t.effects.transfer=function(e){return this.queue(function(){var n=t(this),i=t(e.options.to),r=i.offset(),o={top:r.top,left:r.left,height:i.innerHeight(),width:i.innerWidth()},a=n.offset(),s=t('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(e.options.className).css({top:a.top,left:a.left,height:n.innerHeight(),width:n.innerWidth(),position:"absolute"}).animate(o,e.duration,e.options.easing,function(){s.remove(),e.callback&&e.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(t){t.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var e=this,n=e.options;if(e.running=0,e.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),e.headers=e.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){n.disabled||t(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){n.disabled||t(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){n.disabled||t(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){n.disabled||t(this).removeClass("ui-state-focus")}),e.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),n.navigation){var i=e.element.find("a").filter(n.navigationFilter).eq(0);if(i.length){var r=i.closest(".ui-accordion-header");e.active=r.length?r:i.closest(".ui-accordion-content").prev()}}e.active=e._findActive(e.active||n.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),e.active.next().addClass("ui-accordion-content-active"),e._createIcons(),e.resize(),e.element.attr("role","tablist"),e.headers.attr("role","tab").bind("keydown.accordion",function(t){return e._keydown(t)}).next().attr("role","tabpanel"),e.headers.not(e.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),e.active.length?e.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):e.headers.eq(0).attr("tabIndex",0),t.browser.safari||e.headers.find("a").attr("tabIndex",-1),n.event&&e.headers.bind(n.event.split(" ").join(".accordion ")+".accordion",function(t){e._clickHandler.call(e,t,this),t.preventDefault()})},_createIcons:function(){var e=this.options;e.icons&&(t("<span></span>").addClass("ui-icon "+e.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(e.icons.header).toggleClass(e.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var e=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var n=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(e.autoHeight||e.fillHeight)&&n.css("height",""),t.Widget.prototype.destroy.call(this)},_setOption:function(e,n){t.Widget.prototype._setOption.apply(this,arguments),"active"==e&&this.activate(n),"icons"==e&&(this._destroyIcons(),n&&this._createIcons()),"disabled"==e&&this.headers.add(this.headers.next())[n?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(e){if(!(this.options.disabled||e.altKey||e.ctrlKey)){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._clickHandler({target:e.target},e.target),e.preventDefault()}return o?(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),!1):!0}},resize:function(){var e,n=this.options;if(n.fillSpace){if(t.browser.msie){var i=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}e=this.element.parent().height(),t.browser.msie&&this.element.parent().css("overflow",i),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")}else n.autoHeight&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).height("").height())}).height(e));return this},activate:function(t){this.options.active=t;var e=this._findActive(t)[0];return this._clickHandler({target:e},e),this},_findActive:function(e){return e?"number"==typeof e?this.headers.filter(":eq("+e+")"):this.headers.not(this.headers.not(e)):e===!1?t([]):this.headers.filter(":eq(0)")},_clickHandler:function(e,n){var i=this.options;if(!i.disabled){if(!e.target){if(!i.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(i.icons.headerSelected).addClass(i.icons.header),this.active.next().addClass("ui-accordion-content-active");var r=this.active.next(),o={options:i,newHeader:t([]),oldHeader:i.active,newContent:t([]),oldContent:r},a=this.active=t([]);return void this._toggle(a,r,o)}var s=t(e.currentTarget||n),l=s[0]===this.active[0];if(i.active=i.collapsible&&l?!1:this.headers.index(s),!(this.running||!i.collapsible&&l)){var c=this.active,a=s.next(),r=this.active.next(),o={options:i,newHeader:l&&i.collapsible?t([]):s,oldHeader:this.active,newContent:l&&i.collapsible?t([]):a,oldContent:r},u=this.headers.index(this.active[0])>this.headers.index(s[0]);this.active=l?t([]):s,this._toggle(a,r,o,l,u),c.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(i.icons.headerSelected).addClass(i.icons.header),l||(s.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(i.icons.header).addClass(i.icons.headerSelected),s.next().addClass("ui-accordion-content-active"))}}},_toggle:function(e,n,i,r,o){var a=this,s=a.options;a.toShow=e,a.toHide=n,a.data=i;var l=function(){return a?a._completed.apply(a,arguments):void 0};if(a._trigger("changestart",null,a.data),a.running=0===n.size()?e.size():n.size(),s.animated){var c={};c=s.collapsible&&r?{toShow:t([]),toHide:n,complete:l,down:o,autoHeight:s.autoHeight||s.fillSpace}:{toShow:e,toHide:n,complete:l,down:o,autoHeight:s.autoHeight||s.fillSpace},s.proxied||(s.proxied=s.animated),s.proxiedDuration||(s.proxiedDuration=s.duration),s.animated=t.isFunction(s.proxied)?s.proxied(c):s.proxied,s.duration=t.isFunction(s.proxiedDuration)?s.proxiedDuration(c):s.proxiedDuration;var u=t.ui.accordion.animations,h=s.duration,d=s.animated;d&&!u[d]&&!t.easing[d]&&(d="slide"),u[d]||(u[d]=function(t){this.slide(t,{easing:d,duration:h||700})}),u[d](c)}else s.collapsible&&r?e.toggle():(n.hide(),e.show()),l(!0);n.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),e.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(t){this.running=t?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),t.extend(t.ui.accordion,{version:"1.8.23",animations:{slide:function(e,n){if(e=t.extend({easing:"swing",duration:300},e,n),!e.toHide.size())return void e.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},e);if(!e.toShow.size())return void e.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},e);var i,r=e.toShow.css("overflow"),o=0,a={},s={},l=["height","paddingTop","paddingBottom"],c=e.toShow;i=c[0].style.width,c.width(c.parent().width()-parseFloat(c.css("paddingLeft"))-parseFloat(c.css("paddingRight"))-(parseFloat(c.css("borderLeftWidth"))||0)-(parseFloat(c.css("borderRightWidth"))||0)),t.each(l,function(n,i){s[i]="hide";var r=(""+t.css(e.toShow[0],i)).match(/^([\d+-.]+)(.*)$/);a[i]={value:r[1],unit:r[2]||"px"}}),e.toShow.css({height:0,overflow:"hidden"}).show(),e.toHide.filter(":hidden").each(e.complete).end().filter(":visible").animate(s,{step:function(t,n){"height"==n.prop&&(o=n.end-n.start===0?0:(n.now-n.start)/(n.end-n.start)),e.toShow[0].style[n.prop]=o*a[n.prop].value+a[n.prop].unit},duration:e.duration,easing:e.easing,complete:function(){e.autoHeight||e.toShow.css("height",""),e.toShow.css({width:i,overflow:r}),e.complete()}})},bounceslide:function(t){this.slide(t,{easing:t.down?"easeOutBounce":"swing",duration:t.down?1e3:200})}}})}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var e,n=this,i=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(i){if(!n.options.disabled&&!n.element.propAttr("readOnly")){e=!1;var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:n._move("previousPage",i);break;case r.PAGE_DOWN:n._move("nextPage",i);break;case r.UP:n._keyEvent("previous",i);break;case r.DOWN:n._keyEvent("next",i);break;case r.ENTER:case r.NUMPAD_ENTER:n.menu.active&&(e=!0,i.preventDefault());case r.TAB:if(!n.menu.active)return;n.menu.select(i);break;case r.ESCAPE:n.element.val(n.term),n.close(i);break;default:clearTimeout(n.searching),n.searching=setTimeout(function(){n.term!=n.element.val()&&(n.selectedItem=null,n.search(null,i))},n.options.delay)}}}).bind("keypress.autocomplete",function(t){e&&(e=!1,t.preventDefault())}).bind("focus.autocomplete",function(){n.options.disabled||(n.selectedItem=null,n.previous=n.element.val())}).bind("blur.autocomplete",function(t){n.options.disabled||(clearTimeout(n.searching),n.closing=setTimeout(function(){n.close(t),n._change(t)},150))}),this._initSource(),this.menu=t("<ul></ul>").addClass("ui-autocomplete").appendTo(t(this.options.appendTo||"body",i)[0]).mousedown(function(e){var i=n.menu.element[0];t(e.target).closest(".ui-menu-item").length||setTimeout(function(){t(document).one("mousedown",function(e){e.target!==n.element[0]&&e.target!==i&&!t.ui.contains(i,e.target)&&n.close()})},1),setTimeout(function(){clearTimeout(n.closing)},13)}).menu({focus:function(t,e){var i=e.item.data("item.autocomplete");!1!==n._trigger("focus",t,{item:i})&&/^key/.test(t.originalEvent.type)&&n.element.val(i.value)},selected:function(t,e){var r=e.item.data("item.autocomplete"),o=n.previous;n.element[0]!==i.activeElement&&(n.element.focus(),n.previous=o,setTimeout(function(){n.previous=o,n.selectedItem=r},1)),!1!==n._trigger("select",t,{item:r})&&n.element.val(r.value),n.term=n.element.val(),n.close(t),n.selectedItem=r},blur:function(){n.menu.element.is(":visible")&&n.element.val()!==n.term&&n.element.val(n.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),t.fn.bgiframe&&this.menu.element.bgiframe(),n.beforeunloadHandler=function(){n.element.removeAttr("autocomplete")},t(window).bind("beforeunload",n.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),t(window).unbind("beforeunload",this.beforeunloadHandler),t.Widget.prototype.destroy.call(this)},_setOption:function(e,n){t.Widget.prototype._setOption.apply(this,arguments),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(t(n||"body",this.element[0].ownerDocument)[0]),"disabled"===e&&n&&this.xhr&&this.xhr.abort()},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},search:function(t,e){return t=null!=t?t:this.element.val(),this.term=this.element.val(),t.length<this.options.minLength?this.close(e):(clearTimeout(this.closing),this._trigger("search",e)!==!1?this._search(t):void 0)},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:t},this._response())},_response:function(){var t=this,n=++e;return function(i){n===e&&t.__response(i),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){!this.options.disabled&&t&&t.length?(t=this._normalize(t),this._suggest(t),this._trigger("open")):this.close()},close:function(t){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",t))},_change:function(t){this.previous!==this.element.val()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,e),this.menu.deactivate(),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new t.Event("mouseover"))},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItem(e,n)})},_renderItem:function(e,n){return t("<li></li>").data("item.autocomplete",n).append(t("<a></a>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(t)||this.menu.last()&&/^next/.test(t)?(this.element.val(this.term),void this.menu.deactivate()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}})}(jQuery),function(t){t.widget("ui.menu",{_create:function(){var e=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(n){t(n.target).closest(".ui-menu-item a").length&&(n.preventDefault(),e.select(n))}),this.refresh()},refresh:function(){var e=this,n=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");n.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(n){e.activate(n,t(this).parent())}).mouseleave(function(){e.deactivate()})},activate:function(t,e){if(this.deactivate(),this.hasScroll()){var n=e.offset().top-this.element.offset().top,i=this.element.scrollTop(),r=this.element.height();0>n?this.element.scrollTop(i+n):n>=r&&this.element.scrollTop(i+n-r+e.height())}this.active=e.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",t,{item:e})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(t){this.move("next",".ui-menu-item:first",t)},previous:function(t){this.move("prev",".ui-menu-item:last",t)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(t,e,n){if(!this.active)return void this.activate(n,this.element.children(e));var i=this.active[t+"All"](".ui-menu-item").eq(0);i.length?this.activate(n,i):this.activate(n,this.element.children(e))},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last())return void this.activate(e,this.element.children(".ui-menu-item:first"));var n=this.active.offset().top,i=this.element.height(),r=this.element.children(".ui-menu-item").filter(function(){var e=t(this).offset().top-n-i+t(this).height();return 10>e&&e>-10});r.length||(r=this.element.children(".ui-menu-item:last")),this.activate(e,r)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(e){if(this.hasScroll()){if(!this.active||this.first())return void this.activate(e,this.element.children(".ui-menu-item:last"));var n=this.active.offset().top,i=this.element.height(),r=this.element.children(".ui-menu-item").filter(function(){var e=t(this).offset().top-n+i-t(this).height();return 10>e&&e>-10});r.length||(r=this.element.children(".ui-menu-item:first")),this.activate(e,r)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[t.fn.prop?"prop":"attr"]("scrollHeight")},select:function(t){this._trigger("selected",t,{item:this.active})}})}(jQuery),function(t){var e,n,i,r,o="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},c=function(e){var n=e.name,i=e.form,r=t([]);return n&&(r=i?t(i).find("[name='"+n+"']"):t("[name='"+n+"']",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,s=this.options,u="checkbox"===this.type||"radio"===this.type,h="ui-state-hover"+(u?"":" ui-state-active"),d="ui-state-focus";null===s.label&&(s.label=this.buttonElement.html()),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter.button",function(){s.disabled||(t(this).addClass("ui-state-hover"),this===e&&t(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){s.disabled||t(this).removeClass(h)}).bind("click.button",function(t){s.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus.button",function(){a.buttonElement.addClass(d)}).bind("blur.button",function(){a.buttonElement.removeClass(d)}),u&&(this.element.bind("change.button",function(){r||a.refresh()}),this.buttonElement.bind("mousedown.button",function(t){s.disabled||(r=!1,n=t.pageX,i=t.pageY)}).bind("mouseup.button",function(t){s.disabled||(n!==t.pageX||i!==t.pageY)&&(r=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return s.disabled||r?!1:(t(this).toggleClass("ui-state-active"),void a.buttonElement.attr("aria-pressed",a.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(s.disabled||r)return!1;t(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var e=a.element[0];c(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return s.disabled?!1:(t(this).addClass("ui-state-active"),e=this,t(document).one("mouseup",function(){e=null}),void 0)}).bind("mouseup.button",function(){return s.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown.button",function(e){return s.disabled?!1:void((e.keyCode==t.ui.keyCode.SPACE||e.keyCode==t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup.button",function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){var t=this.element.parents().filter(":last"),e="label[for='"+this.element.attr("id")+"']";this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible");var n=this.element.is(":checked");n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",n)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+a+" "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),t.Widget.prototype.destroy.call(this)},_setOption:function(e,n){return t.Widget.prototype._setOption.apply(this,arguments),"disabled"===e?void(n?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1)):void this._resetButton()},refresh:function(){var e=this.element.is(":disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(s),n=t("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",n))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,n){"disabled"===e&&this.buttons.button("option",e,n),t.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),t.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.bind("mouseout",function(t){var n=$(t.target).closest(e);n.length&&n.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(n){var i=$(n.target).closest(e);!$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])&&i.length&&(i.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),i.addClass("ui-state-hover"),i.hasClass("ui-datepicker-prev")&&i.addClass("ui-datepicker-prev-hover"),i.hasClass("ui-datepicker-next")&&i.addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){$.extend(t,e);for(var n in e)(null==e[n]||e[n]==undefined)&&(t[n]=e[n]);return t}function isArray(t){return t&&($.browser.safari&&"object"==typeof t&&t.length||t.constructor&&t.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.23"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){var n=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,e){var n=$(t);e.append=$([]),e.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,e),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,n,i){e.settings[n]=i}).bind("getData.datepicker",function(t,n){return this._get(e,n)}),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n=this._get(e,"appendText"),i=this._get(e,"isRTL");e.append&&e.append.remove(),n&&(e.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),t[i?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var r=this._get(e,"showOn");if(("focus"==r||"both"==r)&&t.focus(this._showDatepicker),"button"==r||"both"==r){var o=this._get(e,"buttonText"),a=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:a,alt:o,title:o}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==a?o:$("<img/>").attr({src:a,alt:o,title:o}))),t[i?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),n=this._get(t,"dateFormat");if(n.match(/[DM]/)){var i=function(t){for(var e=0,n=0,i=0;i<t.length;i++)t[i].length>e&&(e=t[i].length,n=i);return n};e.setMonth(i(this._get(t,n.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(i(this._get(t,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var n=$(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",function(t,n,i){e.settings[n]=i}).bind("getData.datepicker",function(t,n){return this._get(e,n)}),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,r){var o=this._dialogInst;if(!o){this.uuid+=1;var a="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+a+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},$.data(this._dialogInput[0],PROP_NAME,o)}if(extendRemove(o.settings,i||{}),e=e&&e.constructor==Date?this._formatDate(o,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;
this._pos=[s/2-100+c,l/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,o),this},_destroyDatepicker:function(t){var e=$(t),n=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var i=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==i||"span"==i)&&e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),n=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var i=t.nodeName.toLowerCase();if("input"==i)t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==i||"span"==i){var r=e.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})}},_disableDatepicker:function(t){var e=$(t),n=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var i=t.nodeName.toLowerCase();if("input"==i)t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==i||"span"==i){var r=e.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):i?"all"==e?$.extend({},i.settings):this._get(i,e):null;var r=e||{};if("string"==typeof e&&(r={},r[e]=n),i){this._curInst==i&&this._hideDatepicker();var o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(i,"min"),s=this._getMinMaxDate(i,"max");extendRemove(i.settings,r),null!==a&&r.dateFormat!==undefined&&r.minDate===undefined&&(i.settings.minDate=this._formatDate(i,a)),null!==s&&r.dateFormat!==undefined&&r.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,s)),this._attachments($(t),i),this._autoSize(i),this._setDate(i,o),this._updateAlternate(i),this._updateDatepicker(i)}},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),n=!0,i=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);r[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,r[0]);var o=$.datepicker._get(e,"onSelect");if(o){var a=$.datepicker._formatDate(e);o.apply(e.input?e.input[0]:null,[a,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),n=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),n=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,i?1:-1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),n=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,i?-1:1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),n=t.ctrlKey||t.metaKey;break;default:n=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),i=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{var n=$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e));n&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(i){$.datepicker.log(i)}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!=t.nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(e,"beforeShow"),i=n?n.apply(t,[t,e]):{};if(i!==!1){extendRemove(e.settings,i),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var r=!1;$(t).parents().each(function(){return r|="fixed"==$(this).css("position"),!r}),r&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var o={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),o=$.datepicker._checkOffset(e,o,r),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),!e.inline){var a=$.datepicker._get(e,"showAnim"),s=$.datepicker._get(e,"duration"),l=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var n=$.datepicker._getBorders(e.dpDiv);t.css({left:-n[0],top:-n[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[a]?e.dpDiv.show(a,$.datepicker._get(e,"showOptions"),s,l):e.dpDiv[a||"show"](a?s:null,l),(!a||!s)&&l(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){var e=this;e.maxRows=4;var n=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i=t.dpDiv.find("iframe.ui-datepicker-cover");!i.length||i.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(t),o=r[1],a=17;if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",a*o+"em"),t.dpDiv[(1!=r[0]||1!=r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var s=t.yearshtml;setTimeout(function(){s===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),s=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-o:0,e.left-=n&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=n&&e.top==t.input.offset().top+a?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>s&&s>i?Math.abs(e.left+i-s):0),e.top-=Math.min(e.top,e.top+r>l&&l>r?Math.abs(r+a):0),e},_findPos:function(t){for(var e=this._getInst(t),n=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];var i=$(t).offset();return[i.left,i.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var n=this._get(e,"showAnim"),i=this._get(e,"duration"),r=function(){$.datepicker._tidyDialog(e)};$.effects&&$.effects[n]?e.dpDiv.hide(n,$.datepicker._get(e,"showOptions"),i,r):e.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1;var o=this._get(e,"onClose");o&&o.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),n=$.datepicker._getInst(e[0]);(e[0].id!=$.datepicker._mainDivId&&0==e.parents("#"+$.datepicker._mainDivId).length&&!e.hasClass($.datepicker.markerClassName)&&!e.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||e.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=$(t),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,e+("M"==n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var e=$(t),n=this._getInst(e[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var i=new Date;n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()}this._notifyChange(n),this._adjustDate(e)},_selectMonthYear:function(t,e,n){var i=$(t),r=this._getInst(i[0]);r["selected"+("M"==n?"Month":"Year")]=r["draw"+("M"==n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(t,e,n,i){var r=$(t);if(!$(i).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var o=this._getInst(r[0]);o.selectedDay=o.currentDay=$("a",i).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))}},_clearDate:function(t){{var e=$(t);this._getInst(e[0])}this._selectDate(e,"")},_selectDate:function(t,e){var n=$(t),i=this._getInst(n[0]);e=null!=e?e:this._formatDate(i),i.input&&i.input.val(e),this._updateAlternate(i);var r=this._get(i,"onSelect");r?r.apply(i.input?i.input[0]:null,[e,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t));$(e).each(function(){$(this).val(r)})}},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1},parseDate:function(t,e,n){if(null==t||null==e)throw"Invalid arguments";if(e="object"==typeof e?e.toString():e+"",""==e)return null;var i=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;i="string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10);for(var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,u=-1,h=-1,d=!1,p=function(e){var n=_+1<t.length&&t.charAt(_+1)==e;return n&&_++,n},f=function(t){var n=p(t),i="@"==t?14:"!"==t?20:"y"==t&&n?4:"o"==t?3:2,r=new RegExp("^\\d{1,"+i+"}"),o=e.substring(v).match(r);if(!o)throw"Missing number at position "+v;return v+=o[0].length,parseInt(o[0],10)},g=function(t,n,i){var r=$.map(p(t)?i:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),o=-1;if($.each(r,function(t,n){var i=n[1];return e.substr(v,i.length).toLowerCase()==i.toLowerCase()?(o=n[0],v+=i.length,!1):void 0}),-1!=o)return o+1;throw"Unknown name at position "+v},m=function(){if(e.charAt(v)!=t.charAt(_))throw"Unexpected literal at position "+v;v++},v=0,_=0;_<t.length;_++)if(d)"'"!=t.charAt(_)||p("'")?m():d=!1;else switch(t.charAt(_)){case"d":u=f("d");break;case"D":g("D",r,o);break;case"o":h=f("o");break;case"m":c=f("m");break;case"M":c=g("M",a,s);break;case"y":l=f("y");break;case"@":var b=new Date(f("@"));l=b.getFullYear(),c=b.getMonth()+1,u=b.getDate();break;case"!":var b=new Date((f("!")-this._ticksTo1970)/1e4);l=b.getFullYear(),c=b.getMonth()+1,u=b.getDate();break;case"'":p("'")?m():d=!0;break;default:m()}if(v<e.length)throw"Extra/unparsed characters found in date: "+e.substring(v);if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i>=l?0:-100)),h>-1)for(c=1,u=h;;){var y=this._getDaysInMonth(l,c-1);if(y>=u)break;c++,u-=y}var b=this._daylightSavingAdjust(new Date(l,c-1,u));if(b.getFullYear()!=l||b.getMonth()+1!=c||b.getDate()!=u)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,s=function(e){var n=d+1<t.length&&t.charAt(d+1)==e;return n&&d++,n},l=function(t,e,n){var i=""+e;if(s(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return s(t)?i[e]:n[e]},u="",h=!1;if(e)for(var d=0;d<t.length;d++)if(h)"'"!=t.charAt(d)||s("'")?u+=t.charAt(d):h=!1;else switch(t.charAt(d)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),i,r);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),o,a);break;case"y":u+=s("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":s("'")?u+="'":h=!0;break;default:u+=t.charAt(d)}return u},_possibleChars:function(t){for(var e="",n=!1,i=function(e){var n=r+1<t.length&&t.charAt(r+1)==e;return n&&r++,n},r=0;r<t.length;r++)if(n)"'"!=t.charAt(r)||i("'")?e+=t.charAt(r):n=!1;else switch(t.charAt(r)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":i("'")?e+="'":n=!0;break;default:e+=t.charAt(r)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var n,i,r=this._get(t,"dateFormat"),o=t.lastVal=t.input?t.input.val():null;n=i=this._getDefaultDate(t);var a=this._getFormatConfig(t);try{n=this.parseDate(r,o,a)||i}catch(s){this.log(s),o=e?"":o}t.selectedDay=n.getDate(),t.drawMonth=t.selectedMonth=n.getMonth(),t.drawYear=t.selectedYear=n.getFullYear(),t.currentDay=o?n.getDate():0,t.currentMonth=o?n.getMonth():0,t.currentYear=o?n.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,n){var i=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(n){}for(var i=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),o=i.getMonth(),a=i.getDate(),s=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(e);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(r,o))}l=s.exec(e)}return new Date(r,o,a)},o=null==e||""===e?n:"string"==typeof e?r(e):"number"==typeof e?isNaN(e)?n:i(e):new Date(e.getTime());return o=o&&"Invalid Date"==o.toString()?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),(r!=t.selectedMonth||o!=t.selectedYear)&&!n&&this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var n=this._get(t,"isRTL"),i=this._get(t,"showButtonPanel"),r=this._get(t,"hideIfNoPrevNext"),o=this._get(t,"navigationAsDateFormat"),a=this._getNumberOfMonths(t),s=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),c=1!=a[0]||1!=a[1],u=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),h=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),p=t.drawMonth-s,f=t.drawYear;if(0>p&&(p+=12,f--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-a[0]*a[1]+1,d.getDate()));for(g=h&&h>g?h:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)p--,0>p&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var m=this._get(t,"prevText");m=o?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",_=this._get(t,"nextText");_=o?this.formatDate(_,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(t)):_;var b=this._canAdjustMonth(t,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+_+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+_+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+_+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+_+"</span></a>",y=this._get(t,"currentText"),w=this._get(t,"gotoCurrent")&&t.currentDay?u:e;y=o?this.formatDate(y,w,this._getFormatConfig(t)):y;var k=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"</button>",x=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?k:"")+(this._isInRange(t,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+y+"</button>":"")+(n?"":k)+"</div>":"",S=parseInt(this._get(t,"firstDay"),10);S=isNaN(S)?0:S;for(var C=this._get(t,"showWeek"),T=this._get(t,"dayNames"),E=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),D=this._get(t,"monthNames"),I=this._get(t,"monthNamesShort"),P=this._get(t,"beforeShowDay"),A=this._get(t,"showOtherMonths"),j=this._get(t,"selectOtherMonths"),O=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),R="",M=0;M<a[0];M++){var N="";this.maxRows=4;for(var F=0;F<a[1];F++){var L=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),B=" ui-corner-all",z="";if(c){if(z+='<div class="ui-datepicker-group',a[1]>1)switch(F){case 0:z+=" ui-datepicker-group-first",B=" ui-corner-"+(n?"right":"left");break;case a[1]-1:z+=" ui-datepicker-group-last",B=" ui-corner-"+(n?"left":"right");break;default:z+=" ui-datepicker-group-middle",B=""}z+='">'}z+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+B+'">'+(/all|left/.test(B)&&0==M?n?b:v:"")+(/all|right/.test(B)&&0==M?n?v:b:"")+this._generateMonthYearHeader(t,p,f,h,d,M>0||F>0,D,I)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var U=C?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",H=0;7>H;H++){var W=(H+S)%7;U+="<th"+((H+S+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+T[W]+'">'+E[W]+"</span></th>"}z+=U+"</tr></thead><tbody>";var q=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,q));var V=(this._getFirstDayOfMonth(f,p)-S+7)%7,Q=Math.ceil((V+q)/7),K=c&&this.maxRows>Q?this.maxRows:Q;this.maxRows=K;for(var Y=this._daylightSavingAdjust(new Date(f,p,1-V)),G=0;K>G;G++){z+="<tr>";for(var J=C?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(Y)+"</td>":"",H=0;7>H;H++){var X=P?P.apply(t.input?t.input[0]:null,[Y]):[!0,""],Z=Y.getMonth()!=p,te=Z&&!j||!X[0]||h&&h>Y||d&&Y>d;J+='<td class="'+((H+S+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(Y.getTime()==L.getTime()&&p==t.selectedMonth&&t._keyEvent||O.getTime()==Y.getTime()&&O.getTime()==L.getTime()?" "+this._dayOverClass:"")+(te?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!A?"":" "+X[1]+(Y.getTime()==u.getTime()?" "+this._currentClass:"")+(Y.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!A||!X[2]?"":' title="'+X[2]+'"')+(te?"":' data-handler="selectDay" data-event="click" data-month="'+Y.getMonth()+'" data-year="'+Y.getFullYear()+'"')+">"+(Z&&!A?"&#xa0;":te?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==e.getTime()?" ui-state-highlight":"")+(Y.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}z+=J+"</tr>"}p++,p>11&&(p=0,f++),z+="</tbody></table>"+(c?"</div>"+(a[0]>0&&F==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),N+=z}R+=N}return R+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,R},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var l=this._get(t,"changeMonth"),c=this._get(t,"changeYear"),u=this._get(t,"showMonthAfterYear"),h='<div class="ui-datepicker-title">',d="";if(o||!l)d+='<span class="ui-datepicker-month">'+a[e]+"</span>";else{var p=i&&i.getFullYear()==n,f=r&&r.getFullYear()==n;d+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;12>g;g++)(!p||g>=i.getMonth())&&(!f||g<=r.getMonth())&&(d+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+s[g]+"</option>");d+="</select>"}if(u||(h+=d+(!o&&l&&c?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!c)h+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),_=function(t){var e=t.match(/c[+-].*/)?n+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},b=_(m[0]),y=Math.max(b,_(m[1]||""));for(b=i?Math.max(b,i.getFullYear()):b,y=r?Math.min(y,r.getFullYear()):y,t.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';y>=b;b++)t.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";t.yearshtml+="</select>",h+=t.yearshtml,t.yearshtml=null}return h+=this._get(t,"yearSuffix"),u&&(h+=(!o&&l&&c?"":"&#xa0;")+d),h+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"==n?e:0),r=t.drawMonth+("M"==n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"==n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"==n||"Y"==n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return r=i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max");return(!n||e.getTime()>=n.getTime())&&(!i||e.getTime()<=i.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.23",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(t,e){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(e){var n=t(this).css(e).offset().top;0>n&&t(this).css("top",e.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;{var e=this,i=e.options,r=i.title||"&#160;",o=t.ui.dialog.getTitleId(e.element),a=(e.uiDialog=t("<div></div>")).appendTo(document.body).hide().addClass(n+i.dialogClass).css({zIndex:i.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(n){i.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===t.ui.keyCode.ESCAPE&&(e.close(n),n.preventDefault())}).attr({role:"dialog","aria-labelledby":o}).mousedown(function(t){e.moveToTop(!1,t)}),s=(e.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(a),(e.uiDialogTitlebar=t("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(a)),l=t('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){l.addClass("ui-state-hover")},function(){l.removeClass("ui-state-hover")}).focus(function(){l.addClass("ui-state-focus")}).blur(function(){l.removeClass("ui-state-focus")}).click(function(t){return e.close(t),!1}).appendTo(s);(e.uiDialogTitlebarCloseText=t("<span></span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(l),t("<span></span>").addClass("ui-dialog-title").attr("id",o).html(r).prependTo(s)}t.isFunction(i.beforeclose)&&!t.isFunction(i.beforeClose)&&(i.beforeClose=i.beforeclose),s.find("*").add(s).disableSelection(),i.draggable&&t.fn.draggable&&e._makeDraggable(),i.resizable&&t.fn.resizable&&e._makeResizable(),e._createButtons(i.buttons),e._isOpen=!1,t.fn.bgiframe&&a.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var t=this;return t.overlay&&t.overlay.destroy(),t.uiDialog.hide(),t.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),t.uiDialog.remove(),t.originalTitle&&t.element.attr("title",t.originalTitle),t},widget:function(){return this.uiDialog},close:function(e){var n,i,r=this;
if(!1!==r._trigger("beforeClose",e))return r.overlay&&r.overlay.destroy(),r.uiDialog.unbind("keypress.ui-dialog"),r._isOpen=!1,r.options.hide?r.uiDialog.hide(r.options.hide,function(){r._trigger("close",e)}):(r.uiDialog.hide(),r._trigger("close",e)),t.ui.dialog.overlay.resize(),r.options.modal&&(n=0,t(".ui-dialog").each(function(){this!==r.uiDialog[0]&&(i=t(this).css("z-index"),isNaN(i)||(n=Math.max(n,i)))}),t.ui.dialog.maxZ=n),r},isOpen:function(){return this._isOpen},moveToTop:function(e,n){var i,r=this,o=r.options;return o.modal&&!e||!o.stack&&!o.modal?r._trigger("focus",n):(o.zIndex>t.ui.dialog.maxZ&&(t.ui.dialog.maxZ=o.zIndex),r.overlay&&(t.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",t.ui.dialog.overlay.maxZ=t.ui.dialog.maxZ)),i={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},t.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",t.ui.dialog.maxZ),r.element.attr(i),r._trigger("focus",n),r)},open:function(){if(!this._isOpen){var e=this,n=e.options,i=e.uiDialog;return e.overlay=n.modal?new t.ui.dialog.overlay(e):null,e._size(),e._position(n.position),i.show(n.show),e.moveToTop(!0),n.modal&&i.bind("keydown.ui-dialog",function(e){if(e.keyCode===t.ui.keyCode.TAB){var n=t(":tabbable",this),i=n.filter(":first"),r=n.filter(":last");return e.target!==r[0]||e.shiftKey?e.target===i[0]&&e.shiftKey?(r.focus(1),!1):void 0:(i.focus(1),!1)}}),t(e.element.find(":tabbable").get().concat(i.find(".ui-dialog-buttonpane :tabbable").get().concat(i.get()))).eq(0).focus(),e._isOpen=!0,e._trigger("open"),e}},_createButtons:function(e){var n=this,i=!1,r=t("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),o=t("<div></div>").addClass("ui-dialog-buttonset").appendTo(r);n.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof e&&null!==e&&t.each(e,function(){return!(i=!0)}),i&&(t.each(e,function(e,i){i=t.isFunction(i)?{click:i,text:e}:i;var r=t('<button type="button"></button>').click(function(){i.click.apply(n.element[0],arguments)}).appendTo(o);t.each(i,function(t,e){"click"!==t&&(t in r?r[t](e):r.attr(t,e))}),t.fn.button&&r.button()}),r.appendTo(n.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n,i=this,r=i.options,o=t(document);i.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(o,a){n="auto"===r.height?"auto":t(this).height(),t(this).height(t(this).height()).addClass("ui-dialog-dragging"),i._trigger("dragStart",o,e(a))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(a,s){r.position=[s.position.left-o.scrollLeft(),s.position.top-o.scrollTop()],t(this).removeClass("ui-dialog-dragging").height(n),i._trigger("dragStop",a,e(s)),t.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function i(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}n=n===e?this.options.resizable:n;var r=this,o=r.options,a=r.uiDialog.css("position"),s="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";r.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:r.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:r._minHeight(),handles:s,start:function(e,n){t(this).addClass("ui-dialog-resizing"),r._trigger("resizeStart",e,i(n))},resize:function(t,e){r._trigger("resize",t,i(e))},stop:function(e,n){t(this).removeClass("ui-dialog-resizing"),o.height=t(this).height(),o.width=t(this).width(),r._trigger("resizeStop",e,i(n)),t.ui.dialog.overlay.resize()}}).css("position",a).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(e){var n,i=[],r=[0,0];e?(("string"==typeof e||"object"==typeof e&&"0"in e)&&(i=e.split?e.split(" "):[e[0],e[1]],1===i.length&&(i[1]=i[0]),t.each(["left","top"],function(t,e){+i[t]===i[t]&&(r[t]=i[t],i[t]=e)}),e={my:i.join(" "),at:i.join(" "),offset:r.join(" ")}),e=t.extend({},t.ui.dialog.prototype.options.position,e)):e=t.ui.dialog.prototype.options.position,n=this.uiDialog.is(":visible"),n||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(t.extend({of:window},e)),n||this.uiDialog.hide()},_setOptions:function(e){var n=this,o={},a=!1;t.each(e,function(t,e){n._setOption(t,e),t in i&&(a=!0),t in r&&(o[t]=e)}),a&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,i){var r=this,o=r.uiDialog;switch(e){case"beforeclose":e="beforeClose";break;case"buttons":r._createButtons(i);break;case"closeText":r.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":o.removeClass(r.options.dialogClass).addClass(n+i);break;case"disabled":i?o.addClass("ui-dialog-disabled"):o.removeClass("ui-dialog-disabled");break;case"draggable":var a=o.is(":data(draggable)");a&&!i&&o.draggable("destroy"),!a&&i&&r._makeDraggable();break;case"position":r._position(i);break;case"resizable":var s=o.is(":data(resizable)");s&&!i&&o.resizable("destroy"),s&&"string"==typeof i&&o.resizable("option","handles",i),!s&&i!==!1&&r._makeResizable(i);break;case"title":t(".ui-dialog-title",r.uiDialogTitlebar).html(""+(i||"&#160;"))}t.Widget.prototype._setOption.apply(r,arguments)},_size:function(){var e,n,i=this.options,r=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).height(),n=Math.max(0,i.minHeight-e),"auto"===i.height)if(t.support.minHeight)this.element.css({minHeight:n,height:"auto"});else{this.uiDialog.show();var o=this.element.css("height","auto").height();r||this.uiDialog.hide(),this.element.height(Math.max(o,n))}else this.element.height(Math.max(i.height-e,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),t.extend(t.ui.dialog,{version:"1.8.23",uuid:0,maxZ:0,getTitleId:function(t){var e=t.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(e){this.$el=t.ui.dialog.overlay.create(e)}}),t.extend(t.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:t.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(t){return t+".dialog-overlay"}).join(" "),create:function(e){0===this.instances.length&&(setTimeout(function(){t.ui.dialog.overlay.instances.length&&t(document).bind(t.ui.dialog.overlay.events,function(e){return t(e.target).zIndex()<t.ui.dialog.overlay.maxZ?!1:void 0})},1),t(document).bind("keydown.dialog-overlay",function(n){e.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===t.ui.keyCode.ESCAPE&&(e.close(n),n.preventDefault())}),t(window).bind("resize.dialog-overlay",t.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||t("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return t.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(e){var n=t.inArray(e,this.instances);-1!=n&&this.oldInstances.push(this.instances.splice(n,1)[0]),0===this.instances.length&&t([document,window]).unbind(".dialog-overlay"),e.remove();var i=0;t.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var e,n;return t.browser.msie&&t.browser.version<7?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),n>e?t(window).height()+"px":e+"px"):t(document).height()+"px"},width:function(){var e,n;return t.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),n>e?t(window).width()+"px":e+"px"):t(document).width()+"px"},resize:function(){var e=t([]);t.each(t.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:t.ui.dialog.overlay.width(),height:t.ui.dialog.overlay.height()})}}),t.extend(t.ui.dialog.overlay.prototype,{destroy:function(){t.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(t){t.ui=t.ui||{};var e=/left|center|right/,n=/top|center|bottom/,i="center",r={},o=t.fn.position,a=t.fn.offset;t.fn.position=function(a){if(!a||!a.of)return o.apply(this,arguments);a=t.extend({},a);var s,l,c,u=t(a.of),h=u[0],d=(a.collision||"flip").split(" "),p=a.offset?a.offset.split(" "):[0,0];return 9===h.nodeType?(s=u.width(),l=u.height(),c={top:0,left:0}):h.setTimeout?(s=u.width(),l=u.height(),c={top:u.scrollTop(),left:u.scrollLeft()}):h.preventDefault?(a.at="left top",s=l=0,c={top:a.of.pageY,left:a.of.pageX}):(s=u.outerWidth(),l=u.outerHeight(),c=u.offset()),t.each(["my","at"],function(){var t=(a[this]||"").split(" ");1===t.length&&(t=e.test(t[0])?t.concat([i]):n.test(t[0])?[i].concat(t):[i,i]),t[0]=e.test(t[0])?t[0]:i,t[1]=n.test(t[1])?t[1]:i,a[this]=t}),1===d.length&&(d[1]=d[0]),p[0]=parseInt(p[0],10)||0,1===p.length&&(p[1]=p[0]),p[1]=parseInt(p[1],10)||0,"right"===a.at[0]?c.left+=s:a.at[0]===i&&(c.left+=s/2),"bottom"===a.at[1]?c.top+=l:a.at[1]===i&&(c.top+=l/2),c.left+=p[0],c.top+=p[1],this.each(function(){var e,n=t(this),o=n.outerWidth(),u=n.outerHeight(),h=parseInt(t.curCSS(this,"marginLeft",!0))||0,f=parseInt(t.curCSS(this,"marginTop",!0))||0,g=o+h+(parseInt(t.curCSS(this,"marginRight",!0))||0),m=u+f+(parseInt(t.curCSS(this,"marginBottom",!0))||0),v=t.extend({},c);"right"===a.my[0]?v.left-=o:a.my[0]===i&&(v.left-=o/2),"bottom"===a.my[1]?v.top-=u:a.my[1]===i&&(v.top-=u/2),r.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),e={left:v.left-h,top:v.top-f},t.each(["left","top"],function(n,i){t.ui.position[d[n]]&&t.ui.position[d[n]][i](v,{targetWidth:s,targetHeight:l,elemWidth:o,elemHeight:u,collisionPosition:e,collisionWidth:g,collisionHeight:m,offset:p,my:a.my,at:a.at})}),t.fn.bgiframe&&n.bgiframe(),n.offset(t.extend(v,{using:a.using}))})},t.ui.position={fit:{left:function(e,n){var i=t(window),r=n.collisionPosition.left+n.collisionWidth-i.width()-i.scrollLeft();e.left=r>0?e.left-r:Math.max(e.left-n.collisionPosition.left,e.left)},top:function(e,n){var i=t(window),r=n.collisionPosition.top+n.collisionHeight-i.height()-i.scrollTop();e.top=r>0?e.top-r:Math.max(e.top-n.collisionPosition.top,e.top)}},flip:{left:function(e,n){if(n.at[0]!==i){var r=t(window),o=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft(),a="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,s="left"===n.at[0]?n.targetWidth:-n.targetWidth,l=-2*n.offset[0];e.left+=n.collisionPosition.left<0?a+s+l:o>0?a+s+l:0}},top:function(e,n){if(n.at[1]!==i){var r=t(window),o=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop(),a="top"===n.my[1]?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,s="top"===n.at[1]?n.targetHeight:-n.targetHeight,l=-2*n.offset[1];e.top+=n.collisionPosition.top<0?a+s+l:o>0?a+s+l:0}}}},t.offset.setOffset||(t.offset.setOffset=function(e,n){/static/.test(t.curCSS(e,"position"))&&(e.style.position="relative");var i=t(e),r=i.offset(),o=parseInt(t.curCSS(e,"top",!0),10)||0,a=parseInt(t.curCSS(e,"left",!0),10)||0,s={top:n.top-r.top+o,left:n.left-r.left+a};"using"in n?n.using.call(e,s):i.css(s)},t.fn.offset=function(e){var n=this[0];return n&&n.ownerDocument?e?this.each(t.isFunction(e)?function(n){t(this).offset(e.call(this,n,t(this).offset()))}:function(){t.offset.setOffset(this,e)}):a.call(this):null}),t.curCSS||(t.curCSS=t.css),function(){var e,n,i,o,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(var c in i)e.style[c]=i[c];e.appendChild(l),n=s||document.documentElement,n.insertBefore(e,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",o=t(l).offset(function(t,e){return e}).offset(),e.innerHTML="",n.removeChild(e),a=o.top+o.left+(s?2e3:0),r.fractions=a>21&&22>a}()}(jQuery),function(t,e){t.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),t.Widget.prototype.destroy.apply(this,arguments)},value:function(t){return t===e?this._value():(this._setOption("value",t),this)},_setOption:function(e,n){"value"===e&&(this.options.value=n,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),t.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var t=this.options.value;return"number"!=typeof t&&(t=0),Math.min(this.options.max,Math.max(this.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var t=this.value(),e=this._percentage();this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),this.valueDiv.toggle(t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",t)}}),t.extend(t.ui.progressbar,{version:"1.8.23"})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var n=this,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=i.values&&i.values.length||1,s=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(i.disabled?" ui-slider-disabled ui-disabled":"")),this.range=t([]),i.range&&(i.range===!0&&(i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&2!==i.values.length&&(i.values=[i.values[0],i.values[0]])),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===i.range||"max"===i.range?" ui-slider-range-"+i.range:"")));for(var l=r.length;a>l;l+=1)s.push(o);this.handles=r.add(t(s.join("")).appendTo(n.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).hover(function(){i.disabled||t(this).addClass("ui-state-hover")},function(){t(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))}).blur(function(){t(this).removeClass("ui-state-focus")}),this.handles.each(function(e){t(this).data("index.ui-slider-handle",e)}),this.handles.keydown(function(i){var r,o,a,s,l=t(this).data("index.ui-slider-handle");if(!n.options.disabled){switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!n._keySliding&&(n._keySliding=!0,t(this).addClass("ui-state-active"),r=n._start(i,l),r===!1))return}switch(s=n.options.step,o=a=n.options.values&&n.options.values.length?n.values(l):n.value(),i.keyCode){case t.ui.keyCode.HOME:a=n._valueMin();break;case t.ui.keyCode.END:a=n._valueMax();break;case t.ui.keyCode.PAGE_UP:a=n._trimAlignValue(o+(n._valueMax()-n._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=n._trimAlignValue(o-(n._valueMax()-n._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(o===n._valueMax())return;a=n._trimAlignValue(o+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(o===n._valueMin())return;a=n._trimAlignValue(o-s)}n._slide(i,l,a)}}).keyup(function(e){var i=t(this).data("index.ui-slider-handle");n._keySliding&&(n._keySliding=!1,n._stop(e,i),n._change(e,i),t(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(e){var n,i,r,o,a,s,l,c,u,h=this.options;return h.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,a=this,this.handles.each(function(e){var n=Math.abs(i-a.values(e));r>n&&(r=n,o=t(this),s=e)}),h.range===!0&&this.values(1)===h.min&&(s+=1,o=t(this.handles[s])),l=this._start(e,s),l===!1?!1:(this._mouseSliding=!0,a._handleIndex=s,o.addClass("ui-state-active").focus(),c=o.offset(),u=!t(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-c.left-o.width()/2,top:e.pageY-c.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&n>i||1===e&&i>n)&&(n=i),n!==this.values(e)&&(r=this.values(),r[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),o!==!1&&this.values(e,n,!0))):n!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:n}),o!==!1&&this.value(n))},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch(t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,i,r,o,a=this.options.range,s=this.options,l=this,c=this._animateOff?!1:s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){e=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=e+"%",t(this).stop(1,1)[c?"animate":"css"](u,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:e+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:e-n+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:e+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:e-n+"%"},{queue:!1,duration:s.animate}))),n=e}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),e=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===l.orientation?"left":"bottom"]=e+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:e+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-e+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:e+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:s.animate}))}}),t.extend(t.ui.slider,{version:"1.8.23"})}(jQuery),function(t,e){function n(){return++r}function i(){return++o}var r=0,o=0;t.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(t,e){if("selected"==t){if(this.options.collapsible&&e==this.options.selected)return;this.select(e)}else this.options[t]=e,this._tabify()},_tabId:function(t){return t.title&&t.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+n()},_sanitizeSelector:function(t){return t.replace(/:/g,"\\:")},_cookie:function(){var e=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+i());return t.cookie.apply(null,[e].concat(t.makeArray(arguments)))},_ui:function(t,e){return{tab:t,panel:e,index:this.anchors.index(t)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var e=t(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},_tabify:function(n){function i(e,n){e.css("display",""),!t.support.opacity&&n.opacity&&e[0].style.removeAttribute("filter")}var r=this,o=this.options,a=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=t(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return t("a",this)[0]}),this.panels=t([]),this.anchors.each(function(e,n){var i,s=t(n).attr("href"),l=s.split("#")[0];if(l&&(l===location.toString().split("#")[0]||(i=t("base")[0])&&l===i.href)&&(s=n.hash,n.href=s),a.test(s))r.panels=r.panels.add(r.element.find(r._sanitizeSelector(s)));else if(s&&"#"!==s){t.data(n,"href.tabs",s),t.data(n,"load.tabs",s.replace(/#.*$/,""));var c=r._tabId(n);n.href="#"+c;var u=r.element.find("#"+c);u.length||(u=t(o.panelTemplate).attr("id",c).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(r.panels[e-1]||r.list),u.data("destroy.tabs",!0)),r.panels=r.panels.add(u)}else o.disabled.push(e)}),n?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),o.selected===e?(location.hash&&this.anchors.each(function(t,e){return e.hash==location.hash?(o.selected=t,!1):void 0}),"number"!=typeof o.selected&&o.cookie&&(o.selected=parseInt(r._cookie(),10)),"number"!=typeof o.selected&&this.lis.filter(".ui-tabs-selected").length&&(o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),o.selected=o.selected||(this.lis.length?0:-1)):null===o.selected&&(o.selected=-1),o.selected=o.selected>=0&&this.anchors[o.selected]||o.selected<0?o.selected:0,o.disabled=t.unique(o.disabled.concat(t.map(this.lis.filter(".ui-state-disabled"),function(t){return r.lis.index(t)}))).sort(),-1!=t.inArray(o.selected,o.disabled)&&o.disabled.splice(t.inArray(o.selected,o.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),o.selected>=0&&this.anchors.length&&(r.element.find(r._sanitizeSelector(r.anchors[o.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active"),r.element.queue("tabs",function(){r._trigger("show",null,r._ui(r.anchors[o.selected],r.element.find(r._sanitizeSelector(r.anchors[o.selected].hash))[0]))}),this.load(o.selected)),t(window).bind("unload",function(){r.lis.add(r.anchors).unbind(".tabs"),r.lis=r.anchors=r.panels=null})):o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),o.cookie&&this._cookie(o.selected,o.cookie);for(var s,l=0;s=this.lis[l];l++)t(s)[-1==t.inArray(l,o.disabled)||t(s).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(o.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==o.event){var c=function(t,e){e.is(":not(.ui-state-disabled)")&&e.addClass("ui-state-"+t)},u=function(t,e){e.removeClass("ui-state-"+t)};this.lis.bind("mouseover.tabs",function(){c("hover",t(this))}),this.lis.bind("mouseout.tabs",function(){u("hover",t(this))}),this.anchors.bind("focus.tabs",function(){c("focus",t(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){u("focus",t(this).closest("li"))})}var h,d;o.fx&&(t.isArray(o.fx)?(h=o.fx[0],d=o.fx[1]):h=d=o.fx);var p=d?function(e,n){t(e).closest("li").addClass("ui-tabs-selected ui-state-active"),n.hide().removeClass("ui-tabs-hide").animate(d,d.duration||"normal",function(){i(n,d),r._trigger("show",null,r._ui(e,n[0]))})}:function(e,n){t(e).closest("li").addClass("ui-tabs-selected ui-state-active"),n.removeClass("ui-tabs-hide"),r._trigger("show",null,r._ui(e,n[0]))},f=h?function(t,e){e.animate(h,h.duration||"normal",function(){r.lis.removeClass("ui-tabs-selected ui-state-active"),e.addClass("ui-tabs-hide"),i(e,h),r.element.dequeue("tabs")})}:function(t,e){r.lis.removeClass("ui-tabs-selected ui-state-active"),e.addClass("ui-tabs-hide"),r.element.dequeue("tabs")};this.anchors.bind(o.event+".tabs",function(){var e=this,n=t(e).closest("li"),i=r.panels.filter(":not(.ui-tabs-hide)"),a=r.element.find(r._sanitizeSelector(e.hash));if(n.hasClass("ui-tabs-selected")&&!o.collapsible||n.hasClass("ui-state-disabled")||n.hasClass("ui-state-processing")||r.panels.filter(":animated").length||r._trigger("select",null,r._ui(this,a[0]))===!1)return this.blur(),!1;if(o.selected=r.anchors.index(this),r.abort(),o.collapsible){if(n.hasClass("ui-tabs-selected"))return o.selected=-1,o.cookie&&r._cookie(o.selected,o.cookie),r.element.queue("tabs",function(){f(e,i)}).dequeue("tabs"),this.blur(),!1;if(!i.length)return o.cookie&&r._cookie(o.selected,o.cookie),r.element.queue("tabs",function(){p(e,a)}),r.load(r.anchors.index(this)),this.blur(),!1}if(o.cookie&&r._cookie(o.selected,o.cookie),!a.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";i.length&&r.element.queue("tabs",function(){f(e,i)}),r.element.queue("tabs",function(){p(e,a)}),r.load(r.anchors.index(this)),t.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},destroy:function(){var e=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var e=t.data(this,"href.tabs");e&&(this.href=e);var n=t(this).unbind(".tabs");t.each(["href","load","cache"],function(t,e){n.removeData(e+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){t.data(this,"destroy.tabs")?t(this).remove():t(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),e.cookie&&this._cookie(null,e.cookie),this},add:function(n,i,r){r===e&&(r=this.anchors.length);var o=this,a=this.options,s=t(a.tabTemplate.replace(/#\{href\}/g,n).replace(/#\{label\}/g,i)),l=n.indexOf("#")?this._tabId(t("a",s)[0]):n.replace("#","");s.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var c=o.element.find("#"+l);return c.length||(c=t(a.panelTemplate).attr("id",l).data("destroy.tabs",!0)),c.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),r>=this.lis.length?(s.appendTo(this.list),c.appendTo(this.list[0].parentNode)):(s.insertBefore(this.lis[r]),c.insertBefore(this.panels[r])),a.disabled=t.map(a.disabled,function(t){return t>=r?++t:t}),this._tabify(),1==this.anchors.length&&(a.selected=0,s.addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[r],this.panels[r])),this},remove:function(e){e=this._getIndex(e);var n=this.options,i=this.lis.eq(e).remove(),r=this.panels.eq(e).remove();return i.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(e+(e+1<this.anchors.length?1:-1)),n.disabled=t.map(t.grep(n.disabled,function(t){return t!=e}),function(t){return t>=e?--t:t}),this._tabify(),this._trigger("remove",null,this._ui(i.find("a")[0],r[0])),this},enable:function(e){e=this._getIndex(e);var n=this.options;if(-1!=t.inArray(e,n.disabled))return this.lis.eq(e).removeClass("ui-state-disabled"),n.disabled=t.grep(n.disabled,function(t){return t!=e}),this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e])),this},disable:function(t){t=this._getIndex(t);var e=this.options;return t!=e.selected&&(this.lis.eq(t).addClass("ui-state-disabled"),e.disabled.push(t),e.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))),this},select:function(t){if(t=this._getIndex(t),-1==t){if(!this.options.collapsible||-1==this.options.selected)return this;t=this.options.selected}return this.anchors.eq(t).trigger(this.options.event+".tabs"),this
},load:function(e){e=this._getIndex(e);var n=this,i=this.options,r=this.anchors.eq(e)[0],o=t.data(r,"load.tabs");if(this.abort(),!o||0!==this.element.queue("tabs").length&&t.data(r,"cache.tabs"))return void this.element.dequeue("tabs");if(this.lis.eq(e).addClass("ui-state-processing"),i.spinner){var a=t("span",r);a.data("label.tabs",a.html()).html(i.spinner)}return this.xhr=t.ajax(t.extend({},i.ajaxOptions,{url:o,success:function(o,a){n.element.find(n._sanitizeSelector(r.hash)).html(o),n._cleanup(),i.cache&&t.data(r,"cache.tabs",!0),n._trigger("load",null,n._ui(n.anchors[e],n.panels[e]));try{i.ajaxOptions.success(o,a)}catch(s){}},error:function(t,o){n._cleanup(),n._trigger("load",null,n._ui(n.anchors[e],n.panels[e]));try{i.ajaxOptions.error(t,o,e,r)}catch(a){}}})),n.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(t,e){return this.anchors.eq(t).removeData("cache.tabs").data("load.tabs",e),this},length:function(){return this.anchors.length}}),t.extend(t.ui.tabs,{version:"1.8.23"}),t.extend(t.ui.tabs.prototype,{rotation:null,rotate:function(t,e){var n=this,i=this.options,r=n._rotate||(n._rotate=function(e){clearTimeout(n.rotation),n.rotation=setTimeout(function(){var t=i.selected;n.select(++t<n.anchors.length?t:0)},t),e&&e.stopPropagation()}),o=n._unrotate||(n._unrotate=e?function(){r()}:function(t){t.clientX&&n.rotate(null)});return t?(this.element.bind("tabsshow",r),this.anchors.bind(i.event+".tabs",o),r()):(clearTimeout(n.rotation),this.element.unbind("tabsshow",r),this.anchors.unbind(i.event+".tabs",o),delete this._rotate,delete this._unrotate),this}})}(jQuery),/*!
* jQuery Validation Plugin 1.11.1
*
* http://bassistance.de/jquery-plugins/jquery-plugin-validation/
* http://docs.jquery.com/Plugins/Validation
*
* Copyright 2013 JÃ¶rn Zaefferer
* Released under the MIT license:
*   http://www.opensource.org/licenses/mit-license.php
*
* Modified from v.1.11 by Yaz, March 2013
* 	- added an id to the error label to force screen readers to read error (Line 698)
*
* Modified by Elaine, November 2014
*   - escaped url before validation so we don't mark valid urls as invalid (Line 1028)
*/
function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=t.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(e.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,n=t(this[0].form).validate();return this.each(function(){e=e&&n.element(this)}),e},removeAttrs:function(e){var n={},i=this;return t.each(e.split(/\s/),function(t,e){n[e]=i.attr(e),i.removeAttr(e)}),n},rules:function(e,n){var i=this[0];if(e){var r=t.data(i.form,"validator").settings,o=r.rules,a=t.validator.staticRules(i);switch(e){case"add":t.extend(a,t.validator.normalizeRule(n)),delete a.messages,o[i.name]=a,n.messages&&(r.messages[i.name]=t.extend(r.messages[i.name],n.messages));break;case"remove":if(!n)return delete o[i.name],a;var s={};return t.each(n.split(/\s/),function(t,e){s[e]=a[e],delete a[e]}),s}}var l=t.validator.normalizeRules(t.extend({},t.validator.classRules(i),t.validator.attributeRules(i),t.validator.dataRules(i),t.validator.staticRules(i)),i);if(l.required){var c=l.required;delete l.required,l=t.extend({required:c},l)}return l}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})});var i=this.settings.rules;t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var n=this.check(e)!==!1;return n?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var n in e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var n in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!e.objectLength(t(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n=t(e).attr("type"),i=t(e).val();return"radio"===n||"checkbox"===n?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i=t(e).rules(),r=!1,o=this.elementValue(e);for(var a in i){var s={method:a,parameters:i[a]};try{if(n=t.validator.methods[a].call(this,o,e,s.parameters),"dependency-mismatch"===n){r=!0;continue}if(r=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,s),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",l),l}}return r?void 0:(this.objectLength(i)&&this.successList.push(e),!0)},customDataMessage:function(e,n){return t(e).data("msg-"+n.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+n.toLowerCase())},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,n){var i=this.defaultMessage(e,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:e}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var n=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i=this.errorsFor(e);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).attr("id",this.idOrName(e)+"-error").addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,e)),this.toShow=this.toShow.add(i)},errorsFor:function(e){var n=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===n})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},attributeRules:function(e){var n={},i=t(e),r=i[0].getAttribute("type");for(var o in t.validator.methods){var a;"required"===o?(a=i.get(0).getAttribute(o),""===a&&(a=!0),a=!!a):a=i.attr(o),/min|max/.test(o)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?n[o]=a:r===o&&"range"!==r&&(n[o]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var n,i,r={},o=t(e);for(n in t.validator.methods)i=o.data("rule-"+n.toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(r===!1)return void delete e[i];if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!t(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?e[i]=void 0!==r.param?r.param:!0:delete e[i]}}),t.each(e,function(i,r){e[i]=t.isFunction(r)?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return t=encodeURI(t),this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n=0,i=0,r=!1;t=t.replace(/\D/g,"");for(var o=t.length-1;o>=0;o--){var a=t.charAt(o);i=parseInt(a,10),r&&(i*=2)>9&&(i-=9),n+=i,r=!r}return n%10===0},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||i>=r},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i){if(this.optional(n))return"dependency-mismatch";var r=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),r.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=r.message,i="string"==typeof i&&{url:i}||i,r.old===e)return r.valid;r.old=e;var o=this;this.startRequest(n);var a={};return a[n.name]=e,t.ajax(t.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:a,success:function(i){o.settings.messages[n.name].remote=r.originalMessage;var a=i===!0||"true"===i;if(a){var s=o.formSubmitted;o.prepareElement(n),o.formSubmitted=s,o.successList.push(n),delete o.invalid[n.name],o.showErrors()}else{var l={},c=i||o.defaultMessage(n,"remote");l[n.name]=r.message=t.isFunction(c)?c(e):c,o.invalid[n.name]=!0,o.showErrors(l)}r.valid=a,o.stopRequest(n,a)}},i)),"pending"}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,n,i){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=i)});else{var n=t.ajax;t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,o=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(e[o]&&e[o].abort(),e[o]=n.apply(this,arguments),e[o]):n.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,n,i){return this.bind(n,function(n){var r=t(n.target);return r.is(e)?i.apply(r,arguments):void 0})}})}(jQuery),function(t){function e(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}t.fn.ajaxSubmit=function(n){function i(){function i(){var e=u.attr("target"),n=u.attr("action");a.setAttribute("target",c),"POST"!=a.getAttribute("method")&&a.setAttribute("method","POST"),a.getAttribute("action")!=s.url&&a.setAttribute("action",s.url),s.skipEncodingOverride||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),s.timeout&&setTimeout(function(){m=!0,r()},s.timeout);var i=[];try{if(s.extraData)for(var o in s.extraData)i.push(t('<input type="hidden" name="'+o+'" value="'+s.extraData[o]+'" />').appendTo(a)[0]);h.appendTo("body"),h.data("form-plugin-onload",r),a.submit()}finally{a.setAttribute("action",n),e?a.setAttribute("target",e):u.removeAttr("target"),t(i).remove()}}function r(){if(!g){var n=!0;try{if(m)throw"timeout";var i,a;a=d.contentWindow?d.contentWindow.document:d.contentDocument?d.contentDocument:d.document;var l="xml"==s.dataType||a.XMLDocument||t.isXMLDoc(a);if(e("isXml="+l),!l&&(null==a.body||""==a.body.innerHTML))return--b?(e("requeing onLoad callback, DOM not available"),void setTimeout(r,250)):void e("Could not access iframe DOM after 100 tries.");if(e("response detected"),g=!0,p.responseText=a.body?a.body.innerHTML:null,p.responseXML=a.XMLDocument?a.XMLDocument:a,p.getResponseHeader=function(t){var e={"content-type":s.dataType};return e[t]},"json"==s.dataType||"script"==s.dataType){var c=a.getElementsByTagName("textarea")[0];if(c)p.responseText=c.value;else{var u=a.getElementsByTagName("pre")[0];u&&(p.responseText=u.innerHTML)}}else"xml"!=s.dataType||p.responseXML||null==p.responseText||(p.responseXML=o(p.responseText));i=t.httpData(p,s.dataType)}catch(v){e("error caught:",v),n=!1,p.error=v,t.handleError(s,p,"error",v)}n&&(s.success(i,"success"),f&&t.event.trigger("ajaxSuccess",[p,s])),f&&t.event.trigger("ajaxComplete",[p,s]),f&&!--t.active&&t.event.trigger("ajaxStop"),s.complete&&s.complete(p,n?"success":"error"),setTimeout(function(){h.removeData("form-plugin-onload"),h.remove(),p.responseXML=null},100)}}function o(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.tagName?e:null}var a=u[0];if(t(":input[name=submit]",a).length)return void alert('Error: Form elements must not be named "submit".');var s=t.extend({},t.ajaxSettings,n),l=t.extend(!0,{},t.extend(!0,{},t.ajaxSettings),s),c="jqFormIO"+(new Date).getTime(),h=t('<iframe id="'+c+'" name="'+c+'" src="'+s.iframeSrc+'" onload="(jQuery(this).data(\'form-plugin-onload\'))()" />'),d=h[0];h.css({position:"absolute",top:"-1000px",left:"-1000px"});var p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1,h.attr("src",s.iframeSrc)}},f=s.global;if(f&&!t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[p,s]),l.beforeSend&&l.beforeSend(p,l)===!1)return void(l.global&&t.active--);if(!p.aborted){var g=!1,m=0,v=a.clk;if(v){var _=v.name;_&&!v.disabled&&(s.extraData=s.extraData||{},s.extraData[_]=v.value,"image"==v.type&&(s.extraData[_+".x"]=a.clk_x,s.extraData[_+".y"]=a.clk_y))}s.forceSync?i():setTimeout(i,10);var b=100}}if(!this.length)return e("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof n&&(n={success:n});var r=t.trim(this.attr("action"));r&&(r=(r.match(/^([^#]+)/)||[])[1]),r=r||window.location.href||"",n=t.extend({url:r,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n||{});var o={};if(this.trigger("form-pre-serialize",[this,n,o]),o.veto)return e("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(n.beforeSerialize&&n.beforeSerialize(this,n)===!1)return e("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var a=this.formToArray(n.semantic);if(n.data){n.extraData=n.data;for(var s in n.data)if(n.data[s]instanceof Array)for(var l in n.data[s])a.push({name:s,value:n.data[s][l]});else a.push({name:s,value:n.data[s]})}if(n.beforeSubmit&&n.beforeSubmit(a,this,n)===!1)return e("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,n,o]),o.veto)return e("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var c=t.param(a);"GET"==n.type.toUpperCase()?(n.url+=(n.url.indexOf("?")>=0?"&":"?")+c,n.data=null):n.data=c;var u=this,h=[];if(n.resetForm&&h.push(function(){u.resetForm()}),n.clearForm&&h.push(function(){u.clearForm()}),!n.dataType&&n.target){var d=n.success||function(){};h.push(function(e){var i=n.replaceTarget?"replaceWith":"html";t(n.target)[i](e).each(d,arguments)})}else n.success&&h.push(n.success);n.success=function(t,e,i){for(var r=0,o=h.length;o>r;r++)h[r].apply(n,[t,e,i||u,u])};for(var p=t("input:file",this).fieldValue(),f=!1,g=0;g<p.length;g++)p[g]&&(f=!0);var m=!1;return p.length&&n.iframe!==!1||n.iframe||f||m?n.closeKeepAlive?t.get(n.closeKeepAlive,i):i():t.ajax(n),this.trigger("form-submit-notify",[this,n]),this},t.fn.ajaxForm=function(e){return this.ajaxFormUnbind().bind("submit.form-plugin",function(n){n.preventDefault(),t(this).ajaxSubmit(e)}).bind("click.form-plugin",function(e){var n=e.target,i=t(n);if(!i.is(":submit,input:image")){var r=i.closest(":submit");if(0==r.length)return;n=r[0]}var o=this;if(o.clk=n,"image"==n.type)if(void 0!=e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var a=i.offset();o.clk_x=e.pageX-a.left,o.clk_y=e.pageY-a.top}else o.clk_x=e.pageX-n.offsetLeft,o.clk_y=e.pageY-n.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)})},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e){var n=[];if(0==this.length)return n;var i=this[0],r=e?i.getElementsByTagName("*"):i.elements;if(!r)return n;for(var o=0,a=r.length;a>o;o++){var s=r[o],l=s.name;if(l)if(e&&i.clk&&"image"==s.type)s.disabled||i.clk!=s||(n.push({name:l,value:t(s).val()}),n.push({name:l+".x",value:i.clk_x},{name:l+".y",value:i.clk_y}));else{var c=t.fieldValue(s,!0);if(c&&c.constructor==Array)for(var u=0,h=c.length;h>u;u++)n.push({name:l,value:c[u]});else null!==c&&"undefined"!=typeof c&&n.push({name:l,value:c})}}if(!e&&i.clk){var d=t(i.clk),p=d[0],l=p.name;l&&!p.disabled&&"image"==p.type&&(n.push({name:l,value:d.val()}),n.push({name:l+".x",value:i.clk_x},{name:l+".y",value:i.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var i=this.name;if(i){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var o=0,a=r.length;a>o;o++)n.push({name:i,value:r[o]});else null!==r&&"undefined"!=typeof r&&n.push({name:this.name,value:r})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],i=0,r=this.length;r>i;i++){var o=this[i],a=t.fieldValue(o,e);null===a||"undefined"==typeof a||a.constructor==Array&&!a.length||(a.constructor==Array?t.merge(n,a):n.push(a))}return n},t.fieldValue=function(t,e){var n=t.name,i=t.type,r=t.tagName.toLowerCase();if("undefined"==typeof e&&(e=!0),e&&(!n||t.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!t.checked||("submit"==i||"image"==i)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var o=t.selectedIndex;if(0>o)return null;for(var a=[],s=t.options,l="select-one"==i,c=l?o+1:s.length,u=l?o:0;c>u;u++){var h=s[u];if(h.selected){var d=h.value;if(d||(d=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),l)return d;a.push(d)}}return a}return t.value},t.fn.clearForm=function(){return this.each(function(){t("input,select,textarea",this).clearFields()})},t.fn.clearFields=t.fn.clearInputs=function(){return this.each(function(){var t=this.type,e=this.tagName.toLowerCase();"text"==t||"password"==t||"textarea"==e?this.value="":"checkbox"==t||"radio"==t?this.checked=!1:"select"==e&&(this.selectedIndex=-1)})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0==t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0==e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var i=t(this).parent("select");e&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=e}})}}(jQuery),/*
 * jQuery wizard plug-in 3.0.7 (18-SEPT-2012)
 *
 *
 * Copyright (c) 2012 Jan Sundman (jan.sundman[at]aland.net)
 *
 * http://www.thecodemine.org
 *
 * Licensed under the MIT licens:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 */
function(t){t.widget("ui.formwizard",{_init:function(){var e=this,n=this.options.formOptions.success,i=this.options.formOptions.complete,r=this.options.formOptions.beforeSend,o=this.options.formOptions.beforeSubmit,a=this.options.formOptions.beforeSerialize;return this.options.formOptions=t.extend(this.options.formOptions,{success:function(t,i,r){n&&n(t,i,r),(e.options.formOptions&&e.options.formOptions.resetForm||!e.options.formOptions)&&e._reset()},complete:function(t,n){i&&i(t,n),e._enableNavigation()},beforeSubmit:function(t,n,i){if(o){var r=o(t,n,i);return r||e._enableNavigation(),r}},beforeSend:function(t){if(r){var n=r(t);return n||e._enableNavigation(),n}},beforeSerialize:function(t,n){if(a){var i=a(t,n);return i||e._enableNavigation(),i}}}),this.options.historyEnabled&&t.bbq.removeState("_"+t(this.element).attr("id")),this.steps=this.element.find(".step").hide(),this.firstStep=this.steps.eq(0).attr("id"),this.activatedSteps=new Array,this.isLastStep=!1,this.previousStep=void 0,this.currentStep=this.steps.eq(0).attr("id"),this.nextButton=this.element.find(this.options.next).click(function(){return e._next()}),this.nextButtonInitinalValue=this.nextButton.val(),this.nextButton.val(this.options.textNext),this.backButton=this.element.find(this.options.back).click(function(){return e._back(),!1}),this.backButtonInitinalValue=this.backButton.val(),this.backButton.val(this.options.textBack),this.options.validationEnabled&&void 0==jQuery().validate?(this.options.validationEnabled=!1,void 0!==window.console&&console.log("%s","validationEnabled option set, but the validation plugin is not included")):this.options.validationEnabled&&this.element.validate(this.options.validationOptions),this.options.formPluginEnabled&&void 0==jQuery().ajaxSubmit&&(this.options.formPluginEnabled=!1,void 0!==window.console&&console.log("%s","formPluginEnabled option set but the form plugin is not included")),1==this.options.disableInputFields&&t(this.steps).find(":input:not('.wizard-ignore')").attr("disabled","disabled"),this.options.historyEnabled&&t(window).bind("hashchange",void 0,function(n){var i=n.getState("_"+t(e.element).attr("id"))||e.firstStep;if(i!==e.currentStep){if(e.options.validationEnabled&&i===e._navigate(e.currentStep)&&!e.element.valid())return e._updateHistory(e.currentStep),e.element.validate().focusInvalid(),!1;i!==e.currentStep&&e._show(i)}}),this.element.addClass("ui-formwizard"),this.element.find(":input").addClass("ui-wizard-content"),this.steps.addClass("ui-formwizard-content"),this.backButton.addClass("ui-formwizard-button ui-wizard-content"),this.nextButton.addClass("ui-formwizard-button ui-wizard-content"),this.options.disableUIStyles||(this.element.addClass("ui-helper-reset ui-widget ui-widget-content ui-helper-reset ui-corner-all"),this.element.find(":input").addClass("ui-helper-reset ui-state-default"),this.steps.addClass("ui-helper-reset ui-corner-all"),this.backButton.addClass("ui-helper-reset ui-state-default"),this.nextButton.addClass("ui-helper-reset ui-state-default")),this._show(void 0),t(this)},_next:function(){if(this.options.validationEnabled&&!this.element.valid())return this.element.validate().focusInvalid(),!1;if(void 0!=this.options.remoteAjax){var e=this.options.remoteAjax[this.currentStep],n=this;if(void 0!==e){var i=e.success,r=e.beforeSend,o=e.complete;return e=t.extend({},e,{success:function(t,e){(void 0!==i&&i(t,e)||void 0==i)&&n._continueToNextStep()},beforeSend:function(e){n._disableNavigation(),void 0!==r&&r(e),t(n.element).trigger("before_remote_ajax",{currentStep:n.currentStep})},complete:function(e,i){void 0!==o&&o(e,i),t(n.element).trigger("after_remote_ajax",{currentStep:n.currentStep}),n._enableNavigation()}}),this.element.ajaxSubmit(e),!1}}return this._continueToNextStep()},_back:function(){return this.activatedSteps.length>0&&(this.options.historyEnabled?this._updateHistory(this.activatedSteps[this.activatedSteps.length-2]):this._show(this.activatedSteps[this.activatedSteps.length-2],!0)),!1},_continueToNextStep:function(){if(this.isLastStep){for(var t=0;t<this.activatedSteps.length;t++)this.steps.filter("#"+this.activatedSteps[t]).find(":input").not(".wizard-ignore").removeAttr("disabled");return this.options.formPluginEnabled?(this._disableNavigation(),this.element.ajaxSubmit(this.options.formOptions),!1):!0}var e=this._navigate(this.currentStep);return e==this.currentStep?!1:(this.options.historyEnabled?this._updateHistory(e):this._show(e,!0),!1)},_updateHistory:function(e){var n={};n["_"+t(this.element).attr("id")]=e,t.bbq.pushState(n)},_disableNavigation:function(){this.nextButton.attr("disabled","disabled"),this.backButton.attr("disabled","disabled"),this.options.disableUIStyles||(this.nextButton.removeClass("ui-state-active").addClass("ui-state-disabled"),this.backButton.removeClass("ui-state-active").addClass("ui-state-disabled"))},_enableNavigation:function(){this.nextButton.val(this.isLastStep?this.options.textSubmit:this.options.textNext),t.trim(this.currentStep)!==this.steps.eq(0).attr("id")&&(this.backButton.removeAttr("disabled"),this.options.disableUIStyles||this.backButton.removeClass("ui-state-disabled").addClass("ui-state-active")),this.nextButton.removeAttr("disabled"),this.options.disableUIStyles||this.nextButton.removeClass("ui-state-disabled").addClass("ui-state-active")},_animate:function(t,e,n){this._disableNavigation();var i=this.steps.filter("#"+t),r=this.steps.filter("#"+e);i.find(":input").not(".wizard-ignore").attr("disabled","disabled"),r.find(":input").not(".wizard-ignore").removeAttr("disabled");var o=this;i.animate(o.options.outAnimation,o.options.outDuration,o.options.easing,function(){r.animate(o.options.inAnimation,o.options.inDuration,o.options.easing,function(){o.options.focusFirstInput&&r.find(":input:first").focus(),o._enableNavigation(),n.apply(o)})})},_checkIflastStep:function(e){this.isLastStep=!1,(t("#"+e).hasClass(this.options.submitStepClass)||this.steps.filter(":last").attr("id")==e)&&(this.isLastStep=!0)},_getLink:function(e){var n=void 0,i=this.steps.filter("#"+e).find(this.options.linkClass);return void 0!=i&&(n=i.filter(":radio,:checkbox").size()>0?i.filter(this.options.linkClass+":checked").val():t(i).val()),n},_navigate:function(t){var e=this._getLink(t);if(void 0!=e)return""!=e&&null!=e&&void 0!=e&&void 0!=this.steps.filter("#"+e).attr("id")?e:this.currentStep;if(void 0==e&&!this.isLastStep){var n=this.steps.filter("#"+t).next().attr("id");return n}},_show:function(e){var n=!1,i=void 0!==e;if(void 0==e||""==e?(this.activatedSteps.pop(),e=this.firstStep,this.activatedSteps.push(e)):t.inArray(e,this.activatedSteps)>-1?(n=!0,this.activatedSteps.pop()):this.activatedSteps.push(e),this.currentStep!==e||e===this.firstStep){this.previousStep=this.currentStep,this._checkIflastStep(e),this.currentStep=e;var r=function(){i&&t(this.element).trigger("step_shown",t.extend({isBackNavigation:n},this._state()))};i&&t(this.element).trigger("before_step_shown",t.extend({isBackNavigation:n},this._state())),this._animate(this.previousStep,e,r)}},_reset:function(){this.element.resetForm(),t("label,:input,textarea",this).removeClass("error");for(var e=0;e<this.activatedSteps.length;e++)this.steps.filter("#"+this.activatedSteps[e]).hide().find(":input").attr("disabled","disabled");this.activatedSteps=new Array,this.previousStep=void 0,this.isLastStep=!1,this.options.historyEnabled?this._updateHistory(this.firstStep):this._show(this.firstStep)},_state:function(t){var e={settings:this.options,activatedSteps:this.activatedSteps,isLastStep:this.isLastStep,isFirstStep:this.currentStep===this.firstStep,previousStep:this.previousStep,currentStep:this.currentStep,backButton:this.backButton,nextButton:this.nextButton,steps:this.steps,firstStep:this.firstStep};return void 0!==t?e[t]:e},show:function(t){this.options.historyEnabled?this._updateHistory(t):this._show(t)},state:function(t){return this._state(t)},reset:function(){this._reset()},next:function(){this._next()},back:function(){this._back()},destroy:function(){this.element.find("*").removeAttr("disabled").show(),this.nextButton.unbind("click").val(this.nextButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active"),this.backButton.unbind("click").val(this.backButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active"),this.backButtonInitinalValue=void 0,this.nextButtonInitinalValue=void 0,this.activatedSteps=void 0,this.previousStep=void 0,this.currentStep=void 0,this.isLastStep=void 0,this.options=void 0,this.nextButton=void 0,this.backButton=void 0,this.formwizard=void 0,this.element=void 0,this.steps=void 0,this.firstStep=void 0},update_steps:function(){this.steps=this.element.find(".step").addClass("ui-formwizard-content"),this.firstStep=this.steps.eq(0).attr("id"),this.steps.not("#"+this.currentStep).hide().find(":input").addClass("ui-wizard-content").attr("disabled","disabled"),this._checkIflastStep(this.currentStep),this._enableNavigation(),this.options.disableUIStyles||(this.steps.addClass("ui-helper-reset ui-corner-all"),this.steps.find(":input").addClass("ui-helper-reset ui-state-default"))},options:{historyEnabled:!1,validationEnabled:!1,validationOptions:void 0,formPluginEnabled:!1,linkClass:".link",submitStepClass:"submit_step",back:":reset",next:":submit",textSubmit:"Submit",textNext:"Next",textBack:"Back",remoteAjax:void 0,inAnimation:{opacity:"show"},outAnimation:{opacity:"hide"},inDuration:400,outDuration:400,easing:"swing",focusFirstInput:!1,disableInputFields:!0,formOptions:{reset:!0,success:function(){void 0!==window.console&&console.log("%s","form submit successful")},disableUIStyles:!1}}})}(jQuery),/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Immutable=e()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:I(t)}function n(t){return a(t)?t:P(t)}function i(t){return s(t)?t:A(t)}function r(t){return o(t)&&!l(t)?t:j(t)}function o(t){return!(!t||!t[ci])}function a(t){return!(!t||!t[ui])}function s(t){return!(!t||!t[hi])}function l(t){return a(t)||s(t)}function c(t){return!(!t||!t[di])}function u(t){return t.value=!1,t}function h(t){t&&(t.value=!0)}function d(){}function p(t,e){e=e||0;for(var n=Math.max(0,t.length-e),i=new Array(n),r=0;n>r;r++)i[r]=t[r+e];return i}function f(t){return void 0===t.size&&(t.size=t.__iterate(m)),t.size}function g(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return 0/0;e=n}return 0>e?f(t)+e:e}function m(){return!0}function v(t,e,n){return(0===t||void 0!==n&&-n>=t)&&(void 0===e||void 0!==n&&e>=n)}function _(t,e){return y(t,e,0)}function b(t,e){return y(t,e,e)}function y(t,e,n){return void 0===t?n:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function k(t,e,n,i){var r=0===t?e:1===t?n:[e,n];return i?i.value=r:i={value:r,done:!1},i}function x(){return{value:void 0,done:!0}}function S(t){return!!E(t)}function C(t){return t&&"function"==typeof t.next}function T(t){var e=E(t);return e&&e.call(t)}function E(t){var e=t&&(xi&&t[xi]||t[Si]);return"function"==typeof e?e:void 0}function D(t){return t&&"number"==typeof t.length}function I(t){return null===t||void 0===t?F():o(t)?t.toSeq():z(t)}function P(t){return null===t||void 0===t?F().toKeyedSeq():o(t)?a(t)?t.toSeq():t.fromEntrySeq():L(t)}function A(t){return null===t||void 0===t?F():o(t)?a(t)?t.entrySeq():t.toIndexedSeq():B(t)}function j(t){return(null===t||void 0===t?F():o(t)?a(t)?t.entrySeq():t:B(t)).toSetSeq()}function O(t){this._array=t,this.size=t.length}function $(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function R(t){this._iterable=t,this.size=t.length||t.size}function M(t){this._iterator=t,this._iteratorCache=[]}function N(t){return!(!t||!t[Ti])}function F(){return Ei||(Ei=new O([]))}function L(t){var e=Array.isArray(t)?new O(t).fromEntrySeq():C(t)?new M(t).fromEntrySeq():S(t)?new R(t).fromEntrySeq():"object"==typeof t?new $(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function B(t){var e=U(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function z(t){var e=U(t)||"object"==typeof t&&new $(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function U(t){return D(t)?new O(t):C(t)?new M(t):S(t)?new R(t):void 0}function H(t,e,n,i){var r=t._cache;if(r){for(var o=r.length-1,a=0;o>=a;a++){var s=r[n?o-a:a];if(e(s[1],i?s[0]:a,t)===!1)return a+1}return a}return t.__iterateUncached(e,n)}function W(t,e,n,i){var r=t._cache;if(r){var o=r.length-1,a=0;return new w(function(){var t=r[n?o-a:a];return a++>o?x():k(e,i?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function q(t,e){return e?V(e,t,"",{"":t}):Q(t)}function V(t,e,n,i){return Array.isArray(e)?t.call(i,n,A(e).map(function(n,i){return V(t,n,i,e)})):K(e)?t.call(i,n,P(e).map(function(n,i){return V(t,n,i,e)})):e}function Q(t){return Array.isArray(t)?A(t).map(Q).toList():K(t)?P(t).map(Q).toMap():t}function K(t){return t&&(t.constructor===Object||void 0===t.constructor)}function Y(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return"function"==typeof t.equals&&"function"==typeof e.equals&&t.equals(e)?!0:!1}function G(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||a(t)!==a(e)||s(t)!==s(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(c(t)){var i=t.entries();return e.every(function(t,e){var r=i.next().value;return r&&Y(r[1],t)&&(n||Y(r[0],e))})&&i.next().done}var r=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{r=!0;var u=t;t=e,e=u}var h=!0,d=e.__iterate(function(e,i){return(n?t.has(e):r?Y(e,t.get(i,vi)):Y(t.get(i,vi),e))?void 0:(h=!1,!1)});return h&&t.size===d}function J(t,e){if(!(this instanceof J))return new J(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Di)return Di;Di=this}}function X(t,e){if(!t)throw new Error(e)}function Z(t,e,n){if(!(this instanceof Z))return new Z(t,e,n);if(X(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),t>e&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Ii)return Ii;Ii=this}}function te(){throw TypeError("Abstract")}function ee(){}function ne(){}function ie(){}function re(t){return t>>>1&1073741824|3221225471&t}function oe(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||1/0===t)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return re(n)}if("string"===e)return t.length>Ni?ae(t):se(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return le(t);if("function"==typeof t.toString)return se(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function ae(t){var e=Bi[t];return void 0===e&&(e=se(t),Li===Fi&&(Li=0,Bi={}),Li++,Bi[t]=e),e}function se(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return re(e)}function le(t){var e;if($i&&(e=Pi.get(t),void 0!==e))return e;if(e=t[Mi],void 0!==e)return e;if(!Oi){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Mi],void 0!==e)return e;if(e=ce(t),void 0!==e)return e}if(e=++Ri,1073741824&Ri&&(Ri=0),$i)Pi.set(t,e);else{if(void 0!==ji&&ji(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Oi)Object.defineProperty(t,Mi,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Mi]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Mi]=e}}return e}function ce(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ue(t){X(1/0!==t,"Cannot perform this action with an infinite size.")}function he(t){return null===t||void 0===t?ke():de(t)&&!c(t)?t:ke().withMutations(function(e){var i=n(t);ue(i.size),i.forEach(function(t,n){return e.set(n,t)})})}function de(t){return!(!t||!t[zi])}function pe(t,e){this.ownerID=t,this.entries=e}function fe(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function ge(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function me(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function ve(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function _e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&ye(t._root)}function be(t,e){return k(t,e[0],e[1])}function ye(t,e){return{node:t,index:0,__prev:e}}function we(t,e,n,i){var r=Object.create(Ui);return r.size=t,r._root=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function ke(){return Hi||(Hi=we(0))}function xe(t,e,n){var i,r;if(t._root){var o=u(_i),a=u(bi);if(i=Se(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;r=t.size+(o.value?n===vi?-1:1:0)}else{if(n===vi)return t;r=1,i=new pe(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=r,t._root=i,t.__hash=void 0,t.__altered=!0,t):i?we(r,i):ke()}function Se(t,e,n,i,r,o,a,s){return t?t.update(e,n,i,r,o,a,s):o===vi?t:(h(s),h(a),new ve(e,i,[r,o]))}function Ce(t){return t.constructor===ve||t.constructor===me}function Te(t,e,n,i,r){if(t.keyHash===i)return new me(e,i,[t.entry,r]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&mi,s=(0===n?i:i>>>n)&mi,l=a===s?[Te(t,e,n+fi,i,r)]:(o=new ve(e,i,r),s>a?[t,o]:[o,t]);return new fe(e,1<<a|1<<s,l)}function Ee(t,e,n,i){t||(t=new d);for(var r=new ve(t,oe(n),[n,i]),o=0;o<e.length;o++){var a=e[o];r=r.update(t,0,void 0,a[0],a[1])}return r}function De(t,e,n,i){for(var r=0,o=0,a=new Array(n),s=0,l=1,c=e.length;c>s;s++,l<<=1){var u=e[s];void 0!==u&&s!==i&&(r|=l,a[o++]=u)}return new fe(t,r,a)}function Ie(t,e,n,i,r){for(var o=0,a=new Array(gi),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[i]=r,new ge(t,o+1,a)}function Pe(t,e,i){for(var r=[],a=0;a<i.length;a++){var s=i[a],l=n(s);o(s)||(l=l.map(function(t){return q(t)})),r.push(l)}return Oe(t,e,r)}function Ae(t,e){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):Y(t,e)?t:e}function je(t){return function(e,n,i){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var r=t(e,n,i);return Y(e,r)?e:r}}function Oe(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var i=e?function(n,i){t.update(i,vi,function(t){return t===vi?n:e(t,n,i)})}:function(e,n){t.set(n,e)},r=0;r<n.length;r++)n[r].forEach(i)}):t.constructor(n[0])}function $e(t,e,n,i){var r=t===vi,o=e.next();if(o.done){var a=r?n:t,s=i(a);return s===a?t:s}X(r||t&&t.set,"invalid keyPath");var l=o.value,c=r?vi:t.get(l,vi),u=$e(c,e,n,i);return u===c?t:u===vi?t.remove(l):(r?ke():t).set(l,u)}function Re(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function Me(t,e,n,i){var r=i?t:p(t);return r[e]=n,r}function Ne(t,e,n,i){var r=t.length+1;if(i&&e+1===r)return t[e]=n,t;for(var o=new Array(r),a=0,s=0;r>s;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}function Fe(t,e,n){var i=t.length-1;if(n&&e===i)return t.pop(),t;for(var r=new Array(i),o=0,a=0;i>a;a++)a===e&&(o=1),r[a]=t[a+o];return r}function Le(t){var e=We();if(null===t||void 0===t)return e;if(Be(t))return t;var n=i(t),r=n.size;return 0===r?e:(ue(r),r>0&&gi>r?He(0,r,fi,null,new ze(n.toArray())):e.withMutations(function(t){t.setSize(r),n.forEach(function(e,n){return t.set(n,e)})}))}function Be(t){return!(!t||!t[Qi])}function ze(t,e){this.array=t,this.ownerID=e}function Ue(t,e){function n(t,e,n){return 0===e?i(t,n):r(t,e,n)}function i(t,n){var i=n===s?l&&l.array:t&&t.array,r=n>o?0:o-n,c=a-n;return c>gi&&(c=gi),function(){if(r===c)return Gi;var t=e?--c:r++;return i&&i[t]}}function r(t,i,r){var s,l=t&&t.array,c=r>o?0:o-r>>i,u=(a-r>>i)+1;return u>gi&&(u=gi),function(){for(;;){if(s){var t=s();if(t!==Gi)return t;s=null}if(c===u)return Gi;var o=e?--u:c++;s=n(l&&l[o],i-fi,r+(o<<i))}}}var o=t._origin,a=t._capacity,s=Je(a),l=t._tail;return n(t._root,t._level,0)}function He(t,e,n,i,r,o,a){var s=Object.create(Ki);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=i,s._tail=r,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function We(){return Yi||(Yi=He(0,0,fi))}function qe(t,e,n){if(e=g(t,e),e!==e)return t;if(e>=t.size||0>e)return t.withMutations(function(t){0>e?Ye(t,e).set(0,n):Ye(t,0,e+1).set(e,n)});e+=t._origin;var i=t._tail,r=t._root,o=u(bi);return e>=Je(t._capacity)?i=Ve(i,t.__ownerID,0,e,n,o):r=Ve(r,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=r,t._tail=i,t.__hash=void 0,t.__altered=!0,t):He(t._origin,t._capacity,t._level,r,i):t}function Ve(t,e,n,i,r,o){var a=i>>>n&mi,s=t&&a<t.array.length;if(!s&&void 0===r)return t;var l;if(n>0){var c=t&&t.array[a],u=Ve(c,e,n-fi,i,r,o);return u===c?t:(l=Qe(t,e),l.array[a]=u,l)}return s&&t.array[a]===r?t:(h(o),l=Qe(t,e),void 0===r&&a===l.array.length-1?l.array.pop():l.array[a]=r,l)}function Qe(t,e){return e&&t&&e===t.ownerID?t:new ze(t?t.array.slice():[],e)}function Ke(t,e){if(e>=Je(t._capacity))return t._tail;if(e<1<<t._level+fi){for(var n=t._root,i=t._level;n&&i>0;)n=n.array[e>>>i&mi],i-=fi;return n}}function Ye(t,e,n){void 0!==e&&(e=0|e),void 0!==n&&(n=0|n);var i=t.__ownerID||new d,r=t._origin,o=t._capacity,a=r+e,s=void 0===n?o:0>n?o+n:r+n;if(a===r&&s===o)return t;if(a>=s)return t.clear();for(var l=t._level,c=t._root,u=0;0>a+u;)c=new ze(c&&c.array.length?[void 0,c]:[],i),l+=fi,u+=1<<l;u&&(a+=u,r+=u,s+=u,o+=u);for(var h=Je(o),p=Je(s);p>=1<<l+fi;)c=new ze(c&&c.array.length?[c]:[],i),l+=fi;var f=t._tail,g=h>p?Ke(t,s-1):p>h?new ze([],i):f;if(f&&p>h&&o>a&&f.array.length){c=Qe(c,i);for(var m=c,v=l;v>fi;v-=fi){var _=h>>>v&mi;m=m.array[_]=Qe(m.array[_],i)}m.array[h>>>fi&mi]=f}if(o>s&&(g=g&&g.removeAfter(i,0,s)),a>=p)a-=p,s-=p,l=fi,c=null,g=g&&g.removeBefore(i,0,a);else if(a>r||h>p){for(u=0;c;){var b=a>>>l&mi;if(b!==p>>>l&mi)break;b&&(u+=(1<<l)*b),l-=fi,c=c.array[b]}c&&a>r&&(c=c.removeBefore(i,l,a-u)),c&&h>p&&(c=c.removeAfter(i,l,p-u)),u&&(a-=u,s-=u)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=l,t._root=c,t._tail=g,t.__hash=void 0,t.__altered=!0,t):He(a,s,l,c,g)}function Ge(t,e,n){for(var r=[],a=0,s=0;s<n.length;s++){var l=n[s],c=i(l);c.size>a&&(a=c.size),o(l)||(c=c.map(function(t){return q(t)})),r.push(c)}return a>t.size&&(t=t.setSize(a)),Oe(t,e,r)}function Je(t){return gi>t?0:t-1>>>fi<<fi}function Xe(t){return null===t||void 0===t?en():Ze(t)?t:en().withMutations(function(e){var i=n(t);ue(i.size),i.forEach(function(t,n){return e.set(n,t)})})}function Ze(t){return de(t)&&c(t)}function tn(t,e,n,i){var r=Object.create(Xe.prototype);return r.size=t?t.size:0,r._map=t,r._list=e,r.__ownerID=n,r.__hash=i,r}function en(){return Ji||(Ji=tn(ke(),We()))}function nn(t,e,n){var i,r,o=t._map,a=t._list,s=o.get(e),l=void 0!==s;if(n===vi){if(!l)return t;a.size>=gi&&a.size>=2*o.size?(r=a.filter(function(t,e){return void 0!==t&&s!==e}),i=r.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(i.__ownerID=r.__ownerID=t.__ownerID)):(i=o.remove(e),r=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return t;i=o,r=a.set(s,[e,n])}else i=o.set(e,a.size),r=a.set(a.size,[e,n]);return t.__ownerID?(t.size=i.size,t._map=i,t._list=r,t.__hash=void 0,t):tn(i,r)}function rn(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function on(t){this._iter=t,this.size=t.size}function an(t){this._iter=t,this.size=t.size}function sn(t){this._iter=t,this.size=t.size}function ln(t){var e=In(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Pn,e.__iterateUncached=function(e,n){var i=this;return t.__iterate(function(t,n){return e(n,t,i)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===ki){var i=t.__iterator(e,n);return new w(function(){var t=i.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wi?yi:wi,n)},e}function cn(t,e,n){var i=In(t);return i.size=t.size,i.has=function(e){return t.has(e)},i.get=function(i,r){var o=t.get(i,vi);return o===vi?r:e.call(n,o,i,t)},i.__iterateUncached=function(i,r){var o=this;return t.__iterate(function(t,r,a){return i(e.call(n,t,r,a),r,o)!==!1},r)},i.__iteratorUncached=function(i,r){var o=t.__iterator(ki,r);return new w(function(){var r=o.next();if(r.done)return r;var a=r.value,s=a[0];return k(i,s,e.call(n,a[1],s,t),r)})},i}function un(t,e){var n=In(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ln(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,i){return t.get(e?n:-1-n,i)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Pn,n.__iterate=function(e,n){var i=this;return t.__iterate(function(t,n){return e(t,n,i)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function hn(t,e,n,i){var r=In(t);return i&&(r.has=function(i){var r=t.get(i,vi);return r!==vi&&!!e.call(n,r,i,t)},r.get=function(i,r){var o=t.get(i,vi);return o!==vi&&e.call(n,o,i,t)?o:r}),r.__iterateUncached=function(r,o){var a=this,s=0;return t.__iterate(function(t,o,l){return e.call(n,t,o,l)?(s++,r(t,i?o:s-1,a)):void 0},o),s},r.__iteratorUncached=function(r,o){var a=t.__iterator(ki,o),s=0;return new w(function(){for(;;){var o=a.next();if(o.done)return o;var l=o.value,c=l[0],u=l[1];if(e.call(n,u,c,t))return k(r,i?c:s++,u,o)}})},r}function dn(t,e,n){var i=he().asMutable();return t.__iterate(function(r,o){i.update(e.call(n,r,o,t),0,function(t){return t+1})}),i.asImmutable()}function pn(t,e,n){var i=a(t),r=(c(t)?Xe():he()).asMutable();t.__iterate(function(o,a){r.update(e.call(n,o,a,t),function(t){return t=t||[],t.push(i?[a,o]:o),t})});var o=Dn(t);return r.map(function(e){return Cn(t,o(e))})}function fn(t,e,n,i){var r=t.size;if(void 0!==e&&(e=0|e),void 0!==n&&(n=1/0===n?r:0|n),v(e,n,r))return t;var o=_(e,r),a=b(n,r);if(o!==o||a!==a)return fn(t.toSeq().cacheResult(),e,n,i);var s,l=a-o;l===l&&(s=0>l?0:l);var c=In(t);return c.size=0===s?s:t.size&&s||void 0,!i&&N(t)&&s>=0&&(c.get=function(e,n){return e=g(this,e),e>=0&&s>e?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var r=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,l=!0,c=0;return t.__iterate(function(t,n){return l&&(l=a++<o)?void 0:(c++,e(t,i?n:c-1,r)!==!1&&c!==s)}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var r=0!==s&&t.__iterator(e,n),a=0,l=0;return new w(function(){for(;a++<o;)r.next();if(++l>s)return x();var t=r.next();return i||e===wi?t:e===yi?k(e,l-1,void 0,t):k(e,l-1,t.value[1],t)})},c}function gn(t,e,n){var i=In(t);return i.__iterateUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterate(i,r);var a=0;return t.__iterate(function(t,r,s){return e.call(n,t,r,s)&&++a&&i(t,r,o)}),a},i.__iteratorUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterator(i,r);var a=t.__iterator(ki,r),s=!0;return new w(function(){if(!s)return x();var t=a.next();if(t.done)return t;var r=t.value,l=r[0],c=r[1];return e.call(n,c,l,o)?i===ki?t:k(i,l,c,t):(s=!1,x())})},i}function mn(t,e,n,i){var r=In(t);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var s=!0,l=0;return t.__iterate(function(t,o,c){return s&&(s=e.call(n,t,o,c))?void 0:(l++,r(t,i?o:l-1,a))}),l},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var s=t.__iterator(ki,o),l=!0,c=0;return new w(function(){var t,o,u;do{if(t=s.next(),t.done)return i||r===wi?t:r===yi?k(r,c++,void 0,t):k(r,c++,t.value[1],t);var h=t.value;o=h[0],u=h[1],l&&(l=e.call(n,u,o,a))}while(l);return r===ki?t:k(r,o,u,t)})},r}function vn(t,e){var i=a(t),r=[t].concat(e).map(function(t){return o(t)?i&&(t=n(t)):t=i?L(t):B(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===r.length)return t;if(1===r.length){var l=r[0];if(l===t||i&&a(l)||s(t)&&s(l))return l}var c=new O(r);return i?c=c.toKeyedSeq():s(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=r.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function _n(t,e,n){var i=In(t);return i.__iterateUncached=function(i,r){function a(t,c){var u=this;t.__iterate(function(t,r){return(!e||e>c)&&o(t)?a(t,c+1):i(t,n?r:s++,u)===!1&&(l=!0),!l},r)}var s=0,l=!1;return a(t,0),s},i.__iteratorUncached=function(i,r){var a=t.__iterator(i,r),s=[],l=0;return new w(function(){for(;a;){var t=a.next();if(t.done===!1){var c=t.value;if(i===ki&&(c=c[1]),e&&!(s.length<e)||!o(c))return n?t:k(i,l++,c,t);s.push(a),a=c.__iterator(i,r)}else a=s.pop()}return x()})},i}function bn(t,e,n){var i=Dn(t);return t.toSeq().map(function(r,o){return i(e.call(n,r,o,t))}).flatten(!0)}function yn(t,e){var n=In(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,i){var r=this,o=0;return t.__iterate(function(t){return(!o||n(e,o++,r)!==!1)&&n(t,o++,r)!==!1},i),o},n.__iteratorUncached=function(n,i){var r,o=t.__iterator(wi,i),a=0;return new w(function(){return(!r||a%2)&&(r=o.next(),r.done)?r:a%2?k(n,a++,e):k(n,a++,r.value,r)})},n}function wn(t,e,n){e||(e=An);var i=a(t),r=0,o=t.toSeq().map(function(e,i){return[i,e,r++,n?n(e,i,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(i?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),i?P(o):s(t)?A(o):j(o)}function kn(t,e,n){if(e||(e=An),n){var i=t.toSeq().map(function(e,i){return[e,n(e,i,t)]}).reduce(function(t,n){return xn(e,t[1],n[1])?n:t});return i&&i[0]}return t.reduce(function(t,n){return xn(e,t,n)?n:t})}function xn(t,e,n){var i=t(n,e);return 0===i&&n!==e&&(void 0===n||null===n||n!==n)||i>0}function Sn(t,n,i){var r=In(t);return r.size=new O(i).map(function(t){return t.size}).min(),r.__iterate=function(t,e){for(var n,i=this.__iterator(wi,e),r=0;!(n=i.next()).done&&t(n.value,r++,this)!==!1;);return r},r.__iteratorUncached=function(t,r){var o=i.map(function(t){return t=e(t),T(r?t.reverse():t)}),a=0,s=!1;return new w(function(){var e;return s||(e=o.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?x():k(t,a++,n.apply(null,e.map(function(t){return t.value})))})},r}function Cn(t,e){return N(t)?e:t.constructor(e)}function Tn(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function En(t){return ue(t.size),f(t)}function Dn(t){return a(t)?n:s(t)?i:r}function In(t){return Object.create((a(t)?P:s(t)?A:j).prototype)}function Pn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):I.prototype.cacheResult.call(this)}function An(t,e){return t>e?1:e>t?-1:0}function jn(t){var n=T(t);if(!n){if(!D(t))throw new TypeError("Expected iterable or array-like: "+t);n=T(e(t))}return n}function On(t,e){var n,i=function(o){if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var a=Object.keys(t);Mn(r,a),r.size=a.length,r._name=e,r._keys=a,r._defaultValues=t}this._map=he(o)},r=i.prototype=Object.create(Xi);return r.constructor=i,i}function $n(t,e,n){var i=Object.create(Object.getPrototypeOf(t));return i._map=e,i.__ownerID=n,i}function Rn(t){return t._name||t.constructor.name||"Record"}function Mn(t,e){try{e.forEach(Nn.bind(void 0,t))}catch(n){}}function Nn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){X(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Fn(t){return null===t||void 0===t?Un():Ln(t)&&!c(t)?t:Un().withMutations(function(e){var n=r(t);ue(n.size),n.forEach(function(t){return e.add(t)})})}function Ln(t){return!(!t||!t[Zi])}function Bn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function zn(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Un(){return er||(er=zn(ke()))}function Hn(t){return null===t||void 0===t?Vn():Wn(t)?t:Vn().withMutations(function(e){var n=r(t);ue(n.size),n.forEach(function(t){return e.add(t)})})}function Wn(t){return Ln(t)&&c(t)}function qn(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Vn(){return ir||(ir=qn(en()))}function Qn(t){return null===t||void 0===t?Gn():Kn(t)?t:Gn().unshiftAll(t)}function Kn(t){return!(!t||!t[rr])}function Yn(t,e,n,i){var r=Object.create(or);return r.size=t,r._head=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function Gn(){return ar||(ar=Yn(0))}function Jn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Xn(t,e){return e}function Zn(t,e){return[e,t]}function ti(t){return function(){return!t.apply(this,arguments)}}function ei(t){return function(){return-t.apply(this,arguments)}}function ni(t){return"string"==typeof t?JSON.stringify(t):String(t)}function ii(){return p(arguments)}function ri(t,e){return e>t?1:t>e?-1:0}function oi(t){if(1/0===t.size)return 0;var e=c(t),n=a(t),i=e?1:0,r=t.__iterate(n?e?function(t,e){i=31*i+si(oe(t),oe(e))|0}:function(t,e){i=i+si(oe(t),oe(e))|0}:e?function(t){i=31*i+oe(t)|0}:function(t){i=i+oe(t)|0});return ai(r,i)}function ai(t,e){return e=Ai(e,3432918353),e=Ai(e<<15|e>>>-15,461845907),e=Ai(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Ai(e^e>>>16,2246822507),e=Ai(e^e>>>13,3266489909),e=re(e^e>>>16)}function si(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var li=Array.prototype.slice;t(n,e),t(i,e),t(r,e),e.isIterable=o,e.isKeyed=a,e.isIndexed=s,e.isAssociative=l,e.isOrdered=c,e.Keyed=n,e.Indexed=i,e.Set=r;var ci="@@__IMMUTABLE_ITERABLE__@@",ui="@@__IMMUTABLE_KEYED__@@",hi="@@__IMMUTABLE_INDEXED__@@",di="@@__IMMUTABLE_ORDERED__@@",pi="delete",fi=5,gi=1<<fi,mi=gi-1,vi={},_i={value:!1},bi={value:!1},yi=0,wi=1,ki=2,xi="function"==typeof Symbol&&Symbol.iterator,Si="@@iterator",Ci=xi||Si;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=yi,w.VALUES=wi,w.ENTRIES=ki,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[Ci]=function(){return this},t(I,e),I.of=function(){return I(arguments)},I.prototype.toSeq=function(){return this},I.prototype.toString=function(){return this.__toString("Seq {","}")},I.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},I.prototype.__iterate=function(t,e){return H(this,t,e,!0)},I.prototype.__iterator=function(t,e){return W(this,t,e,!0)},t(P,I),P.prototype.toKeyedSeq=function(){return this},t(A,I),A.of=function(){return A(arguments)},A.prototype.toIndexedSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq [","]")},A.prototype.__iterate=function(t,e){return H(this,t,e,!1)},A.prototype.__iterator=function(t,e){return W(this,t,e,!1)},t(j,I),j.of=function(){return j(arguments)},j.prototype.toSetSeq=function(){return this},I.isSeq=N,I.Keyed=P,I.Set=j,I.Indexed=A;var Ti="@@__IMMUTABLE_SEQ__@@";I.prototype[Ti]=!0,t(O,A),O.prototype.get=function(t,e){return this.has(t)?this._array[g(this,t)]:e},O.prototype.__iterate=function(t,e){for(var n=this._array,i=n.length-1,r=0;i>=r;r++)if(t(n[e?i-r:r],r,this)===!1)return r+1;return r},O.prototype.__iterator=function(t,e){var n=this._array,i=n.length-1,r=0;return new w(function(){return r>i?x():k(t,r,n[e?i-r++:r++])})},t($,P),$.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},$.prototype.has=function(t){return this._object.hasOwnProperty(t)},$.prototype.__iterate=function(t,e){for(var n=this._object,i=this._keys,r=i.length-1,o=0;r>=o;o++){var a=i[e?r-o:o];if(t(n[a],a,this)===!1)return o+1}return o},$.prototype.__iterator=function(t,e){var n=this._object,i=this._keys,r=i.length-1,o=0;return new w(function(){var a=i[e?r-o:o];return o++>r?x():k(t,a,n[a])})},$.prototype[di]=!0,t(R,A),R.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,i=T(n),r=0;if(C(i))for(var o;!(o=i.next()).done&&t(o.value,r++,this)!==!1;);return r},R.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,i=T(n);if(!C(i))return new w(x);var r=0;return new w(function(){var e=i.next();return e.done?e:k(t,r++,e.value)})},t(M,A),M.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,i=this._iteratorCache,r=0;r<i.length;)if(t(i[r],r++,this)===!1)return r;for(var o;!(o=n.next()).done;){var a=o.value;if(i[r]=a,t(a,r++,this)===!1)break}return r},M.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,i=this._iteratorCache,r=0;return new w(function(){if(r>=i.length){var e=n.next();if(e.done)return e;i[r]=e.value}return k(t,r,i[r++])})};var Ei;t(J,A),J.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},J.prototype.get=function(t,e){return this.has(t)?this._value:e},J.prototype.includes=function(t){return Y(this._value,t)},J.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:new J(this._value,b(e,n)-_(t,n))},J.prototype.reverse=function(){return this},J.prototype.indexOf=function(t){return Y(this._value,t)?0:-1},J.prototype.lastIndexOf=function(t){return Y(this._value,t)?this.size:-1},J.prototype.__iterate=function(t){for(var e=0;e<this.size;e++)if(t(this._value,e,this)===!1)return e+1;return e},J.prototype.__iterator=function(t){var e=this,n=0;return new w(function(){return n<e.size?k(t,n++,e._value):x()})},J.prototype.equals=function(t){return t instanceof J?Y(this._value,t._value):G(t)};var Di;t(Z,A),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Z.prototype.get=function(t,e){return this.has(t)?this._start+g(this,t)*this._step:e},Z.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Z.prototype.slice=function(t,e){return v(t,e,this.size)?this:(t=_(t,this.size),e=b(e,this.size),t>=e?new Z(0,0):new Z(this.get(t,this._end),this.get(e,this._end),this._step))},Z.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(t){return this.indexOf(t)},Z.prototype.__iterate=function(t,e){for(var n=this.size-1,i=this._step,r=e?this._start+n*i:this._start,o=0;n>=o;o++){if(t(r,o,this)===!1)return o+1;r+=e?-i:i}return o},Z.prototype.__iterator=function(t,e){var n=this.size-1,i=this._step,r=e?this._start+n*i:this._start,o=0;return new w(function(){var a=r;return r+=e?-i:i,o>n?x():k(t,o++,a)})},Z.prototype.equals=function(t){return t instanceof Z?this._start===t._start&&this._end===t._end&&this._step===t._step:G(this,t)};var Ii;t(te,e),t(ee,te),t(ne,te),t(ie,te),te.Keyed=ee,te.Indexed=ne,te.Set=ie;var Pi,Ai="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,i=65535&e;return n*i+((t>>>16)*i+n*(e>>>16)<<16>>>0)|0},ji=Object.isExtensible,Oi=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),$i="function"==typeof WeakMap;$i&&(Pi=new WeakMap);var Ri=0,Mi="__immutablehash__";"function"==typeof Symbol&&(Mi=Symbol(Mi));var Ni=16,Fi=255,Li=0,Bi={};t(he,ee),he.of=function(){var t=li.call(arguments,0);return ke().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},he.prototype.toString=function(){return this.__toString("Map {","}")},he.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},he.prototype.set=function(t,e){return xe(this,t,e)},he.prototype.setIn=function(t,e){return this.updateIn(t,vi,function(){return e})},he.prototype.remove=function(t){return xe(this,t,vi)},he.prototype.deleteIn=function(t){return this.updateIn(t,function(){return vi})},he.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},he.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var i=$e(this,jn(t),e,n);return i===vi?void 0:i},he.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ke()},he.prototype.merge=function(){return Pe(this,void 0,arguments)},he.prototype.mergeWith=function(t){var e=li.call(arguments,1);return Pe(this,t,e)},he.prototype.mergeIn=function(t){var e=li.call(arguments,1);return this.updateIn(t,ke(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},he.prototype.mergeDeep=function(){return Pe(this,Ae,arguments)},he.prototype.mergeDeepWith=function(t){var e=li.call(arguments,1);return Pe(this,je(t),e)},he.prototype.mergeDeepIn=function(t){var e=li.call(arguments,1);return this.updateIn(t,ke(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},he.prototype.sort=function(t){return Xe(wn(this,t))},he.prototype.sortBy=function(t,e){return Xe(wn(this,e,t))},he.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},he.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new d)},he.prototype.asImmutable=function(){return this.__ensureOwner()},he.prototype.wasAltered=function(){return this.__altered},he.prototype.__iterator=function(t,e){return new _e(this,t,e)},he.prototype.__iterate=function(t,e){var n=this,i=0;return this._root&&this._root.iterate(function(e){return i++,t(e[1],e[0],n)},e),i},he.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?we(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)
},he.isMap=de;var zi="@@__IMMUTABLE_MAP__@@",Ui=he.prototype;Ui[zi]=!0,Ui[pi]=Ui.remove,Ui.removeIn=Ui.deleteIn,pe.prototype.get=function(t,e,n,i){for(var r=this.entries,o=0,a=r.length;a>o;o++)if(Y(n,r[o][0]))return r[o][1];return i},pe.prototype.update=function(t,e,n,i,r,o,a){for(var s=r===vi,l=this.entries,c=0,u=l.length;u>c&&!Y(i,l[c][0]);c++);var d=u>c;if(d?l[c][1]===r:s)return this;if(h(a),(s||!d)&&h(o),!s||1!==l.length){if(!d&&!s&&l.length>=Wi)return Ee(t,l,i,r);var f=t&&t===this.ownerID,g=f?l:p(l);return d?s?c===u-1?g.pop():g[c]=g.pop():g[c]=[i,r]:g.push([i,r]),f?(this.entries=g,this):new pe(t,g)}},fe.prototype.get=function(t,e,n,i){void 0===e&&(e=oe(n));var r=1<<((0===t?e:e>>>t)&mi),o=this.bitmap;return 0===(o&r)?i:this.nodes[Re(o&r-1)].get(t+fi,e,n,i)},fe.prototype.update=function(t,e,n,i,r,o,a){void 0===n&&(n=oe(i));var s=(0===e?n:n>>>e)&mi,l=1<<s,c=this.bitmap,u=0!==(c&l);if(!u&&r===vi)return this;var h=Re(c&l-1),d=this.nodes,p=u?d[h]:void 0,f=Se(p,t,e+fi,n,i,r,o,a);if(f===p)return this;if(!u&&f&&d.length>=qi)return Ie(t,d,c,s,f);if(u&&!f&&2===d.length&&Ce(d[1^h]))return d[1^h];if(u&&f&&1===d.length&&Ce(f))return f;var g=t&&t===this.ownerID,m=u?f?c:c^l:c|l,v=u?f?Me(d,h,f,g):Fe(d,h,g):Ne(d,h,f,g);return g?(this.bitmap=m,this.nodes=v,this):new fe(t,m,v)},ge.prototype.get=function(t,e,n,i){void 0===e&&(e=oe(n));var r=(0===t?e:e>>>t)&mi,o=this.nodes[r];return o?o.get(t+fi,e,n,i):i},ge.prototype.update=function(t,e,n,i,r,o,a){void 0===n&&(n=oe(i));var s=(0===e?n:n>>>e)&mi,l=r===vi,c=this.nodes,u=c[s];if(l&&!u)return this;var h=Se(u,t,e+fi,n,i,r,o,a);if(h===u)return this;var d=this.count;if(u){if(!h&&(d--,Vi>d))return De(t,c,d,s)}else d++;var p=t&&t===this.ownerID,f=Me(c,s,h,p);return p?(this.count=d,this.nodes=f,this):new ge(t,d,f)},me.prototype.get=function(t,e,n,i){for(var r=this.entries,o=0,a=r.length;a>o;o++)if(Y(n,r[o][0]))return r[o][1];return i},me.prototype.update=function(t,e,n,i,r,o,a){void 0===n&&(n=oe(i));var s=r===vi;if(n!==this.keyHash)return s?this:(h(a),h(o),Te(this,t,e,n,[i,r]));for(var l=this.entries,c=0,u=l.length;u>c&&!Y(i,l[c][0]);c++);var d=u>c;if(d?l[c][1]===r:s)return this;if(h(a),(s||!d)&&h(o),s&&2===u)return new ve(t,this.keyHash,l[1^c]);var f=t&&t===this.ownerID,g=f?l:p(l);return d?s?c===u-1?g.pop():g[c]=g.pop():g[c]=[i,r]:g.push([i,r]),f?(this.entries=g,this):new me(t,this.keyHash,g)},ve.prototype.get=function(t,e,n,i){return Y(n,this.entry[0])?this.entry[1]:i},ve.prototype.update=function(t,e,n,i,r,o,a){var s=r===vi,l=Y(i,this.entry[0]);return(l?r===this.entry[1]:s)?this:(h(a),s?void h(o):l?t&&t===this.ownerID?(this.entry[1]=r,this):new ve(t,this.keyHash,[i,r]):(h(o),Te(this,t,e,oe(i),[i,r])))},pe.prototype.iterate=me.prototype.iterate=function(t,e){for(var n=this.entries,i=0,r=n.length-1;r>=i;i++)if(t(n[e?r-i:i])===!1)return!1},fe.prototype.iterate=ge.prototype.iterate=function(t,e){for(var n=this.nodes,i=0,r=n.length-1;r>=i;i++){var o=n[e?r-i:i];if(o&&o.iterate(t,e)===!1)return!1}},ve.prototype.iterate=function(t){return t(this.entry)},t(_e,w),_e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,i=e.node,r=e.index++;if(i.entry){if(0===r)return be(t,i.entry)}else if(i.entries){if(n=i.entries.length-1,n>=r)return be(t,i.entries[this._reverse?n-r:r])}else if(n=i.nodes.length-1,n>=r){var o=i.nodes[this._reverse?n-r:r];if(o){if(o.entry)return be(t,o.entry);e=this._stack=ye(o,e)}continue}e=this._stack=this._stack.__prev}return x()};var Hi,Wi=gi/4,qi=gi/2,Vi=gi/4;t(Le,ne),Le.of=function(){return this(arguments)},Le.prototype.toString=function(){return this.__toString("List [","]")},Le.prototype.get=function(t,e){if(t=g(this,t),t>=0&&t<this.size){t+=this._origin;var n=Ke(this,t);return n&&n.array[t&mi]}return e},Le.prototype.set=function(t,e){return qe(this,t,e)},Le.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Le.prototype.insert=function(t,e){return this.splice(t,0,e)},Le.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=fi,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):We()},Le.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Ye(n,0,e+t.length);for(var i=0;i<t.length;i++)n.set(e+i,t[i])})},Le.prototype.pop=function(){return Ye(this,0,-1)},Le.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Ye(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Le.prototype.shift=function(){return Ye(this,1)},Le.prototype.merge=function(){return Ge(this,void 0,arguments)},Le.prototype.mergeWith=function(t){var e=li.call(arguments,1);return Ge(this,t,e)},Le.prototype.mergeDeep=function(){return Ge(this,Ae,arguments)},Le.prototype.mergeDeepWith=function(t){var e=li.call(arguments,1);return Ge(this,je(t),e)},Le.prototype.setSize=function(t){return Ye(this,0,t)},Le.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:Ye(this,_(t,n),b(e,n))},Le.prototype.__iterator=function(t,e){var n=0,i=Ue(this,e);return new w(function(){var e=i();return e===Gi?x():k(t,n++,e)})},Le.prototype.__iterate=function(t,e){for(var n,i=0,r=Ue(this,e);(n=r())!==Gi&&t(n,i++,this)!==!1;);return i},Le.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?He(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Le.isList=Be;var Qi="@@__IMMUTABLE_LIST__@@",Ki=Le.prototype;Ki[Qi]=!0,Ki[pi]=Ki.remove,Ki.setIn=Ui.setIn,Ki.deleteIn=Ki.removeIn=Ui.removeIn,Ki.update=Ui.update,Ki.updateIn=Ui.updateIn,Ki.mergeIn=Ui.mergeIn,Ki.mergeDeepIn=Ui.mergeDeepIn,Ki.withMutations=Ui.withMutations,Ki.asMutable=Ui.asMutable,Ki.asImmutable=Ui.asImmutable,Ki.wasAltered=Ui.wasAltered,ze.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0||0===this.array.length)return this;var i=n>>>e&mi;if(i>=this.array.length)return new ze([],t);var r,o=0===i;if(e>0){var a=this.array[i];if(r=a&&a.removeBefore(t,e-fi,n),r===a&&o)return this}if(o&&!r)return this;var s=Qe(this,t);if(!o)for(var l=0;i>l;l++)s.array[l]=void 0;return r&&(s.array[i]=r),s},ze.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var i=n-1>>>e&mi;if(i>=this.array.length)return this;var r;if(e>0){var o=this.array[i];if(r=o&&o.removeAfter(t,e-fi,n),r===o&&i===this.array.length-1)return this}var a=Qe(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Yi,Gi={};t(Xe,he),Xe.of=function(){return this(arguments)},Xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Xe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):en()},Xe.prototype.set=function(t,e){return nn(this,t,e)},Xe.prototype.remove=function(t){return nn(this,t,vi)},Xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Xe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Xe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Xe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?tn(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Xe.isOrderedMap=Ze,Xe.prototype[di]=!0,Xe.prototype[pi]=Xe.prototype.remove;var Ji;t(rn,P),rn.prototype.get=function(t,e){return this._iter.get(t,e)},rn.prototype.has=function(t){return this._iter.has(t)},rn.prototype.valueSeq=function(){return this._iter.valueSeq()},rn.prototype.reverse=function(){var t=this,e=un(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},rn.prototype.map=function(t,e){var n=this,i=cn(this,t,e);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().map(t,e)}),i},rn.prototype.__iterate=function(t,e){var n,i=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,i)}:(n=e?En(this):0,function(r){return t(r,e?--n:n++,i)}),e)},rn.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(wi,e),i=e?En(this):0;return new w(function(){var r=n.next();return r.done?r:k(t,e?--i:i++,r.value,r)})},rn.prototype[di]=!0,t(on,A),on.prototype.includes=function(t){return this._iter.includes(t)},on.prototype.__iterate=function(t,e){var n=this,i=0;return this._iter.__iterate(function(e){return t(e,i++,n)},e)},on.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wi,e),i=0;return new w(function(){var e=n.next();return e.done?e:k(t,i++,e.value,e)})},t(an,j),an.prototype.has=function(t){return this._iter.includes(t)},an.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},an.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wi,e);return new w(function(){var e=n.next();return e.done?e:k(t,e.value,e.value,e)})},t(sn,P),sn.prototype.entrySeq=function(){return this._iter.toSeq()},sn.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Tn(e);var i=o(e);return t(i?e.get(1):e[1],i?e.get(0):e[0],n)}},e)},sn.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wi,e);return new w(function(){for(;;){var e=n.next();if(e.done)return e;var i=e.value;if(i){Tn(i);var r=o(i);return k(t,r?i.get(0):i[0],r?i.get(1):i[1],e)}}})},on.prototype.cacheResult=rn.prototype.cacheResult=an.prototype.cacheResult=sn.prototype.cacheResult=Pn,t(On,ee),On.prototype.toString=function(){return this.__toString(Rn(this)+" {","}")},On.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},On.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},On.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=$n(this,ke()))},On.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Rn(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var i=this._map&&this._map.set(t,e);return this.__ownerID||i===this._map?this:$n(this,i)},On.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:$n(this,e)},On.prototype.wasAltered=function(){return this._map.wasAltered()},On.prototype.__iterator=function(t,e){var i=this;return n(this._defaultValues).map(function(t,e){return i.get(e)}).__iterator(t,e)},On.prototype.__iterate=function(t,e){var i=this;return n(this._defaultValues).map(function(t,e){return i.get(e)}).__iterate(t,e)},On.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?$n(this,e,t):(this.__ownerID=t,this._map=e,this)};var Xi=On.prototype;Xi[pi]=Xi.remove,Xi.deleteIn=Xi.removeIn=Ui.removeIn,Xi.merge=Ui.merge,Xi.mergeWith=Ui.mergeWith,Xi.mergeIn=Ui.mergeIn,Xi.mergeDeep=Ui.mergeDeep,Xi.mergeDeepWith=Ui.mergeDeepWith,Xi.mergeDeepIn=Ui.mergeDeepIn,Xi.setIn=Ui.setIn,Xi.update=Ui.update,Xi.updateIn=Ui.updateIn,Xi.withMutations=Ui.withMutations,Xi.asMutable=Ui.asMutable,Xi.asImmutable=Ui.asImmutable,t(Fn,ie),Fn.of=function(){return this(arguments)},Fn.fromKeys=function(t){return this(n(t).keySeq())},Fn.prototype.toString=function(){return this.__toString("Set {","}")},Fn.prototype.has=function(t){return this._map.has(t)},Fn.prototype.add=function(t){return Bn(this,this._map.set(t,!0))},Fn.prototype.remove=function(t){return Bn(this,this._map.remove(t))},Fn.prototype.clear=function(){return Bn(this,this._map.clear())},Fn.prototype.union=function(){var t=li.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)r(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Fn.prototype.intersect=function(){var t=li.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return r(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Fn.prototype.subtract=function(){var t=li.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return r(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Fn.prototype.merge=function(){return this.union.apply(this,arguments)},Fn.prototype.mergeWith=function(){var t=li.call(arguments,1);return this.union.apply(this,t)},Fn.prototype.sort=function(t){return Hn(wn(this,t))},Fn.prototype.sortBy=function(t,e){return Hn(wn(this,e,t))},Fn.prototype.wasAltered=function(){return this._map.wasAltered()},Fn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,i){return t(i,i,n)},e)},Fn.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Fn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Fn.isSet=Ln;var Zi="@@__IMMUTABLE_SET__@@",tr=Fn.prototype;tr[Zi]=!0,tr[pi]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Ui.withMutations,tr.asMutable=Ui.asMutable,tr.asImmutable=Ui.asImmutable,tr.__empty=Un,tr.__make=zn;var er;t(Hn,Fn),Hn.of=function(){return this(arguments)},Hn.fromKeys=function(t){return this(n(t).keySeq())},Hn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Hn.isOrderedSet=Wn;var nr=Hn.prototype;nr[di]=!0,nr.__empty=Vn,nr.__make=qn;var ir;t(Qn,ne),Qn.of=function(){return this(arguments)},Qn.prototype.toString=function(){return this.__toString("Stack [","]")},Qn.prototype.get=function(t,e){var n=this._head;for(t=g(this,t);n&&t--;)n=n.next;return n?n.value:e},Qn.prototype.peek=function(){return this._head&&this._head.value},Qn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Yn(t,e)},Qn.prototype.pushAll=function(t){if(t=i(t),0===t.size)return this;ue(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(e,n)},Qn.prototype.pop=function(){return this.slice(1)},Qn.prototype.unshift=function(){return this.push.apply(this,arguments)},Qn.prototype.unshiftAll=function(t){return this.pushAll(t)},Qn.prototype.shift=function(){return this.pop.apply(this,arguments)},Qn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Gn()},Qn.prototype.slice=function(t,e){if(v(t,e,this.size))return this;var n=_(t,this.size),i=b(e,this.size);if(i!==this.size)return ne.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Yn(r,o)},Qn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Yn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Qn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,i=this._head;i&&t(i.value,n++,this)!==!1;)i=i.next;return n},Qn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,i=this._head;return new w(function(){if(i){var e=i.value;return i=i.next,k(t,n++,e)}return x()})},Qn.isStack=Kn;var rr="@@__IMMUTABLE_STACK__@@",or=Qn.prototype;or[rr]=!0,or.withMutations=Ui.withMutations,or.asMutable=Ui.asMutable,or.asImmutable=Ui.asImmutable,or.wasAltered=Ui.wasAltered;var ar;e.Iterator=w,Jn(e,{toArray:function(){ue(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new on(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new rn(this,!0)},toMap:function(){return he(this.toKeyedSeq())},toObject:function(){ue(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Xe(this.toKeyedSeq())},toOrderedSet:function(){return Hn(a(this)?this.valueSeq():this)},toSet:function(){return Fn(a(this)?this.valueSeq():this)},toSetSeq:function(){return new an(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Qn(a(this)?this.valueSeq():this)},toList:function(){return Le(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=li.call(arguments,0);return Cn(this,vn(this,t))},includes:function(t){return this.some(function(e){return Y(e,t)})},entries:function(){return this.__iterator(ki)},every:function(t,e){ue(this.size);var n=!0;return this.__iterate(function(i,r,o){return t.call(e,i,r,o)?void 0:(n=!1,!1)}),n},filter:function(t,e){return Cn(this,hn(this,t,e,!0))},find:function(t,e,n){var i=this.findEntry(t,e);return i?i[1]:n},forEach:function(t,e){return ue(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ue(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(i){n?n=!1:e+=t,e+=null!==i&&void 0!==i?i.toString():""}),e},keys:function(){return this.__iterator(yi)},map:function(t,e){return Cn(this,cn(this,t,e))},reduce:function(t,e,n){ue(this.size);var i,r;return arguments.length<2?r=!0:i=e,this.__iterate(function(e,o,a){r?(r=!1,i=e):i=t.call(n,i,e,o,a)}),i},reduceRight:function(){var t=this.toKeyedSeq().reverse();return t.reduce.apply(t,arguments)},reverse:function(){return Cn(this,un(this,!0))},slice:function(t,e){return Cn(this,fn(this,t,e,!0))},some:function(t,e){return!this.every(ti(t),e)},sort:function(t){return Cn(this,wn(this,t))},values:function(){return this.__iterator(wi)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return f(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return dn(this,t,e)},equals:function(t){return G(this,t)},entrySeq:function(){var t=this;if(t._cache)return new O(t._cache);var e=t.toSeq().map(Zn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(ti(t),e)},findEntry:function(t,e,n){var i=n;return this.__iterate(function(n,r,o){return t.call(e,n,r,o)?(i=[r,n],!1):void 0}),i},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(m)},flatMap:function(t,e){return Cn(this,bn(this,t,e))},flatten:function(t){return Cn(this,_n(this,t,!0))},fromEntrySeq:function(){return new sn(this)},get:function(t,e){return this.find(function(e,n){return Y(n,t)},void 0,e)},getIn:function(t,e){for(var n,i=this,r=jn(t);!(n=r.next()).done;){var o=n.value;if(i=i&&i.get?i.get(o,vi):vi,i===vi)return e}return i},groupBy:function(t,e){return pn(this,t,e)},has:function(t){return this.get(t,vi)!==vi},hasIn:function(t){return this.getIn(t,vi)!==vi},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return Y(e,t)})},keySeq:function(){return this.toSeq().map(Xn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return kn(this,t)},maxBy:function(t,e){return kn(this,e,t)},min:function(t){return kn(this,t?ei(t):ri)},minBy:function(t,e){return kn(this,e?ei(e):ri,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Cn(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Cn(this,mn(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(ti(t),e)},sortBy:function(t,e){return Cn(this,wn(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Cn(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Cn(this,gn(this,t,e))},takeUntil:function(t,e){return this.takeWhile(ti(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=oi(this))}});var sr=e.prototype;sr[ci]=!0,sr[Ci]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=ni,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,Jn(n,{flip:function(){return Cn(this,ln(this))},mapEntries:function(t,e){var n=this,i=0;return Cn(this,this.toSeq().map(function(r,o){return t.call(e,[o,r],i++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Cn(this,this.toSeq().flip().map(function(i,r){return t.call(e,i,r,n)}).flip())}});var lr=n.prototype;lr[ui]=!0,lr[Ci]=sr.entries,lr.__toJS=sr.toObject,lr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+ni(t)},Jn(i,{toKeyedSeq:function(){return new rn(this,!1)},filter:function(t,e){return Cn(this,hn(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Cn(this,un(this,!1))},slice:function(t,e){return Cn(this,fn(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=_(t,0>t?this.count():this.size);var i=this.slice(0,t);return Cn(this,1===n?i:i.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Cn(this,_n(this,t,!1))},get:function(t,e){return t=g(this,t),0>t||1/0===this.size||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=g(this,t),t>=0&&(void 0!==this.size?1/0===this.size||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Cn(this,yn(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=Sn(this.toSeq(),A.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Cn(this,n)},keySeq:function(){return Z(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Cn(this,mn(this,t,e,!1))},zip:function(){var t=[this].concat(p(arguments));return Cn(this,Sn(this,ii,t))},zipWith:function(t){var e=p(arguments);return e[0]=this,Cn(this,Sn(this,t,e))}}),i.prototype[hi]=!0,i.prototype[di]=!0,Jn(r,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),r.prototype.has=sr.includes,r.prototype.contains=r.prototype.includes,Jn(P,n.prototype),Jn(A,i.prototype),Jn(j,r.prototype),Jn(ee,n.prototype),Jn(ne,i.prototype),Jn(ie,r.prototype);var cr={Iterable:e,Seq:I,Collection:te,Map:he,OrderedMap:Xe,List:Le,Stack:Qn,Set:Fn,OrderedSet:Hn,Record:On,Range:Z,Repeat:J,is:Y,fromJS:q};return cr}),/*!
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// Copyright (c) 2010 "Cowboy" Ben Alman,
function(t,e){function n(t){return"string"==typeof t}function i(t){var e=v.call(arguments,1);return function(){return t.apply(this,e.concat(v.call(arguments)))}}function r(t){return t.replace(/^[^#]*#?(.*)$/,"$1")}function o(t){return t.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function a(i,r,o,a,s){var l,u,d,p,f;return a!==c?(d=o.match(i?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),f=d[3]||"",2===s&&n(a)?u=a.replace(i?P:I,""):(p=h(d[2]),a=n(a)?h[i?S:x](a):a,u=2===s?a:1===s?t.extend({},a,p):t.extend({},p,a),u=b(u),i&&(u=u.replace(m,_))),l=d[1]+(i?"#":u||!d[1]?"?":"")+u+f):l=r(o!==c?o:e[T][E]),l}function s(t,e,i){return e===c||"boolean"==typeof e?(i=e,e=b[t?S:x]()):e=n(e)?e.replace(t?P:I,""):e,h(e,i)}function l(e,i,r,o){return n(r)||"object"==typeof r||(o=r,r=i,i=c),this.each(function(){var n=t(this),a=i||g()[(this.nodeName||"").toLowerCase()]||"",s=a&&n.attr(a)||"";n.attr(a,b[e](s,r,o))})}var c,u,h,d,p,f,g,m,v=Array.prototype.slice,_=decodeURIComponent,b=t.param,y=t.bbq=t.bbq||{},w=t.event.special,k="hashchange",x="querystring",S="fragment",C="elemUrlAttr",T="location",E="href",D="src",I=/^.*\?|#.*$/g,P=/^.*\#/,A={};b[x]=i(a,0,o),b[S]=u=i(a,1,r),u.noEscape=function(e){e=e||"";var n=t.map(e.split(""),encodeURIComponent);m=new RegExp(n.join("|"),"g")},u.noEscape(",/"),t.deparam=h=function(e,n){var i={},r={"true":!0,"false":!1,"null":null};return t.each(e.replace(/\+/g," ").split("&"),function(e,o){var a,s=o.split("="),l=_(s[0]),u=i,h=0,d=l.split("]["),p=d.length-1;if(/\[/.test(d[0])&&/\]$/.test(d[p])?(d[p]=d[p].replace(/\]$/,""),d=d.shift().split("[").concat(d),p=d.length-1):p=0,2===s.length)if(a=_(s[1]),n&&(a=a&&!isNaN(a)?+a:"undefined"===a?c:r[a]!==c?r[a]:a),p)for(;p>=h;h++)l=""===d[h]?u.length:d[h],u=u[l]=p>h?u[l]||(d[h+1]&&isNaN(d[h+1])?{}:[]):a;else t.isArray(i[l])?i[l].push(a):i[l]=i[l]!==c?[i[l],a]:a;else l&&(i[l]=n?c:"")}),i},h[x]=i(s,0),h[S]=d=i(s,1),t[C]||(t[C]=function(e){return t.extend(A,e)})({a:E,base:E,iframe:D,img:D,input:D,form:"action",link:E,script:D}),g=t[C],t.fn[x]=i(l,x),t.fn[S]=i(l,S),y.pushState=p=function(t,i){n(t)&&/^#/.test(t)&&i===c&&(i=2);var r=t!==c,o=u(e[T][E],r?t:{},r?i:2);e[T][E]=o+(/#/.test(o)?"":"#")},y.getState=f=function(t,e){return t===c||"boolean"==typeof t?d(t):d(e)[t]},y.removeState=function(e){var n={};e!==c&&(n=f(),t.each(t.isArray(e)?e:arguments,function(t,e){delete n[e]})),p(n,2)},w[k]=t.extend(w[k],{add:function(e){function n(t){var e=t[S]=u();t.getState=function(t,n){return t===c||"boolean"==typeof t?h(e,t):h(e,n)[t]},i.apply(this,arguments)}var i;return t.isFunction(e)?(i=e,n):(i=e.handler,void(e.handler=n))}})}(jQuery,this),/*!
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function(t,e,n){function i(t){return t=t||e[a][l],t.replace(/^[^#]*#?(.*)$/,"$1")}var r,o=t.event.special,a="location",s="hashchange",l="href",c=t.browser,u=document.documentMode,h=c.msie&&(u===n||8>u),d="on"+s in e&&!h;t[s+"Delay"]=100,o[s]=t.extend(o[s],{setup:function(){return d?!1:void t(r.start)},teardown:function(){return d?!1:void t(r.stop)}}),r=function(){function n(){c=u=function(t){return t},h&&(o=t('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,u=function(){return i(o.document[a][l])},(c=function(t,e){if(t!==e){var n=o.document;n.open().close(),n[a].hash="#"+t}})(i()))}var r,o,c,u,d={};return d.start=function(){if(!r){var o=i();c||n(),function h(){var n=i(),d=u(o);n!==o?(c(o=n,d),t(e).trigger(s)):d!==o&&(e[a][l]=e[a][l].replace(/#.*/,"")+"#"+d),r=setTimeout(h,t[s+"Delay"])}()}},d.stop=function(){o||(r&&clearTimeout(r),r=0)},d}()}(jQuery,this),function(t,e){function n(e,n,i,r){t.each(s,function(t,o){o[e].call(this,n,i,r)})}function i(t){var e=l.Event(t);a=l.State(e),n("touchstart",t,a,e)}function r(t){if(a){var e=l.Event(t);a.move.push(e),n("touchmove",t,a,e)}}function o(t){var e=l.Event(t);a.end=e,n("touchend",t,a,e)}var a,s={},l={active:!1,on:function(){t(document).on("touchstart MSPointerDown pointerdown",i).on("touchmove MSPointerMove MSPointerHover pointermove",r).on("touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel",o),l.active=!0},off:function(){t(document).off("touchstart MSPointerDown pointerdown",i).off("touchmove MSPointerMove MSPointerHover pointermove ",r).off("touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel",o),l.active=!1},track:function(t,e){s[t]=e},addEventParam:function(e,n){var i=t(e.target),r=i.offset(),o={pageX:e.point[0].x,pageY:e.point[0].y,offsetX:r.left-e.point[0].x,offsetY:r.top-e.point[0].y};return t.extend(o,n)},Event:function(e){var n={type:e.type,timestamp:(new Date).getTime(),target:e.target,point:[]},i=[];return e.type.indexOf("touch")>-1?i=e.changedTouches||e.originalEvent.changedTouches||e.touches||e.originalEvent.touches:e.type.match(/.*?pointer.*?/i)&&(i=[e.originalEvent]),t.each(i,function(t,e){n.point.push({x:e.pageX,y:e.pageY})}),n},State:function(t){t.point[0];return{start:t,move:[],end:null}},calc:{getDuration:function(t,e){return e.timestamp-t.timestamp},getDistance:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},getAngle:function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},getDirection:function(t){return-45>t&&t>-135?"up":t>=-45&&45>=t?"right":t>=45&&135>t?"down":t>=135||-135>=t?"left":"unknown"},getScale:function(t,e){var n=t.point,i=e.point;return 2===n.length&&2===i.length?(Math.sqrt(Math.pow(i[0].x-i[1].x,2)+Math.pow(i[0].y-i[1].y,2))/Math.sqrt(Math.pow(n[0].x-n[1].x,2)+Math.pow(n[0].y-n[1].y,2))).toFixed(2):0},getRotation:function(t,e){var n=t.point,i=e.point;return 2===n.length&&2===i.length?(180*Math.atan2(i[0].y-i[1].y,i[0].x-i[1].x)/Math.PI-180*Math.atan2(n[0].y-n[1].y,n[0].x-n[1].x)/Math.PI).toFixed(2):0}}};l.on(),t.toe=l}(jQuery,this),function(t,e){var n="swipe",i={distance:40,duration:1200,direction:"all"};e.track(n,{touchstart:function(t,e,i){e[n]={finger:i.point.length}},touchmove:function(t,e,i){e[n].finger=i.point.length>e[n].finger?i.point.length:e[n].finger},touchend:function(r,o,a){var s,l,c=t.extend(i,r.data);s=e.calc.getDuration(o.start,a),l=e.calc.getDistance(o.start.point[0],a.point[0]),s<c.duration&&l>c.distance&&(o[n].angle=e.calc.getAngle(o.start.point[0],a.point[0]),o[n].direction=e.calc.getDirection(o[n].angle),o[n].distance=l,("all"===c.direction||o[n].direction===c.direction)&&t(r.target).trigger(t.Event(n,e.addEventParam(o.start,o[n]))))}})}(jQuery,jQuery.toe,this),function(t,e){var n=document.documentElement.clientWidth,i=document.documentElement.clientHeight,r=Math.sqrt(n*i),o=.02*r,a="tap",s={distance:o,duration:300,finger:1};e.track(a,{touchstart:function(t,e,n){e[a]={finger:n.point.length}},touchmove:function(t,e,n){e[a].finger=n.point.length>e[a].finger?n.point.length:e[a].finger},touchend:function(n,i,r){var o,l,c=t.extend(s,n.data);o=e.calc.getDuration(i.start,r),l=e.calc.getDistance(i.start.point[0],r.point[0]),o<c.duration&&l<c.distance&&i[a].finger===c.finger&&t(n.target).trigger(t.Event(a,e.addEventParam(i.start,i[a])))}})}(jQuery,jQuery.toe,this),function(t,e){var n,i,r="taphold",o={distance:20,duration:500,finger:1};e.track(r,{touchstart:function(a,s,l){var c=t.extend(o,a.data);i=!1,s[r]={finger:l.point.length},clearTimeout(n),n=setTimeout(function(){!i&&e.active&&s[r].finger===c.finger&&t(a.target).trigger(t.Event(r,e.addEventParam(l,s[r])))},c.duration)},touchmove:function(n,a,s){var l,c=t.extend(o,n.data);a[r].finger=s.point.length>a[r].finger?s.point.length:a[r].finger,l=e.calc.getDistance(a.start.point[0],s.point[0]),l>c.distance&&(i=!0)},touchend:function(){i=!0,clearTimeout(n)}})}(jQuery,jQuery.toe,this),function(t,e){var n,i="transform",r={scale:.1,rotation:15};e.track(i,{touchstart:function(t,e,r){n=!1,e[i]={start:r,move:[]}},touchmove:function(o,a,s){var l=t.extend(r,o.data);2===s.point.length&&(a[i].move.push(s),2!==a[i].start.point.length&&2===s.point.length&&(a[i].start=t.extend({},s)),a[i].rotation=e.calc.getRotation(a[i].start,s),a[i].scale=e.calc.getScale(a[i].start,s),(Math.abs(1-a[i].scale)>l.scale||Math.abs(a[i].rotation)>l.rotation)&&(n||(t(o.target).trigger(t.Event("transformstart",a[i])),n=!0),t(o.target).trigger(t.Event("transform",a[i]))))},touchend:function(r,o,a){n&&(n=!1,2!==a.point.length&&(o.end=t.extend({},o[i].move[o[i].move.length-1])),o[i].rotation=e.calc.getRotation(o[i].start,o.end),o[i].scale=e.calc.getScale(o[i].start,o.end),t(r.target).trigger(t.Event("transformend",o[i])))}})}(jQuery,jQuery.toe,this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e){function n(t,e){for(;t&&t.nodeType!==i;){if(t.matches(e))return t;t=t.parentNode}}var i=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=n},{}],2:[function(t,e){function n(t,e,n,r,o){var a=i.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}function i(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}var r=t("./closest");e.exports=n},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e){function n(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return o(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function o(t,e,n){return s(document.body,t,e,n)}var a=t("./is"),s=t("delegate");e.exports=n},{"./is":3,delegate:2}],5:[function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r),e=i.toString()}return e}e.exports=n},{}],6:[function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;r>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;a>o;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=n},{}],7:[function(e,n,i){!function(r,o){if("function"==typeof t&&t.amd)t(["module","select"],o);else if("undefined"!=typeof i)o(n,e("select"));else{var a={exports:{}};o(a,r.select),r.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=r.default(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=r.default(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:5}],8:[function(e,n,i){!function(r,o){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if("undefined"!=typeof i)o(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};o(a,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=a.exports}}(this,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=r(e),u=r(n),h=r(i),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=function(t){function e(t,n){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return s(e,t),d(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=h.default(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);return e?document.querySelector(e):void 0}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(u.default);t.exports=p})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){var e=getComputedStyle(t),n=e.position;if("fixed"===n)return t;for(var i=t;i=i.parentNode;){var r=void 0;try{r=getComputedStyle(i)}catch(o){}if("undefined"==typeof r||null===r)return i;var a=r.overflow,s=r.overflowX,l=r.overflowY;if(/(auto|scroll)/.test(a+l+s)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(r.position)>=0))return i}return document.body}function n(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i={},r=t.getBoundingClientRect();for(var o in r)i[o]=r[o];var a=k(e);return i.top-=a.top,i.left-=a.left,"undefined"==typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),"undefined"==typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function i(t){return t.offsetParent||document.documentElement}function r(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");o(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return{width:r,height:r}}function o(){var t=void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function a(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=c(t).replace(n," ");u(t,i)}}function s(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{a(t,e);var n=c(t)+" #{name}";u(t,n)}}function l(t,e){if("undefined"!=typeof t.classList)return t.classList.contains(e);var n=c(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function c(t){return t.className instanceof SVGAnimatedString?t.className.baseVal:t.className}function u(t,e){t.setAttribute("class",e)}function h(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&l(t,n)&&a(t,n)}),e.forEach(function(e){l(t,e)||s(t,e)})}function d(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){var n=void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function f(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function g(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var i={top:0,left:0};return e.forEach(function(t){var e=t.top,n=t.left;"string"==typeof e&&(e=parseFloat(e,10)),"string"==typeof n&&(n=parseFloat(n,10)),i.top+=e,i.left+=n}),i}function m(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function d(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v(t,e){return"scrollParent"===e?e=t.scrollParent:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),"undefined"!=typeof e.nodeType&&!function(){var t=n(e),i=t,r=getComputedStyle(e);e=[i.left,i.top,t.width+i.left,t.height+i.top],B.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(r["border"+t+"Width"]):e[n]-=parseFloat(r["border"+t+"Width"])})}(),e}function d(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b=void 0;"undefined"==typeof b&&(b={modules:[]});var y=function(){var t=0;return function(){return++t}}(),w={},k=function(t){var e=t._tetherZeroElement;"undefined"==typeof e&&(e=t.createElement("div"),e.setAttribute("data-tether-id",y()),o(e.style,{top:0,left:0,position:"absolute"}),t.body.appendChild(e),t._tetherZeroElement=e);var n=e.getAttribute("data-tether-id");if("undefined"==typeof w[n]){w[n]={};var i=e.getBoundingClientRect();for(var r in i)w[n][r]=i[r];S(function(){delete w[n]})}return w[n]},x=[],S=function(t){x.push(t)},C=function(){for(var t=void 0;t=x.pop();)t()},T=function(){function e(){t(this,e)}return _(e,[{key:"on",value:function(t,e,n){var i=void 0===arguments[3]?!1:arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if("undefined"==typeof this.bindings||"undefined"==typeof this.bindings[t])if("undefined"==typeof e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];if("undefined"!=typeof this.bindings&&this.bindings[t])for(var r=0;r<this.bindings[t].length;){var o=this.bindings[t][r],a=o.handler,s=o.ctx,l=o.once,c=s;"undefined"==typeof c&&(c=this),a.apply(c,n),l?this.bindings[t].splice(r,1):++r}}}]),e}();b.Utils={getScrollParent:e,getBounds:n,getOffsetParent:i,extend:o,addClass:s,removeClass:a,hasClass:l,updateClasses:h,defer:S,flush:C,uniqueId:y,Evented:T,getScrollBarSize:r};var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();if("undefined"==typeof b)throw new Error("You must include the utils.js file before tether.js");var E=b.Utils,e=E.getScrollParent,n=E.getBounds,i=E.getOffsetParent,o=E.extend,s=E.addClass,a=E.removeClass,h=E.updateClasses,S=E.defer,C=E.flush,r=E.getScrollBarSize,D=function(){for(var t=document.createElement("div"),e=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),I=[],P=function(){I.forEach(function(t){t.position(!1)}),C()};!function(){var t=null,e=null,n=null,i=function r(){return"undefined"!=typeof e&&e>16?(e=Math.min(e-16,250),void(n=setTimeout(r,250))):void("undefined"!=typeof t&&f()-t<10||("undefined"!=typeof n&&(clearTimeout(n),n=null),t=f(),P(),e=f()-t))};["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var A={center:"center",left:"right",right:"left"},j={middle:"middle",top:"bottom",bottom:"top"},O={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},$=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=A[e.left]),"auto"===i&&(i=j[e.top]),{left:n,top:i}},R=function(t){var e=t.left,n=t.top;return"undefined"!=typeof O[t.left]&&(e=O[t.left]),"undefined"!=typeof O[t.top]&&(n=O[t.top]),{left:e,top:n}},M=function(t){var e=t.split(" "),n=d(e,2),i=n[0],r=n[1];return{top:i,left:r}},N=M,F=function(){function l(e){var n=this;t(this,l),this.position=this.position.bind(this),I.push(this),this.history=[],this.setOptions(e,!1),b.modules.forEach(function(t){"undefined"!=typeof t.initialize&&t.initialize.call(n)}),this.position()}return _(l,[{key:"getClass",value:function(){var t=void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!=typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?""+this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var n=this,i=void 0===arguments[1]?!0:arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=o(r,t);var a=this.options,l=a.element,c=a.target,u=a.targetModifier;if(this.element=l,this.target=c,this.targetModifier=u,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if("undefined"==typeof n[t])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof n[t].jquery?n[t]=n[t][0]:"string"==typeof n[t]&&(n[t]=document.querySelector(n[t]))}),s(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&s(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=N(this.options.targetAttachment),this.attachment=N(this.options.attachment),this.offset=M(this.options.offset),this.targetOffset=M(this.options.targetOffset),"undefined"!=typeof this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:e(this.target),this.options.enabled!==!1&&this.enable(i)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return n(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=n(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,i=this.target;i===document.body?(i=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=n(i);var r=getComputedStyle(i),o=i.scrollWidth>i.clientWidth||[r.overflow,r.overflowX].indexOf("scroll")>=0||this.target!==document.body,a=0;o&&(a=15);var s=t.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-a,e={width:15,height:.975*s*(s/i.scrollHeight),left:t.left+t.width-parseFloat(r.borderLeftWidth)-15},l=0;408>s&&this.target===document.body&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var c=this.target.scrollTop/(i.scrollHeight-s);return e.top=c*(s-e.height-l)+t.top+parseFloat(r.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=void 0===arguments[0]?!0:arguments[0];this.options.addTargetClasses!==!1&&s(this.target,this.getClass("enabled")),s(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),t&&this.position()}},{key:"disable",value:function(){a(this.target,this.getClass("enabled")),a(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParent&&this.scrollParent.removeEventListener("scroll",this.position)}},{key:"destroy",value:function(){var t=this;this.disable(),I.forEach(function(e,n){return e===t?void I.splice(n,1):void 0})}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(""+this.getClass("element-attached")+"-"+t.top),t.left&&r.push(""+this.getClass("element-attached")+"-"+t.left),e.top&&r.push(""+this.getClass("target-attached")+"-"+e.top),e.left&&r.push(""+this.getClass("target-attached")+"-"+e.left);var o=[];i.forEach(function(t){o.push(""+n.getClass("element-attached")+"-"+t),o.push(""+n.getClass("target-attached")+"-"+t)}),S(function(){"undefined"!=typeof n._addAttachClasses&&(h(n.element,n._addAttachClasses,o),n.options.addTargetClasses!==!1&&h(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=void 0===arguments[0]?!0:arguments[0];if(this.enabled){this.clearCache();var o=$(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,o);var a=this.cache("element-bounds",function(){return n(t.element)}),s=a.width,l=a.height;if(0===s&&0===l&&"undefined"!=typeof this.lastSize){var c=this.lastSize;s=c.width,l=c.height}else this.lastSize={width:s,height:l};var u=this.cache("target-bounds",function(){return t.getTargetBounds()}),h=u,d=m(R(this.attachment),{width:s,height:l}),p=m(R(o),h),f=m(this.offset,{width:s,height:l}),v=m(this.targetOffset,h);d=g(d,f),p=g(p,v);for(var _=u.left+p.left-d.left,y=u.top+p.top-d.top,w=0;w<b.modules.length;++w){var k=b.modules[w],x=k.position.call(this,{left:_,top:y,targetAttachment:o,targetPos:u,elementPos:a,offset:d,targetOffset:p,manualOffset:f,manualTargetOffset:v,scrollbarSize:T,attachment:this.attachment});if(x===!1)return!1;"undefined"!=typeof x&&"object"==typeof x&&(y=x.top,_=x.left)}var S={page:{top:y,left:_},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-l+innerHeight,left:_-pageXOffset,right:pageXOffset-_-s+innerWidth}},T=void 0;return document.body.scrollWidth>window.innerWidth&&(T=this.cache("scrollbar-size",r),S.viewport.bottom-=T.height),document.body.scrollHeight>window.innerHeight&&(T=this.cache("scrollbar-size",r),S.viewport.right-=T.width),(-1===["","static"].indexOf(document.body.style.position)||-1===["","static"].indexOf(document.body.parentElement.style.position))&&(S.page.bottom=document.body.scrollHeight-y-l,S.page.right=document.body.scrollWidth-_-s),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var e=t.cache("target-offsetparent",function(){return i(t.target)}),r=t.cache("target-offsetparent-bounds",function(){return n(e)}),o=getComputedStyle(e),a=r,s={};if(["Top","Left","Bottom","Right"].forEach(function(t){s[t.toLowerCase()]=parseFloat(o["border"+t+"Width"])}),r.right=document.body.scrollWidth-r.left-a.width+s.right,r.bottom=document.body.scrollHeight-r.top-a.height+s.bottom,S.page.top>=r.top+s.top&&S.page.bottom>=r.bottom&&S.page.left>=r.left+s.left&&S.page.right>=r.right){var l=e.scrollTop,c=e.scrollLeft;S.offset={top:S.page.top-r.top+l-s.top,left:S.page.left-r.left+c-s.left}}}(),this.move(S),this.history.unshift(S),this.history.length>3&&this.history.pop(),e&&C(),!0}}},{key:"move",value:function(t){var e=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var r in t){n[r]={};for(var a in t[r]){for(var s=!1,l=0;l<this.history.length;++l){var c=this.history[l];if("undefined"!=typeof c[r]&&!p(c[r][a],t[r][a])){s=!0;break}}s||(n[r][a]=!0)}}var u={top:"",left:"",right:"",bottom:""},h=function(t,n){var i="undefined"!=typeof e.options.optimizations,r=i?e.options.optimizations.gpu:null;
if(r!==!1){var o=void 0,a=void 0;t.top?(u.top=0,o=n.top):(u.bottom=0,o=-n.bottom),t.left?(u.left=0,a=n.left):(u.right=0,a=-n.right),u[D]="translateX("+Math.round(a)+"px) translateY("+Math.round(o)+"px)","msTransform"!==D&&(u[D]+=" translateZ(0)")}else t.top?u.top=""+n.top+"px":u.bottom=""+n.bottom+"px",t.left?u.left=""+n.left+"px":u.right=""+n.right+"px"},d=!1;(n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",h(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",h(n.viewport,t.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){u.position="absolute";var r=e.cache("target-offsetparent",function(){return i(e.target)});i(e.element)!==r&&S(function(){e.element.parentNode.removeChild(e.element),r.appendChild(e.element)}),h(n.offset,t.offset),d=!0}():(u.position="absolute",h({top:!0,left:!0},t.page)),d||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element));var f={},g=!1;for(var a in u){var m=u[a],v=this.element.style[a];""!==v&&""!==m&&["top","left","bottom","right"].indexOf(a)>=0&&(v=parseFloat(v),m=parseFloat(m)),v!==m&&(g=!0,f[a]=m)}g&&S(function(){o(e.element.style,f)})}}}]),l}();F.modules=[],b.position=P;var L=o(F,b),E=b.Utils,n=E.getBounds,o=E.extend,h=E.updateClasses,S=E.defer,B=["left","top","right","bottom"];b.modules.push({position:function(t){var e=this,i=t.top,r=t.left,a=t.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",function(){return n(e.element)}),l=s.height,c=s.width;if(0===c&&0===l&&"undefined"!=typeof this.lastSize){var u=this.lastSize;c=u.width,l=u.height}var p=this.cache("target-bounds",function(){return e.getTargetBounds()}),f=p.height,g=p.width,m=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&m.push(e),n&&m.push(n)}),m.forEach(function(t){["left","top","right","bottom"].forEach(function(e){m.push(""+t+"-"+e)})});var _=[],b=o({},a),y=o({},this.attachment);return this.options.constraints.forEach(function(t){var n=t.to,o=t.attachment,s=t.pin;"undefined"==typeof o&&(o="");var u=void 0,h=void 0;if(o.indexOf(" ")>=0){var p=o.split(" "),m=d(p,2);h=m[0],u=m[1]}else u=h=o;var w=v(e,n);("target"===h||"both"===h)&&(i<w[1]&&"top"===b.top&&(i+=f,b.top="bottom"),i+l>w[3]&&"bottom"===b.top&&(i-=f,b.top="top")),"together"===h&&(i<w[1]&&"top"===b.top&&("bottom"===y.top?(i+=f,b.top="bottom",i+=l,y.top="top"):"top"===y.top&&(i+=f,b.top="bottom",i-=l,y.top="bottom")),i+l>w[3]&&"bottom"===b.top&&("top"===y.top?(i-=f,b.top="top",i-=l,y.top="bottom"):"bottom"===y.top&&(i-=f,b.top="top",i+=l,y.top="top")),"middle"===b.top&&(i+l>w[3]&&"top"===y.top?(i-=l,y.top="bottom"):i<w[1]&&"bottom"===y.top&&(i+=l,y.top="top"))),("target"===u||"both"===u)&&(r<w[0]&&"left"===b.left&&(r+=g,b.left="right"),r+c>w[2]&&"right"===b.left&&(r-=g,b.left="left")),"together"===u&&(r<w[0]&&"left"===b.left?"right"===y.left?(r+=g,b.left="right",r+=c,y.left="left"):"left"===y.left&&(r+=g,b.left="right",r-=c,y.left="right"):r+c>w[2]&&"right"===b.left?"left"===y.left?(r-=g,b.left="left",r-=c,y.left="right"):"right"===y.left&&(r-=g,b.left="left",r+=c,y.left="left"):"center"===b.left&&(r+c>w[2]&&"left"===y.left?(r-=c,y.left="right"):r<w[0]&&"right"===y.left&&(r+=c,y.left="left"))),("element"===h||"both"===h)&&(i<w[1]&&"bottom"===y.top&&(i+=l,y.top="top"),i+l>w[3]&&"top"===y.top&&(i-=l,y.top="bottom")),("element"===u||"both"===u)&&(r<w[0]&&"right"===y.left&&(r+=c,y.left="left"),r+c>w[2]&&"left"===y.left&&(r-=c,y.left="right")),"string"==typeof s?s=s.split(",").map(function(t){return t.trim()}):s===!0&&(s=["top","left","right","bottom"]),s=s||[];var k=[],x=[];i<w[1]&&(s.indexOf("top")>=0?(i=w[1],k.push("top")):x.push("top")),i+l>w[3]&&(s.indexOf("bottom")>=0?(i=w[3]-l,k.push("bottom")):x.push("bottom")),r<w[0]&&(s.indexOf("left")>=0?(r=w[0],k.push("left")):x.push("left")),r+c>w[2]&&(s.indexOf("right")>=0?(r=w[2]-c,k.push("right")):x.push("right")),k.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),_.push(t),k.forEach(function(e){_.push(""+t+"-"+e)})}(),x.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),_.push(t),x.forEach(function(e){_.push(""+t+"-"+e)})}(),(k.indexOf("left")>=0||k.indexOf("right")>=0)&&(y.left=b.left=!1),(k.indexOf("top")>=0||k.indexOf("bottom")>=0)&&(y.top=b.top=!1),(b.top!==a.top||b.left!==a.left||y.top!==e.attachment.top||y.left!==e.attachment.left)&&e.updateAttachClasses(y,b)}),S(function(){e.options.addTargetClasses!==!1&&h(e.target,_,m),h(e.element,_,m)}),{top:i,left:r}}});var E=b.Utils,n=E.getBounds,h=E.updateClasses,S=E.defer;return b.modules.push({position:function(t){var e=this,i=t.top,r=t.left,o=this.cache("element-bounds",function(){return n(e.element)}),a=o.height,s=o.width,l=this.getTargetBounds(),c=i+a,u=r+s,d=[];i<=l.bottom&&c>=l.top&&["left","right"].forEach(function(t){var e=l[t];(e===r||e===u)&&d.push(t)}),r<=l.right&&u>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];(e===i||e===c)&&d.push(t)});var p=[],f=[],g=["left","top","right","bottom"];return p.push(this.getClass("abutted")),g.forEach(function(t){p.push(""+e.getClass("abutted")+"-"+t)}),d.length&&f.push(this.getClass("abutted")),d.forEach(function(t){f.push(""+e.getClass("abutted")+"-"+t)}),S(function(){e.options.addTargetClasses!==!1&&h(e.target,f,p),h(e.element,f,p)}),!0}}),b.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){i=i.split(" "),i[1]=i[1]||i[0];var a=d(i,2);r=a[0],o=a[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return e+=r,n+=o,{top:e,left:n}}}}),L}),function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Shepherd=e(t.Tether)}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function i(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}function r(t,e){var n=void 0;return"undefined"!=typeof t.matches?n=t.matches:"undefined"!=typeof t.matchesSelector?n=t.matchesSelector:"undefined"!=typeof t.msMatchesSelector?n=t.msMatchesSelector:"undefined"!=typeof t.webkitMatchesSelector?n=t.webkitMatchesSelector:"undefined"!=typeof t.mozMatchesSelector?n=t.mozMatchesSelector:"undefined"!=typeof t.oMatchesSelector&&(n=t.oMatchesSelector),n.call(t,e)}function o(t,e){if(null===t||"undefined"==typeof t)return t;if("object"==typeof t)return t;var n=t.split(" "),i=n.length,r=e.length;i>r&&(n[0]=n.slice(0,i-r+1).join(" "),n.splice(1,r));for(var o={},a=0;r>a;++a){var s=e[a];o[s]=n[a]}return o}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;s=c=l=void 0,i=!1;var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0}},l=t.Utils,c=l.Evented,u=l.addClass,h=l.extend,d=l.hasClass,p=l.removeClass,f=l.uniqueId,g=new c,m={top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center"},v=function(l){function c(t,n){return e(this,c),s(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,t,n),this.tour=t,this.bindMethods(),this.setOptions(n),this}return n(c,l),a(c,[{key:"bindMethods",value:function(){var t=this,e=["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy"];e.map(function(e){t[e]=t[e].bind(t)})}},{key:"setOptions",value:function(){var t=void 0===arguments[0]?{}:arguments[0];this.options=t,this.destroy(),this.id=this.options.id||this.id||"step-"+f();var e=this.options.when;if(e)for(var n in e)if({}.hasOwnProperty.call(e,n)){var i=e[n];this.on(n,i,this)}this.options.buttons||(this.options.buttons=[{text:"Next",action:this.tour.next}])}},{key:"getTour",value:function(){return this.tour}},{key:"bindAdvance",value:function(){var t=this,e=o(this.options.advanceOn,["selector","event"]),n=e.event,i=e.selector,a=function(e){t.isOpen()&&("undefined"!=typeof i?r(e.target,i)&&t.tour.next():t.el&&e.target===t.el&&t.tour.next())};document.body.addEventListener(n,a),this.on("destroy",function(){return document.body.removeEventListener(n,a)})}},{key:"getAttachTo",value:function(){var t=o(this.options.attachTo,["element","on"])||{},e=t.element;if("string"==typeof e&&(t.element=document.querySelector(e),!t.element))throw new Error("The element for this Shepherd step was not found "+e);return t}},{key:"setupTether",value:function(){if("undefined"==typeof t)throw new Error("Using the attachment feature of Shepherd requires the Tether library");var e=this.getAttachTo(),n=m[e.on||"right"];"undefined"==typeof e.element&&(e.element="viewport",n="middle center");var i={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:e.element,offset:e.offset||"0 0",attachment:n};this.tether&&this.tether.destroy(),this.tether=new t(h(i,this.options.tetherOptions))}},{key:"show",value:function(){var t=this;if("undefined"!=typeof this.options.beforeShowPromise){var e=this.options.beforeShowPromise();if("undefined"!=typeof e)return e.then(function(){return t._show()})}this._show()}},{key:"_show",value:function(){var t=this;this.trigger("before-show"),this.el||this.render(),u(this.el,"shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout(function(){t.scrollTo()}),this.trigger("show")}},{key:"hide",value:function(){this.trigger("before-hide"),p(this.el,"shepherd-open"),document.body.removeAttribute("data-shepherd-step"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("hide")}},{key:"isOpen",value:function(){return d(this.el,"shepherd-open")}},{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function(){var t=this.getAttachTo(),e=t.element;"undefined"!=typeof this.options.scrollToHandler?this.options.scrollToHandler(e):"undefined"!=typeof e&&e.scrollIntoView()}},{key:"destroy",value:function(){"undefined"!=typeof this.el&&(document.body.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("destroy")}},{key:"render",value:function(){var t=this;"undefined"!=typeof this.el&&this.destroy(),this.el=i("<div class='shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var e=document.createElement("div");e.className="shepherd-content",this.el.appendChild(e);var n=document.createElement("header");if(e.appendChild(n),"undefined"!=typeof this.options.title&&(n.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink){var r=i("<a href class='shepherd-cancel-link'>\u2715</a>");n.appendChild(r),this.el.className+=" shepherd-has-cancel-link",this.bindCancelLink(r)}"undefined"!=typeof this.options.text&&!function(){var n=i("<div class='shepherd-text'></div>"),r=t.options.text;"function"==typeof r&&(r=r.call(t,n)),r instanceof HTMLElement?n.appendChild(r):("string"==typeof r&&(r=[r]),r.map(function(t){n.innerHTML+="<p>"+t+"</p>"})),e.appendChild(n)}();var o=document.createElement("footer");this.options.buttons&&!function(){var e=i("<ul class='shepherd-buttons'></ul>");t.options.buttons.map(function(n){var r=i("<li><a class='shepherd-button "+(n.classes||"")+"'>"+n.text+"</a>");e.appendChild(r),t.bindButtonEvents(n,r.querySelector("a"))}),o.appendChild(e)}(),e.appendChild(o),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function(t){var e=this;t.addEventListener("click",function(t){t.preventDefault(),e.cancel()})}},{key:"bindButtonEvents",value:function(t,e){var n=this;t.events=t.events||{},"undefined"!=typeof t.action&&(t.events.click=t.action);for(var i in t.events)if({}.hasOwnProperty.call(t.events,i)){var r=t.events[i];"string"==typeof r&&!function(){var t=r;r=function(){return n.tour.show(t)}}(),e.addEventListener(i,r)}this.on("destroy",function(){for(var n in t.events)if({}.hasOwnProperty.call(t.events,n)){var i=t.events[n];e.removeEventListener(n,i)}})}}]),c}(c),_=function(t){function i(){var t=this,n=void 0===arguments[0]?{}:arguments[0];e(this,i),s(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,n),this.bindMethods(),this.options=n,this.steps=this.options.steps||[];var r=["complete","cancel","hide","start","show","active","inactive"];return r.map(function(e){!function(e){t.on(e,function(n){n=n||{},n.tour=t,g.trigger(e,n)})}(e)}),this}return n(i,t),a(i,[{key:"bindMethods",value:function(){var t=this,e=["next","back","cancel","complete","hide"];e.map(function(e){t[e]=t[e].bind(t)})}},{key:"addStep",value:function(t,e){return"undefined"==typeof e&&(e=t),e instanceof v?e.tour=this:(("string"==typeof t||"number"==typeof t)&&(e.id=t.toString()),e=h({},this.options.defaults,e),e=new v(this,e)),this.steps.push(e),this}},{key:"getById",value:function(t){for(var e=0;e<this.steps.length;++e){var n=this.steps[e];if(n.id===t)return n}}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"next",value:function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?(this.hide(t),this.trigger("complete"),this.done()):this.show(t+1)}},{key:"back",value:function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1)}},{key:"cancel",value:function(){"undefined"!=typeof this.currentStep&&this.currentStep.hide(),this.trigger("cancel"),this.done()}},{key:"complete",value:function(){"undefined"!=typeof this.currentStep&&this.currentStep.hide(),this.trigger("complete"),this.done()}},{key:"hide",value:function(){"undefined"!=typeof this.currentStep&&this.currentStep.hide(),this.trigger("hide"),this.done()}},{key:"done",value:function(){g.activeTour=null,p(document.body,"shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function(){var t=void 0===arguments[0]?0:arguments[0];this.currentStep?this.currentStep.hide():(u(document.body,"shepherd-active"),this.trigger("active",{tour:this})),g.activeTour=this;var e=void 0;e="string"==typeof t?this.getById(t):this.steps[t],e&&(this.trigger("show",{step:e,previous:this.currentStep}),this.currentStep=e,e.show())}},{key:"start",value:function(){this.trigger("start"),this.currentStep=null,this.next()}}]),i}(c);return h(g,{Tour:_,Step:v,Evented:c}),g}),/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
!function(t){var e=navigator.userAgent;t.HTMLPictureElement&&/ecko/.test(e)&&e.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var e,n=document.createElement("source"),i=function(t){var e,i,r=t.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(e=n.cloneNode(),r.insertBefore(e,r.firstElementChild),setTimeout(function(){r.removeChild(e)})):(!t._pfLastSize||t.offsetWidth>t._pfLastSize)&&(t._pfLastSize=t.offsetWidth,i=t.sizes,t.sizes+=",100vw",setTimeout(function(){t.sizes=i}))},r=function(){var t,e=document.querySelectorAll("picture > img, img[srcset][sizes]");for(t=0;t<e.length;t++)i(e[t])},o=function(){clearTimeout(e),e=setTimeout(r,99)},a=t.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){o(),a&&a.addListener&&a.addListener(o)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),o}())}(window),function(t,e,n){"use strict";function i(t){return" "===t||"  "===t||"\n"===t||"\f"===t||"\r"===t}function r(e,n){var i=new t.Image;return i.onerror=function(){T[e]=!1,ee()},i.onload=function(){T[e]=1===i.width,ee()},i.src=n,"pending"}function o(){F=!1,z=t.devicePixelRatio,L={},B={},_.DPR=z||1,U.width=Math.max(t.innerWidth||0,C.clientWidth),U.height=Math.max(t.innerHeight||0,C.clientHeight),U.vw=U.width/100,U.vh=U.height/100,v=[U.height,U.width,z].join("-"),U.em=_.getEmValue(),U.rem=U.em}function a(t,e,n,i){var r,o,a,s;return"saveData"===E.algorithm?t>2.7?s=n+1:(o=e-n,r=Math.pow(t-.6,1.5),a=o*r,i&&(a+=.1*r),s=t+a):s=n>1?Math.sqrt(t*e):t,s>n}function s(t){var e,n=_.getSet(t),i=!1;"pending"!==n&&(i=v,n&&(e=_.setRes(n),_.applySetCandidate(e,t))),t[_.ns].evaled=i}function l(t,e){return t.res-e.res}function c(t,e,n){var i;return!n&&e&&(n=t[_.ns].sets,n=n&&n[n.length-1]),i=u(e,n),i&&(e=_.makeUrl(e),t[_.ns].curSrc=e,t[_.ns].curCan=i,i.res||te(i,i.set.sizes)),i}function u(t,e){var n,i,r;if(t&&e)for(r=_.parseSet(e),t=_.makeUrl(t),n=0;n<r.length;n++)if(t===_.makeUrl(r[n].url)){i=r[n];break}return i}function h(t,e){var n,i,r,o,a=t.getElementsByTagName("source");for(n=0,i=a.length;i>n;n++)r=a[n],r[_.ns]=!0,o=r.getAttribute("srcset"),o&&e.push({srcset:o,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}function d(t,e){function n(e){var n,i=e.exec(t.substring(d));return i?(n=i[0],d+=n.length,n):void 0}function r(){var t,n,i,r,o,l,c,u,h,d=!1,f={};for(r=0;r<s.length;r++)o=s[r],l=o[o.length-1],c=o.substring(0,o.length-1),u=parseInt(c,10),h=parseFloat(c),Y.test(c)&&"w"===l?((t||n)&&(d=!0),0===u?d=!0:t=u):G.test(c)&&"x"===l?((t||n||i)&&(d=!0),0>h?d=!0:n=h):Y.test(c)&&"h"===l?((i||n)&&(d=!0),0===u?d=!0:i=u):d=!0;d||(f.url=a,t&&(f.w=t),n&&(f.d=n),i&&(f.h=i),i||n||t||(f.d=1),1===f.d&&(e.has1x=!0),f.set=e,p.push(f))}function o(){for(n(q),l="",c="in descriptor";;){if(u=t.charAt(d),"in descriptor"===c)if(i(u))l&&(s.push(l),l="",c="after descriptor");else{if(","===u)return d+=1,l&&s.push(l),void r();if("("===u)l+=u,c="in parens";else{if(""===u)return l&&s.push(l),void r();l+=u}}else if("in parens"===c)if(")"===u)l+=u,c="in descriptor";else{if(""===u)return s.push(l),void r();l+=u}else if("after descriptor"===c)if(i(u));else{if(""===u)return void r();c="in descriptor",d-=1}d+=1}}for(var a,s,l,c,u,h=t.length,d=0,p=[];;){if(n(V),d>=h)return p;a=n(Q),s=[],","===a.slice(-1)?(a=a.replace(K,""),r()):o()}}function p(t){function e(t){function e(){o&&(a.push(o),o="")}function n(){a[0]&&(s.push(a),a=[])}for(var r,o="",a=[],s=[],l=0,c=0,u=!1;;){if(r=t.charAt(c),""===r)return e(),n(),s;if(u){if("*"===r&&"/"===t[c+1]){u=!1,c+=2,e();continue}c+=1}else{if(i(r)){if(t.charAt(c-1)&&i(t.charAt(c-1))||!o){c+=1;continue}if(0===l){e(),c+=1;continue}r=" "}else if("("===r)l+=1;else if(")"===r)l-=1;else{if(","===r){e(),n(),c+=1;continue}if("/"===r&&"*"===t.charAt(c+1)){u=!0,c+=2;continue}}o+=r,c+=1}}}function n(t){return u.test(t)&&parseFloat(t)>=0?!0:h.test(t)?!0:"0"===t||"-0"===t||"+0"===t?!0:!1}var r,o,a,s,l,c,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,h=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(o=e(t),a=o.length,r=0;a>r;r++)if(s=o[r],l=s[s.length-1],n(l)){if(c=l,s.pop(),0===s.length)return c;if(s=s.join(" "),_.matchesMedia(s))return c}return"100vw"}e.createElement("picture");var f,g,m,v,_={},b=!1,y=function(){},w=e.createElement("img"),k=w.getAttribute,x=w.setAttribute,S=w.removeAttribute,C=e.documentElement,T={},E={algorithm:""},D="data-pfsrc",I=D+"set",P=navigator.userAgent,A=/rident/.test(P)||/ecko/.test(P)&&P.match(/rv\:(\d+)/)&&RegExp.$1>35,j="currentSrc",O=/\s+\+?\d+(e\d+)?w/,$=/(\([^)]+\))?\s*(.+)/,R=t.picturefillCFG,M="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",N="font-size:100%!important;",F=!0,L={},B={},z=t.devicePixelRatio,U={px:1,"in":96},H=e.createElement("a"),W=!1,q=/^[ \t\n\r\u000c]+/,V=/^[, \t\n\r\u000c]+/,Q=/^[^ \t\n\r\u000c]+/,K=/[,]+$/,Y=/^\d+$/,G=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,J=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},X=function(t){var e={};return function(n){return n in e||(e[n]=t(n)),e[n]}},Z=function(){var t=/^([\d\.]+)(em|vw|px)$/,e=function(){for(var t=arguments,e=0,n=t[0];++e in t;)n=n.replace(t[e],t[++e]);return n},n=X(function(t){return"return "+e((t||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(e,i){var r;if(!(e in L))if(L[e]=!1,i&&(r=e.match(t)))L[e]=r[1]*U[r[2]];else try{L[e]=new Function("e",n(e))(U)}catch(o){}return L[e]}}(),te=function(t,e){return t.w?(t.cWidth=_.calcListLength(e||"100vw"),t.res=t.w/t.cWidth):t.res=t.d,t},ee=function(t){if(b){var n,i,r,o=t||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),n=o.elements||_.qsa(o.context||e,o.reevaluate||o.reselect?_.sel:_.selShort),r=n.length){for(_.setupRun(o),W=!0,i=0;r>i;i++)_.fillImg(n[i],o);_.teardownRun(o)}}};f=t.console&&console.warn?function(t){console.warn(t)}:y,j in w||(j="src"),T["image/jpeg"]=!0,T["image/gif"]=!0,T["image/png"]=!0,T["image/svg+xml"]=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),_.ns=("pf"+(new Date).getTime()).substr(0,9),_.supSrcset="srcset"in w,_.supSizes="sizes"in w,_.supPicture=!!t.HTMLPictureElement,_.supSrcset&&_.supPicture&&!_.supSizes&&!function(t){w.srcset="data:,a",t.src="data:,a",_.supSrcset=w.complete===t.complete,_.supPicture=_.supSrcset&&_.supPicture}(e.createElement("img")),_.supSrcset&&!_.supSizes?!function(){var t="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",n="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i=e.createElement("img"),r=function(){var t=i.width;2===t&&(_.supSizes=!0),m=_.supSrcset&&!_.supSizes,b=!0,setTimeout(ee)};i.onload=r,i.onerror=r,i.setAttribute("sizes","9px"),i.srcset=n+" 1w,"+t+" 9w",i.src=n}():b=!0,_.selShort="picture>img,img[srcset]",_.sel=_.selShort,_.cfg=E,_.DPR=z||1,_.u=U,_.types=T,_.setSize=y,_.makeUrl=X(function(t){return H.href=t,H.href}),_.qsa=function(t,e){return"querySelector"in t?t.querySelectorAll(e):[]},_.matchesMedia=function(){return _.matchesMedia=t.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?function(t){return!t||matchMedia(t).matches}:_.mMQ,_.matchesMedia.apply(this,arguments)},_.mMQ=function(t){return t?Z(t):!0},_.calcLength=function(t){var e=Z(t,!0)||!1;return 0>e&&(e=!1),e},_.supportsType=function(t){return t?T[t]:!0},_.parseSize=X(function(t){var e=(t||"").match($);return{media:e&&e[1],length:e&&e[2]}}),_.parseSet=function(t){return t.cands||(t.cands=d(t.srcset,t)),t.cands},_.getEmValue=function(){var t;if(!g&&(t=e.body)){var n=e.createElement("div"),i=C.style.cssText,r=t.style.cssText;n.style.cssText=M,C.style.cssText=N,t.style.cssText=N,t.appendChild(n),g=n.offsetWidth,t.removeChild(n),g=parseFloat(g,10),C.style.cssText=i,t.style.cssText=r}return g||16},_.calcListLength=function(t){if(!(t in B)||E.uT){var e=_.calcLength(p(t));B[t]=e?e:U.width}return B[t]},_.setRes=function(t){var e;if(t){e=_.parseSet(t);for(var n=0,i=e.length;i>n;n++)te(e[n],t.sizes)}return e},_.setRes.res=te,_.applySetCandidate=function(t,e){if(t.length){var n,i,r,o,s,u,h,d,p,f=e[_.ns],g=_.DPR;if(u=f.curSrc||e[j],h=f.curCan||c(e,u,t[0].set),h&&h.set===t[0].set&&(p=A&&!e.complete&&h.res-.1>g,p||(h.cached=!0,h.res>=g&&(s=h))),!s)for(t.sort(l),o=t.length,s=t[o-1],i=0;o>i;i++)if(n=t[i],n.res>=g){r=i-1,s=t[r]&&(p||u!==_.makeUrl(n.url))&&a(t[r].res,n.res,g,t[r].cached)?t[r]:n;break}s&&(d=_.makeUrl(s.url),f.curSrc=d,f.curCan=s,d!==u&&_.setSrc(e,s),_.setSize(e))}},_.setSrc=function(t,e){var n;t.src=e.url,"image/svg+xml"===e.set.type&&(n=t.style.width,t.style.width=t.offsetWidth+1+"px",t.offsetWidth+1&&(t.style.width=n))},_.getSet=function(t){var e,n,i,r=!1,o=t[_.ns].sets;for(e=0;e<o.length&&!r;e++)if(n=o[e],n.srcset&&_.matchesMedia(n.media)&&(i=_.supportsType(n.type))){"pending"===i&&(n=i),r=n;break}return r},_.parseSets=function(t,e,i){var r,o,a,s,l=e&&"PICTURE"===e.nodeName.toUpperCase(),c=t[_.ns];(c.src===n||i.src)&&(c.src=k.call(t,"src"),c.src?x.call(t,D,c.src):S.call(t,D)),(c.srcset===n||i.srcset||!_.supSrcset||t.srcset)&&(r=k.call(t,"srcset"),c.srcset=r,s=!0),c.sets=[],l&&(c.pic=!0,h(e,c.sets)),c.srcset?(o={srcset:c.srcset,sizes:k.call(t,"sizes")},c.sets.push(o),a=(m||c.src)&&O.test(c.srcset||""),a||!c.src||u(c.src,o)||o.has1x||(o.srcset+=", "+c.src,o.cands.push({url:c.src,d:1,set:o}))):c.src&&c.sets.push({srcset:c.src,sizes:null}),c.curCan=null,c.curSrc=n,c.supported=!(l||o&&!_.supSrcset||a&&!_.supSizes),s&&_.supSrcset&&!c.supported&&(r?(x.call(t,I,r),t.srcset=""):S.call(t,I)),c.supported&&!c.srcset&&(!c.src&&t.src||t.src!==_.makeUrl(c.src))&&(null===c.src?t.removeAttribute("src"):t.src=c.src),c.parsed=!0},_.fillImg=function(t,e){var n,i=e.reselect||e.reevaluate;t[_.ns]||(t[_.ns]={}),n=t[_.ns],(i||n.evaled!==v)&&((!n.parsed||e.reevaluate)&&_.parseSets(t,t.parentNode,e),n.supported?n.evaled=v:s(t))},_.setupRun=function(){(!W||F||z!==t.devicePixelRatio)&&o()},_.supPicture?(ee=y,_.fillImg=y):!function(){var n,i=t.attachEvent?/d$|^c/:/d$|^c|^i/,r=function(){var t=e.readyState||"";o=setTimeout(r,"loading"===t?200:999),e.body&&(_.fillImgs(),n=n||i.test(t),n&&clearTimeout(o))},o=setTimeout(r,e.body?9:99),a=function(t,e){var n,i,r=function(){var o=new Date-i;e>o?n=setTimeout(r,e-o):(n=null,t())};return function(){i=new Date,n||(n=setTimeout(r,e))}},s=C.clientHeight,l=function(){F=Math.max(t.innerWidth||0,C.clientWidth)!==U.width||C.clientHeight!==s,s=C.clientHeight,F&&_.fillImgs()};J(t,"resize",a(l,99)),J(e,"readystatechange",r)}(),_.picturefill=ee,_.fillImgs=ee,_.teardownRun=y,ee._=_,t.picturefillCFG={pf:_,push:function(t){var e=t.shift();"function"==typeof _[e]?_[e].apply(_,t):(E[e]=t[0],W&&_.fillImgs({reselect:!0}))}};for(;R&&R.length;)t.picturefillCFG.push(R.shift());t.picturefill=ee,"object"==typeof module&&"object"==typeof module.exports?module.exports=ee:"function"==typeof define&&define.amd&&define("picturefill",function(){return ee}),_.supPicture||(T["image/webp"]=r("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),function(t){"function"==typeof define&&define.amd?define("picker",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):this.Picker=t(jQuery)}(function(t){function e(o,a,l,d){function p(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",E.component.nodes(k.open),S.box),S.wrap),S.frame),S.holder,'tabindex="-1"')}function f(){C.data(a,E).addClass(S.input).val(C.data("value")?E.get("select",x.format):o.value),x.editable||C.on("focus."+k.id+" click."+k.id,function(t){t.preventDefault(),E.open()}).on("keydown."+k.id,y),r(o,{haspopup:!0,expanded:!1,readonly:!1,owns:o.id+"_root"})}function g(){r(E.$root[0],"hidden",!0)}function m(){E.$holder.on({keydown:y,"focus.toOpen":b,blur:function(){C.removeClass(S.target)},focusin:function(t){E.$root.removeClass(S.focused),t.stopPropagation()},"mousedown click":function(e){var n=e.target;n!=E.$holder[0]&&(e.stopPropagation(),"mousedown"!=e.type||t(n).is("input, select, textarea, button, option")||(e.preventDefault(),E.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=t(this),n=e.data(),i=e.hasClass(S.navDisabled)||e.hasClass(S.disabled),r=s();r=r&&(r.type||r.href),(i||r&&!t.contains(E.$root[0],r))&&E.$holder[0].focus(),!i&&n.nav?E.set("highlight",E.component.item.highlight,{nav:n.nav}):!i&&"pick"in n?(E.set("select",n.pick),x.closeOnSelect&&E.close(!0)):n.clear?(E.clear(),x.closeOnClear&&E.close(!0)):n.close&&E.close(!0)})}function v(){var e;x.hiddenName===!0?(e=o.name,o.name=""):(e=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],e=e[0]+o.name+e[1]),E._hidden=t('<input type=hidden name="'+e+'"'+(C.data("value")||o.value?' value="'+E.get("select",x.formatSubmit)+'"':"")+">")[0],C.on("change."+k.id,function(){E._hidden.value=o.value?E.get("select",x.formatSubmit):""})}function _(){w&&h?E.$holder.find("."+S.frame).one("transitionend",function(){E.$holder[0].focus()}):E.$holder[0].focus()}function b(t){t.stopPropagation(),C.addClass(S.target),E.$root.addClass(S.focused),E.open()}function y(t){var e=t.keyCode,n=/^(8|46)$/.test(e);return 27==e?(E.close(!0),!1):void((32==e||n||!k.open&&E.component.key[e])&&(t.preventDefault(),t.stopPropagation(),n?E.clear().close():E.open()))}if(!o)return e;var w=!1,k={id:o.id||"P"+Math.abs(~~(Math.random()*new Date))},x=l?t.extend(!0,{},l.defaults,d):d||{},S=t.extend({},e.klasses(),x.klass),C=t(o),T=function(){return this.start()},E=T.prototype={constructor:T,$node:C,start:function(){return k&&k.start?E:(k.methods={},k.start=!0,k.open=!1,k.type=o.type,o.autofocus=o==s(),o.readOnly=!x.editable,o.id=o.id||k.id,"text"!=o.type&&(o.type="text"),E.component=new l(E,x),E.$root=t('<div class="'+S.picker+'" id="'+o.id+'_root" />'),g(),E.$holder=t(p()).appendTo(E.$root),m(),x.formatSubmit&&v(),f(),x.containerHidden?t(x.containerHidden).append(E._hidden):C.after(E._hidden),x.container?t(x.container).append(E.$root):C.after(E.$root),E.on({start:E.component.onStart,render:E.component.onRender,stop:E.component.onStop,open:E.component.onOpen,close:E.component.onClose,set:E.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),w=n(E.$holder[0]),o.autofocus&&E.open(),E.trigger("start").trigger("render"))},render:function(e){return e?(E.$holder=t(p()),m(),E.$root.html(E.$holder)):E.$root.find("."+S.box).html(E.component.nodes(k.open)),E.trigger("render")},stop:function(){return k.start?(E.close(),E._hidden&&E._hidden.parentNode.removeChild(E._hidden),E.$root.remove(),C.removeClass(S.input).removeData(a),setTimeout(function(){C.off("."+k.id)},0),o.type=k.type,o.readOnly=!1,E.trigger("stop"),k.methods={},k.start=!1,E):E},open:function(n){return k.open?E:(C.addClass(S.active),r(o,"expanded",!0),setTimeout(function(){E.$root.addClass(S.opened),r(E.$root[0],"hidden",!1)},0),n!==!1&&(k.open=!0,w&&u.css("overflow","hidden").css("padding-right","+="+i()),_(),c.on("click."+k.id+" focusin."+k.id,function(t){var e=t.target;e!=o&&e!=document&&3!=t.which&&E.close(e===E.$holder[0])}).on("keydown."+k.id,function(n){var i=n.keyCode,r=E.component.key[i],o=n.target;27==i?E.close(!0):o!=E.$holder[0]||!r&&13!=i?t.contains(E.$root[0],o)&&13==i&&(n.preventDefault(),o.click()):(n.preventDefault(),r?e._.trigger(E.component.key.go,E,[e._.trigger(r)]):E.$root.find("."+S.highlighted).hasClass(S.disabled)||(E.set("select",E.component.item.highlight),x.closeOnSelect&&E.close(!0)))})),E.trigger("open"))},close:function(t){return t&&(x.editable?o.focus():(E.$holder.off("focus.toOpen").focus(),setTimeout(function(){E.$holder.on("focus.toOpen",b)},0))),C.removeClass(S.active),r(o,"expanded",!1),setTimeout(function(){E.$root.removeClass(S.opened+" "+S.focused),r(E.$root[0],"hidden",!0)},0),k.open?(k.open=!1,w&&u.css("overflow","").css("padding-right","-="+i()),c.off("."+k.id),E.trigger("close")):E},clear:function(t){return E.set("clear",null,t)},set:function(e,n,i){var r,o,a=t.isPlainObject(e),s=a?e:{};if(i=a&&t.isPlainObject(n)?n:i||{},e){a||(s[e]=n);for(r in s)o=s[r],r in E.component.item&&(void 0===o&&(o=null),E.component.set(r,o,i)),("select"==r||"clear"==r)&&C.val("clear"==r?"":E.get(r,x.format)).trigger("change");E.render()}return i.muted?E:E.trigger("set",s)},get:function(t,n){if(t=t||"value",null!=k[t])return k[t];if("valueSubmit"==t){if(E._hidden)return E._hidden.value;t="value"}if("value"==t)return o.value;if(t in E.component.item){if("string"==typeof n){var i=E.component.get(t);return i?e._.trigger(E.component.formats.toString,E.component,[n,i]):""}return E.component.get(t)}},on:function(e,n,i){var r,o,a=t.isPlainObject(e),s=a?e:{};if(e){a||(s[e]=n);for(r in s)o=s[r],i&&(r="_"+r),k.methods[r]=k.methods[r]||[],k.methods[r].push(o)}return E},off:function(){var t,e,n=arguments;for(t=0,namesCount=n.length;namesCount>t;t+=1)e=n[t],e in k.methods&&delete k.methods[e];return E},trigger:function(t,n){var i=function(t){var i=k.methods[t];i&&i.map(function(t){e._.trigger(t,E,[n])})};return i("_"+t),i(t),E}};return new T}function n(t){var e,n="position";return t.currentStyle?e=t.currentStyle[n]:window.getComputedStyle&&(e=getComputedStyle(t)[n]),"fixed"==e}function i(){if(u.height()<=l.height())return 0;var e=t('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=e[0].offsetWidth;e.css("overflow","scroll");var i=t('<div style="width:100%" />').appendTo(e),r=i[0].offsetWidth;return e.remove(),n-r}function r(e,n,i){if(t.isPlainObject(n))for(var r in n)o(e,r,n[r]);else o(e,n,i)}function o(t,e,n){t.setAttribute(("role"==e?"":"aria-")+e,n)}function a(e,n){t.isPlainObject(e)||(e={attribute:n}),n="";for(var i in e){var r=("role"==i?"":"aria-")+i,o=e[i];n+=null==o?"":r+'="'+e[i]+'"'}return n}function s(){try{return document.activeElement}catch(t){}}var l=t(window),c=t(document),u=t(document.documentElement),h=null!=document.documentElement.style.transition;return e.klasses=function(t){return t=t||"picker",{picker:t,opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",target:t+"__input--target",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},e._={group:function(t){for(var n,i="",r=e._.trigger(t.min,t);r<=e._.trigger(t.max,t,[r]);r+=t.i)n=e._.trigger(t.item,t,[r]),i+=e._.node(t.node,n[0],n[1],n[2]);return i},node:function(e,n,i,r){return n?(n=t.isArray(n)?n.join(""):n,i=i?' class="'+i+'"':"",r=r?" "+r:"","<"+e+i+r+">"+n+"</"+e+">"):""},lead:function(t){return(10>t?"0":"")+t},trigger:function(t,e,n){return"function"==typeof t?t.apply(e,n||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return{}.toString.call(t).indexOf("Date")>-1&&this.isInteger(t.getDate())},isInteger:function(t){return{}.toString.call(t).indexOf("Number")>-1&&t%1===0},ariaAttr:a},e.extend=function(n,i){t.fn[n]=function(r,o){var a=this.data(n);return"picker"==r?a:a&&"string"==typeof r?e._.trigger(a[r],a,[o]):this.each(function(){var o=t(this);o.data(n)||new e(this,n,i,r)})},t.fn[n].defaults=i.defaults},e}),[].map||(Array.prototype.map=function(t,e){for(var n=this,i=n.length,r=new Array(i),o=0;i>o;o++)o in n&&(r[o]=t.call(e,n[o],o,n));return r}),[].filter||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],r=arguments[1],o=0;n>o;o++)if(o in e){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i}),[].indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!==i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1});/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * http://blog.stevenlevithan.com/archives/cross-browser-split
 */
var nativeSplit=String.prototype.split,compliantExecNpcg=void 0===/()??/.exec("")[1];String.prototype.split=function(t,e){var n=this;if("[object RegExp]"!==Object.prototype.toString.call(t))return nativeSplit.call(n,t,e);var i,r,o,a,s=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),c=0;for(t=new RegExp(t.source,l+"g"),n+="",compliantExecNpcg||(i=new RegExp("^"+t.source+"$(?!\\s)",l)),e=void 0===e?-1>>>0:e>>>0;(r=t.exec(n))&&(o=r.index+r[0].length,!(o>c&&(s.push(n.slice(c,r.index)),!compliantExecNpcg&&r.length>1&&r[0].replace(i,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(r[t]=void 0)}),r.length>1&&r.index<n.length&&Array.prototype.push.apply(s,r.slice(1)),a=r[0].length,c=o,s.length>=e)));)t.lastIndex===r.index&&t.lastIndex++;return c===n.length?(a||!t.test(""))&&s.push(""):s.push(n.slice(c)),s.length>e?s.slice(0,e):s},function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof exports?module.exports=t(require("./picker.js"),require("jquery")):t(Picker,jQuery)}(function(t,e){function n(t,e){var n=this,i=t.$node[0],r=i.value,o=t.$node.data("value"),a=o||r,s=o?e.formatSubmit:e.format,l=function(){return i.currentStyle?"rtl"==i.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction};n.settings=e,n.$node=t.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(e.disable||[]).slice(0),n.item.enable=-function(t){return t[0]===!0?t.shift():-1}(n.item.disable),n.set("min",e.min).set("max",e.max).set("now"),a?n.set("select",a,{format:s,defaultValue:!0}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(t){var e=n.item.highlight,i=new Date(e.year,e.month,e.date+t);n.set("highlight",i,{interval:t}),this.render()}},t.on("render",function(){t.$root.find("."+e.klass.selectMonth).on("change",function(){var n=this.value;n&&(t.set("highlight",[t.get("view").year,n,t.get("highlight").date]),t.$root.find("."+e.klass.selectMonth).trigger("focus"))}),t.$root.find("."+e.klass.selectYear).on("change",function(){var n=this.value;n&&(t.set("highlight",[n,t.get("view").month,t.get("highlight").date]),t.$root.find("."+e.klass.selectYear).trigger("focus"))})},1).on("open",function(){var i="";n.disabled(n.get("now"))&&(i=":not(."+e.klass.buttonToday+")"),t.$root.find("button"+i+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}var i=7,r=6,o=t._;n.prototype.set=function(t,e,n){var i=this,r=i.item;return null===e?("clear"==t&&(t="select"),r[t]=e,i):(r["enable"==t?"disable":"flip"==t?"enable":t]=i.queue[t].split(" ").map(function(r){return e=i[r](t,e,n)}).pop(),"select"==t?i.set("highlight",r.select,n):"highlight"==t?i.set("view",r.highlight,n):t.match(/^(flip|min|max|disable|enable)$/)&&(r.select&&i.disabled(r.select)&&i.set("select",r.select,n),r.highlight&&i.disabled(r.highlight)&&i.set("highlight",r.highlight,n)),i)},n.prototype.get=function(t){return this.item[t]},n.prototype.create=function(t,n,i){var r,a=this;return n=void 0===n?t:n,n==-1/0||1/0==n?r=n:e.isPlainObject(n)&&o.isInteger(n.pick)?n=n.obj:e.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=o.isDate(n)?n:a.create().obj):n=o.isInteger(n)||o.isDate(n)?a.normalize(new Date(n),i):a.now(t,n,i),{year:r||n.getFullYear(),month:r||n.getMonth(),date:r||n.getDate(),day:r||n.getDay(),obj:r||n,pick:r||n.getTime()}},n.prototype.createRange=function(t,n){var i=this,r=function(t){return t===!0||e.isArray(t)||o.isDate(t)?i.create(t):t};return o.isInteger(t)||(t=r(t)),o.isInteger(n)||(n=r(n)),o.isInteger(t)&&e.isPlainObject(n)?t=[n.year,n.month,n.date+t]:o.isInteger(n)&&e.isPlainObject(t)&&(n=[t.year,t.month,t.date+n]),{from:r(t),to:r(n)}},n.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},n.prototype.overlapRanges=function(t,e){var n=this;return t=n.createRange(t.from,t.to),e=n.createRange(e.from,e.to),n.withinRange(t,e.from)||n.withinRange(t,e.to)||n.withinRange(e,t.from)||n.withinRange(e,t.to)},n.prototype.now=function(t,e,n){return e=new Date,n&&n.rel&&e.setDate(e.getDate()+n.rel),this.normalize(e,n)},n.prototype.navigate=function(t,n,i){var r,o,a,s,l=e.isArray(n),c=e.isPlainObject(n),u=this.item.view;if(l||c){for(c?(o=n.year,a=n.month,s=n.date):(o=+n[0],a=+n[1],s=+n[2]),i&&i.nav&&u&&u.month!==a&&(o=u.year,a=u.month),r=new Date(o,a+(i&&i.nav?i.nav:0),1),o=r.getFullYear(),a=r.getMonth();new Date(o,a,s).getMonth()!==a;)s-=1;n=[o,a,s]}return n},n.prototype.normalize=function(t){return t.setHours(0,0,0,0),t},n.prototype.measure=function(t,e){var n=this;return e?"string"==typeof e?e=n.parse(t,e):o.isInteger(e)&&(e=n.now(t,e,{rel:e})):e="min"==t?-1/0:1/0,e},n.prototype.viewset=function(t,e){return this.create([e.year,e.month,1])},n.prototype.validate=function(t,n,i){var r,a,s,l,c=this,u=n,h=i&&i.interval?i.interval:1,d=-1===c.item.enable,p=c.item.min,f=c.item.max,g=d&&c.item.disable.filter(function(t){if(e.isArray(t)){var i=c.create(t).pick;i<n.pick?r=!0:i>n.pick&&(a=!0)}return o.isInteger(t)}).length;if((!i||!i.nav&&!i.defaultValue)&&(!d&&c.disabled(n)||d&&c.disabled(n)&&(g||r||a)||!d&&(n.pick<=p.pick||n.pick>=f.pick)))for(d&&!g&&(!a&&h>0||!r&&0>h)&&(h*=-1);c.disabled(n)&&(Math.abs(h)>1&&(n.month<u.month||n.month>u.month)&&(n=u,h=h>0?1:-1),n.pick<=p.pick?(s=!0,h=1,n=c.create([p.year,p.month,p.date+(n.pick===p.pick?0:-1)])):n.pick>=f.pick&&(l=!0,h=-1,n=c.create([f.year,f.month,f.date+(n.pick===f.pick?0:1)])),!s||!l);)n=c.create([n.year,n.month,n.date+h]);return n},n.prototype.disabled=function(t){var n=this,i=n.item.disable.filter(function(i){return o.isInteger(i)?t.day===(n.settings.firstDay?i:i-1)%7:e.isArray(i)||o.isDate(i)?t.pick===n.create(i).pick:e.isPlainObject(i)?n.withinRange(i,t):void 0});return i=i.length&&!i.filter(function(t){return e.isArray(t)&&"inverted"==t[3]||e.isPlainObject(t)&&t.inverted}).length,-1===n.item.enable?!i:i||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.parse=function(t,e,n){var i=this,r={};return e&&"string"==typeof e?(n&&n.format||(n=n||{},n.format=i.settings.format),i.formats.toArray(n.format).map(function(t){var n=i.formats[t],a=n?o.trigger(n,i,[e,r]):t.replace(/^!/,"").length;n&&(r[t]=e.substr(0,a)),e=e.substr(a)}),[r.yyyy||r.yy,+(r.mm||r.m)-1,r.dd||r.d]):e},n.prototype.formats=function(){function t(t,e,n){var i=t.match(/[^\x00-\x7F]+|\w+/)[0];return n.mm||n.m||(n.m=e.indexOf(i)+1),i.length}function e(t){return t.match(/\w+/)[0].length}return{d:function(t,e){return t?o.digits(t):e.date},dd:function(t,e){return t?2:o.lead(e.date)},ddd:function(t,n){return t?e(t):this.settings.weekdaysShort[n.day]},dddd:function(t,n){return t?e(t):this.settings.weekdaysFull[n.day]},m:function(t,e){return t?o.digits(t):e.month+1},mm:function(t,e){return t?2:o.lead(e.month+1)},mmm:function(e,n){var i=this.settings.monthsShort;return e?t(e,i,n):i[n.month]},mmmm:function(e,n){var i=this.settings.monthsFull;return e?t(e,i,n):i[n.month]},yy:function(t,e){return t?2:(""+e.year).slice(2)},yyyy:function(t,e){return t?4:e.year},toArray:function(t){return t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(t,e){var n=this;return n.formats.toArray(t).map(function(t){return o.trigger(n.formats[t],n,[0,e])||t.replace(/^!/,"")}).join("")}}}(),n.prototype.isDateExact=function(t,n){var i=this;return o.isInteger(t)&&o.isInteger(n)||"boolean"==typeof t&&"boolean"==typeof n?t===n:(o.isDate(t)||e.isArray(t))&&(o.isDate(n)||e.isArray(n))?i.create(t).pick===i.create(n).pick:e.isPlainObject(t)&&e.isPlainObject(n)?i.isDateExact(t.from,n.from)&&i.isDateExact(t.to,n.to):!1},n.prototype.isDateOverlap=function(t,n){var i=this,r=i.settings.firstDay?1:0;return o.isInteger(t)&&(o.isDate(n)||e.isArray(n))?(t=t%7+r,t===i.create(n).day+1):o.isInteger(n)&&(o.isDate(t)||e.isArray(t))?(n=n%7+r,n===i.create(t).day+1):e.isPlainObject(t)&&e.isPlainObject(n)?i.overlapRanges(t,n):!1},n.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(-1==e.enable?1:-1)},n.prototype.deactivate=function(t,n){var i=this,r=i.item.disable.slice(0);return"flip"==n?i.flipEnable():n===!1?(i.flipEnable(1),r=[]):n===!0?(i.flipEnable(-1),r=[]):n.map(function(t){for(var n,a=0;a<r.length;a+=1)if(i.isDateExact(t,r[a])){n=!0;break}n||(o.isInteger(t)||o.isDate(t)||e.isArray(t)||e.isPlainObject(t)&&t.from&&t.to)&&r.push(t)}),r},n.prototype.activate=function(t,n){var i=this,r=i.item.disable,a=r.length;return"flip"==n?i.flipEnable():n===!0?(i.flipEnable(1),r=[]):n===!1?(i.flipEnable(-1),r=[]):n.map(function(t){var n,s,l,c;for(l=0;a>l;l+=1){if(s=r[l],i.isDateExact(s,t)){n=r[l]=null,c=!0;break}if(i.isDateOverlap(s,t)){e.isPlainObject(t)?(t.inverted=!0,n=t):e.isArray(t)?(n=t,n[3]||n.push("inverted")):o.isDate(t)&&(n=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(n)for(l=0;a>l;l+=1)if(i.isDateExact(r[l],t)){r[l]=null;break}if(c)for(l=0;a>l;l+=1)if(i.isDateOverlap(r[l],t)){r[l]=null;break}n&&r.push(n)}),r.filter(function(t){return null!=t})},n.prototype.nodes=function(t){var e=this,n=e.settings,a=e.item,s=a.now,l=a.select,c=a.highlight,u=a.view,h=a.disable,d=a.min,p=a.max,f=function(t,e){return n.firstDay&&(t.push(t.shift()),e.push(e.shift())),o.node("thead",o.node("tr",o.group({min:0,max:i-1,i:1,node:"th",item:function(i){return[t[i],n.klass.weekdays,'scope=col title="'+e[i]+'"']}})))}((n.showWeekdaysFull?n.weekdaysFull:n.weekdaysShort).slice(0),n.weekdaysFull.slice(0)),g=function(t){return o.node("div"," ",n.klass["nav"+(t?"Next":"Prev")]+(t&&u.year>=p.year&&u.month>=p.month||!t&&u.year<=d.year&&u.month<=d.month?" "+n.klass.navDisabled:""),"data-nav="+(t||-1)+" "+o.ariaAttr({role:"button",controls:e.$node[0].id+"_table"})+' title="'+(t?n.labelMonthNext:n.labelMonthPrev)+'"')},m=function(){var i=n.showMonthsShort?n.monthsShort:n.monthsFull;return n.selectMonths?o.node("select",o.group({min:0,max:11,i:1,node:"option",item:function(t){return[i[t],0,"value="+t+(u.month==t?" selected":"")+(u.year==d.year&&t<d.month||u.year==p.year&&t>p.month?" disabled":"")]}}),n.klass.selectMonth,(t?"":"disabled")+" "+o.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+n.labelMonthSelect+'"'):o.node("div",i[u.month],n.klass.month)},v=function(){var i=u.year,r=n.selectYears===!0?5:~~(n.selectYears/2);if(r){var a=d.year,s=p.year,l=i-r,c=i+r;if(a>l&&(c+=a-l,l=a),c>s){var h=l-a,f=c-s;l-=h>f?f:h,c=s}return o.node("select",o.group({min:l,max:c,i:1,node:"option",item:function(t){return[t,0,"value="+t+(i==t?" selected":"")]}}),n.klass.selectYear,(t?"":"disabled")+" "+o.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+n.labelYearSelect+'"')}return o.node("div",i,n.klass.year)};return o.node("div",(n.selectYears?v()+m():m()+v())+g()+g(1),n.klass.header)+o.node("table",f+o.node("tbody",o.group({min:0,max:r-1,i:1,node:"tr",item:function(t){var r=n.firstDay&&0===e.create([u.year,u.month,1]).day?-7:0;return[o.group({min:i*t-u.day+r+1,max:function(){return this.min+i-1},i:1,node:"td",item:function(t){t=e.create([u.year,u.month,t+(n.firstDay?1:0)]);var i=l&&l.pick==t.pick,r=c&&c.pick==t.pick,a=h&&e.disabled(t)||t.pick<d.pick||t.pick>p.pick,f=o.trigger(e.formats.toString,e,[n.format,t]);return[o.node("div",t.date,function(e){return e.push(u.month==t.month?n.klass.infocus:n.klass.outfocus),s.pick==t.pick&&e.push(n.klass.now),i&&e.push(n.klass.selected),r&&e.push(n.klass.highlighted),a&&e.push(n.klass.disabled),e.join(" ")}([n.klass.day]),"data-pick="+t.pick+" "+o.ariaAttr({role:"gridcell",label:f,selected:i&&e.$node.val()===f?!0:null,activedescendant:r?!0:null,disabled:a?!0:null})),"",o.ariaAttr({role:"presentation"})]}})]}})),n.klass.table,'id="'+e.$node[0].id+'_table" '+o.ariaAttr({role:"grid",controls:e.$node[0].id,readonly:!0}))+o.node("div",o.node("button",n.today,n.klass.buttonToday,"type=button data-pick="+s.pick+(t&&!e.disabled(s)?"":" disabled")+" "+o.ariaAttr({controls:e.$node[0].id}))+o.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(t?"":" disabled")+" "+o.ariaAttr({controls:e.$node[0].id}))+o.node("button",n.close,n.klass.buttonClose,"type=button data-close=true "+(t?"":" disabled")+" "+o.ariaAttr({controls:e.$node[0].id})),n.klass.footer)},n.defaults=function(t){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:t+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}}}(t.klasses().picker+"__"),t.extend("pickadate",n)}),function(t){"function"==typeof define&&define.amd?define(["../datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["es-ES"]={closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.regional["es-ES"]}),function(t){"function"==typeof define&&define.amd?define(["../datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["fr-CA"]={closeText:"Fermer",prevText:"Pr\xe9c\xe9dent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],monthNamesShort:["janv.","f\xe9vr.","mars","avril","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.regional["fr-CA"]}),function(t){"function"==typeof define&&define.amd?define(["../datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["ja-JA"]={closeText:"\u9589\u3058\u308b",prevText:"&#x3C;\u524d",nextText:"\u6b21&#x3E;",currentText:"\u4eca\u65e5",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayNamesMin:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],weekHeader:"\u9031",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"},t.regional["ja-JA"]}),function(t){"function"==typeof define&&define.amd?define(["../datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["ru-RU"]={closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",prevText:"&#x3C;\u041f\u0440\u0435\u0434",nextText:"\u0421\u043b\u0435\u0434&#x3E;",currentText:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dayNames:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0432\u0441\u043a","\u043f\u043d\u0434","\u0432\u0442\u0440","\u0441\u0440\u0434","\u0447\u0442\u0432","\u043f\u0442\u043d","\u0441\u0431\u0442"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],weekHeader:"\u041d\u0435\u0434",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.regional["ru-RU"]}),function(t){"function"==typeof define&&define.amd?define(["../datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["zh-CN"]={closeText:"\u5173\u95ed",prevText:"&#x3C;\u4e0a\u6708",nextText:"\u4e0b\u6708&#x3E;",currentText:"\u4eca\u5929",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayNamesShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],dayNamesMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],weekHeader:"\u5468",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"},t.regional["zh-CN"]}),function(t){"function"==typeof define&&define.amd?define(["../datepicker"],t):t(jQuery.datepicker)}(function(t){return t.regional["zh-TW"]={closeText:"\u95dc\u9589",prevText:"&#x3C;\u4e0a\u6708",nextText:"\u4e0b\u6708&#x3E;",currentText:"\u4eca\u5929",monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayNames:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayNamesShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],dayNamesMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],weekHeader:"\u5468",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"\u5e74"},t.regional["zh-TW"]}),!function(t){var e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};t.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var r={},o=this,a=t(window).width(),s=t(window).height();if(!t(o).data("bxSlider")){var l=function(){t(o).data("bxSlider")||(r.settings=t.extend({},e,n),r.settings.slideWidth=parseInt(r.settings.slideWidth),r.children=o.children(r.settings.slideSelector),r.children.length<r.settings.minSlides&&(r.settings.minSlides=r.children.length),r.children.length<r.settings.maxSlides&&(r.settings.maxSlides=r.children.length),r.settings.randomStart&&(r.settings.startSlide=Math.floor(Math.random()*r.children.length)),r.active={index:r.settings.startSlide},r.carousel=r.settings.minSlides>1||r.settings.maxSlides>1,r.carousel&&(r.settings.preloadImages="all"),r.minThreshold=r.settings.minSlides*r.settings.slideWidth+(r.settings.minSlides-1)*r.settings.slideMargin,r.maxThreshold=r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin,r.working=!1,r.controls={},r.interval=null,r.animProp="vertical"===r.settings.mode?"top":"left",r.usingCSS=r.settings.useCSS&&"fade"!==r.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],n=0;n<e.length;n++)if(void 0!==t.style[e[n]])return r.cssPrefix=e[n].replace("Perspective","").toLowerCase(),r.animProp="-"+r.cssPrefix+"-transform",!0;return!1}(),"vertical"===r.settings.mode&&(r.settings.maxSlides=r.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(r.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c())},c=function(){var e=r.children.eq(r.settings.startSlide);o.wrap('<div class="'+r.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),r.viewport=o.parent(),r.settings.ariaLive&&!r.settings.ticker&&r.viewport.attr("aria-live","polite"),r.loader=t('<div class="bx-loading" />'),r.viewport.prepend(r.loader),o.css({width:"horizontal"===r.settings.mode?1e3*r.children.length+215+"%":"auto",position:"relative"}),r.usingCSS&&r.settings.easing?o.css("-"+r.cssPrefix+"-transition-timing-function",r.settings.easing):r.settings.easing||(r.settings.easing="swing"),r.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),r.viewport.parent().css({maxWidth:p()}),r.settings.pager||r.settings.controls||r.viewport.parent().css({margin:"0 auto 0px"}),r.children.css({"float":"horizontal"===r.settings.mode?"left":"none",listStyle:"none",position:"relative"}),r.children.css("width",f()),"horizontal"===r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginRight",r.settings.slideMargin),"vertical"===r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginBottom",r.settings.slideMargin),"fade"===r.settings.mode&&(r.children.css({position:"absolute",zIndex:0,display:"none"}),r.children.eq(r.settings.startSlide).css({zIndex:r.settings.slideZIndex,display:"block"})),r.controls.el=t('<div class="bx-controls" />'),r.settings.captions&&S(),r.active.last=r.settings.startSlide===m()-1,r.settings.video&&o.fitVids(),("all"===r.settings.preloadImages||r.settings.ticker)&&(e=r.children),r.settings.ticker?r.settings.pager=!1:(r.settings.controls&&k(),r.settings.auto&&r.settings.autoControls&&x(),r.settings.pager&&w(),(r.settings.controls||r.settings.autoControls||r.settings.pager)&&r.viewport.after(r.controls.el)),u(e,h)},u=function(e,n){var i=e.find('img:not([src=""]), iframe').length,r=0;return 0===i?void n():void e.find('img:not([src=""]), iframe').each(function(){t(this).one("load error",function(){++r===i&&n()}).each(function(){this.complete&&t(this).load()})})},h=function(){if(r.settings.infiniteLoop&&"fade"!==r.settings.mode&&!r.settings.ticker){var e="vertical"===r.settings.mode?r.settings.minSlides:r.settings.maxSlides,n=r.children.slice(0,e).clone(!0).addClass("bx-clone"),i=r.children.slice(-e).clone(!0).addClass("bx-clone");r.settings.ariaHidden&&(n.attr("aria-hidden",!0),i.attr("aria-hidden",!0)),o.append(n).prepend(i)}r.loader.remove(),_(),"vertical"===r.settings.mode&&(r.settings.adaptiveHeight=!0),r.viewport.height(d()),o.redrawSlider(),r.settings.onSliderLoad.call(o,r.active.index),r.initialized=!0,r.settings.responsive&&t(window).bind("resize",W),r.settings.auto&&r.settings.autoStart&&(m()>1||r.settings.autoSlideForOnePage)&&$(),r.settings.ticker&&R(),r.settings.pager&&P(r.settings.startSlide),r.settings.controls&&O(),r.settings.touchEnabled&&!r.settings.ticker&&L(),r.settings.keyboardEnabled&&!r.settings.ticker&&t(document).keydown(F)},d=function(){var e=0,n=t();if("vertical"===r.settings.mode||r.settings.adaptiveHeight)if(r.carousel){var o=1===r.settings.moveSlides?r.active.index:r.active.index*v();for(n=r.children.eq(o),i=1;i<=r.settings.maxSlides-1;i++)n=n.add(o+i>=r.children.length?r.children.eq(i-1):r.children.eq(o+i))}else n=r.children.eq(r.active.index);else n=r.children;return"vertical"===r.settings.mode?(n.each(function(){e+=t(this).outerHeight()}),r.settings.slideMargin>0&&(e+=r.settings.slideMargin*(r.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"===r.viewport.css("box-sizing")?e+=parseFloat(r.viewport.css("padding-top"))+parseFloat(r.viewport.css("padding-bottom"))+parseFloat(r.viewport.css("border-top-width"))+parseFloat(r.viewport.css("border-bottom-width")):"padding-box"===r.viewport.css("box-sizing")&&(e+=parseFloat(r.viewport.css("padding-top"))+parseFloat(r.viewport.css("padding-bottom"))),e},p=function(){var t="100%";return r.settings.slideWidth>0&&(t="horizontal"===r.settings.mode?r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin:r.settings.slideWidth),t},f=function(){var t=r.settings.slideWidth,e=r.viewport.width();if(0===r.settings.slideWidth||r.settings.slideWidth>e&&!r.carousel||"vertical"===r.settings.mode)t=e;else if(r.settings.maxSlides>1&&"horizontal"===r.settings.mode){if(e>r.maxThreshold)return t;e<r.minThreshold?t=(e-r.settings.slideMargin*(r.settings.minSlides-1))/r.settings.minSlides:r.settings.shrinkItems&&(t=Math.floor((e+r.settings.slideMargin)/Math.ceil((e+r.settings.slideMargin)/(t+r.settings.slideMargin))-r.settings.slideMargin))}return t},g=function(){var t=1,e=null;return"horizontal"===r.settings.mode&&r.settings.slideWidth>0?r.viewport.width()<r.minThreshold?t=r.settings.minSlides:r.viewport.width()>r.maxThreshold?t=r.settings.maxSlides:(e=r.children.first().outerWidth()+r.settings.slideMargin,t=Math.floor((r.viewport.width()+r.settings.slideMargin)/e)):"vertical"===r.settings.mode&&(t=r.settings.minSlides),t},m=function(){var t=0,e=0,n=0;if(r.settings.moveSlides>0)if(r.settings.infiniteLoop)t=Math.ceil(r.children.length/v());else for(;e<r.children.length;)++t,e=n+g(),n+=r.settings.moveSlides<=g()?r.settings.moveSlides:g();else t=Math.ceil(r.children.length/g());return t},v=function(){return r.settings.moveSlides>0&&r.settings.moveSlides<=g()?r.settings.moveSlides:g()},_=function(){var t,e,n;r.children.length>r.settings.maxSlides&&r.active.last&&!r.settings.infiniteLoop?"horizontal"===r.settings.mode?(e=r.children.last(),t=e.position(),b(-(t.left-(r.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===r.settings.mode&&(n=r.children.length-r.settings.minSlides,t=r.children.eq(n).position(),b(-t.top,"reset",0)):(t=r.children.eq(r.active.index*v()).position(),r.active.index===m()-1&&(r.active.last=!0),void 0!==t&&null!==t&&("horizontal"===r.settings.mode?b(-t.left,"reset",0):"vertical"===r.settings.mode&&b(-t.top,"reset",0)))},b=function(e,n,i,a){var s,l;r.usingCSS?(l="vertical"===r.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",o.css("-"+r.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"===n?(o.css(r.animProp,l),0!==i?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),A())}):A()):"reset"===n?o.css(r.animProp,l):"ticker"===n&&(o.css("-"+r.cssPrefix+"-transition-timing-function","linear"),o.css(r.animProp,l),0!==i?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),b(a.resetValue,"reset",0),M())}):(b(a.resetValue,"reset",0),M()))):(s={},s[r.animProp]=e,"slide"===n?o.animate(s,i,r.settings.easing,function(){A()}):"reset"===n?o.css(r.animProp,e):"ticker"===n&&o.animate(s,i,"linear",function(){b(a.resetValue,"reset",0),M()}))},y=function(){for(var e="",n="",i=m(),o=0;i>o;o++)n="",r.settings.buildPager&&t.isFunction(r.settings.buildPager)||r.settings.pagerCustom?(n=r.settings.buildPager(o),r.pagerEl.addClass("bx-custom-pager")):(n=o+1,r.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+n+"</a></div>";r.pagerEl.html(e)},w=function(){r.settings.pagerCustom?r.pagerEl=t(r.settings.pagerCustom):(r.pagerEl=t('<div class="bx-pager" />'),r.settings.pagerSelector?t(r.settings.pagerSelector).html(r.pagerEl):r.controls.el.addClass("bx-has-pager").append(r.pagerEl),y()),r.pagerEl.on("click touchend","a",I)},k=function(){r.controls.next=t('<a class="bx-next" href="">'+r.settings.nextText+"</a>"),r.controls.prev=t('<a class="bx-prev" href="">'+r.settings.prevText+"</a>"),r.controls.next.bind("click touchend",C),r.controls.prev.bind("click touchend",T),r.settings.nextSelector&&t(r.settings.nextSelector).append(r.controls.next),r.settings.prevSelector&&t(r.settings.prevSelector).append(r.controls.prev),r.settings.nextSelector||r.settings.prevSelector||(r.controls.directionEl=t('<div class="bx-controls-direction" />'),r.controls.directionEl.append(r.controls.prev).append(r.controls.next),r.controls.el.addClass("bx-has-controls-direction").append(r.controls.directionEl))},x=function(){r.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+r.settings.startText+"</a></div>"),r.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+r.settings.stopText+"</a></div>"),r.controls.autoEl=t('<div class="bx-controls-auto" />'),r.controls.autoEl.on("click",".bx-start",E),r.controls.autoEl.on("click",".bx-stop",D),r.settings.autoControlsCombine?r.controls.autoEl.append(r.controls.start):r.controls.autoEl.append(r.controls.start).append(r.controls.stop),r.settings.autoControlsSelector?t(r.settings.autoControlsSelector).html(r.controls.autoEl):r.controls.el.addClass("bx-has-controls-auto").append(r.controls.autoEl),j(r.settings.autoStart?"stop":"start")},S=function(){r.children.each(function(){var e=t(this).find("img:first").attr("title");void 0!==e&&(""+e).length&&t(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},C=function(t){t.preventDefault(),r.controls.el.hasClass("disabled")||(r.settings.auto&&r.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},T=function(t){t.preventDefault(),r.controls.el.hasClass("disabled")||(r.settings.auto&&r.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},E=function(t){o.startAuto(),t.preventDefault()},D=function(t){o.stopAuto(),t.preventDefault()},I=function(e){var n,i;e.preventDefault(),r.controls.el.hasClass("disabled")||(r.settings.auto&&r.settings.stopAutoOnClick&&o.stopAuto(),n=t(e.currentTarget),void 0!==n.attr("data-slide-index")&&(i=parseInt(n.attr("data-slide-index")),i!==r.active.index&&o.goToSlide(i)))},P=function(e){var n=r.children.length;return"short"===r.settings.pagerType?(r.settings.maxSlides>1&&(n=Math.ceil(r.children.length/r.settings.maxSlides)),void r.pagerEl.html(e+1+r.settings.pagerShortSeparator+n)):(r.pagerEl.find("a").removeClass("active"),void r.pagerEl.each(function(n,i){t(i).find("a").eq(e).addClass("active")}))},A=function(){if(r.settings.infiniteLoop){var t="";
0===r.active.index?t=r.children.eq(0).position():r.active.index===m()-1&&r.carousel?t=r.children.eq((m()-1)*v()).position():r.active.index===r.children.length-1&&(t=r.children.eq(r.children.length-1).position()),t&&("horizontal"===r.settings.mode?b(-t.left,"reset",0):"vertical"===r.settings.mode&&b(-t.top,"reset",0))}r.working=!1,r.settings.onSlideAfter.call(o,r.children.eq(r.active.index),r.oldIndex,r.active.index)},j=function(t){r.settings.autoControlsCombine?r.controls.autoEl.html(r.controls[t]):(r.controls.autoEl.find("a").removeClass("active"),r.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},O=function(){1===m()?(r.controls.prev.addClass("disabled"),r.controls.next.addClass("disabled")):!r.settings.infiniteLoop&&r.settings.hideControlOnEnd&&(0===r.active.index?(r.controls.prev.addClass("disabled"),r.controls.next.removeClass("disabled")):r.active.index===m()-1?(r.controls.next.addClass("disabled"),r.controls.prev.removeClass("disabled")):(r.controls.prev.removeClass("disabled"),r.controls.next.removeClass("disabled")))},$=function(){r.settings.autoDelay>0?setTimeout(o.startAuto,r.settings.autoDelay):(o.startAuto(),t(window).focus(function(){o.startAuto()}).blur(function(){o.stopAuto()})),r.settings.autoHover&&o.hover(function(){r.interval&&(o.stopAuto(!0),r.autoPaused=!0)},function(){r.autoPaused&&(o.startAuto(!0),r.autoPaused=null)})},R=function(){var e,n,i,a,s,l,c,u,h=0;"next"===r.settings.autoDirection?o.append(r.children.clone().addClass("bx-clone")):(o.prepend(r.children.clone().addClass("bx-clone")),e=r.children.first().position(),h="horizontal"===r.settings.mode?-e.left:-e.top),b(h,"reset",0),r.settings.pager=!1,r.settings.controls=!1,r.settings.autoControls=!1,r.settings.tickerHover&&(r.usingCSS?(a="horizontal"===r.settings.mode?4:5,r.viewport.hover(function(){n=o.css("-"+r.cssPrefix+"-transform"),i=parseFloat(n.split(",")[a]),b(i,"reset",0)},function(){u=0,r.children.each(function(){u+="horizontal"===r.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),s=r.settings.speed/u,l="horizontal"===r.settings.mode?"left":"top",c=s*(u-Math.abs(parseInt(i))),M(c)})):r.viewport.hover(function(){o.stop()},function(){u=0,r.children.each(function(){u+="horizontal"===r.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),s=r.settings.speed/u,l="horizontal"===r.settings.mode?"left":"top",c=s*(u-Math.abs(parseInt(o.css(l)))),M(c)})),M()},M=function(t){var e,n,i,a=t?t:r.settings.speed,s={left:0,top:0},l={left:0,top:0};"next"===r.settings.autoDirection?s=o.find(".bx-clone").first().position():l=r.children.first().position(),e="horizontal"===r.settings.mode?-s.left:-s.top,n="horizontal"===r.settings.mode?-l.left:-l.top,i={resetValue:n},b(e,"ticker",a,i)},N=function(e){var n=t(window),i={top:n.scrollTop(),left:n.scrollLeft()},r=e.offset();return i.right=i.left+n.width(),i.bottom=i.top+n.height(),r.right=r.left+e.outerWidth(),r.bottom=r.top+e.outerHeight(),!(i.right<r.left||i.left>r.right||i.bottom<r.top||i.top>r.bottom)},F=function(t){var e=document.activeElement.tagName.toLowerCase(),n="input|textarea",i=new RegExp(e,["i"]),r=i.exec(n);if(null==r&&N(o)){if(39===t.keyCode)return C(t),!1;if(37===t.keyCode)return T(t),!1}},L=function(){r.touch={start:{x:0,y:0},end:{x:0,y:0}},r.viewport.bind("touchstart MSPointerDown pointerdown",B),r.viewport.on("click",".bxslider a",function(t){r.viewport.hasClass("click-disabled")&&(t.preventDefault(),r.viewport.removeClass("click-disabled"))})},B=function(t){if(r.controls.el.addClass("disabled"),r.working)t.preventDefault(),r.controls.el.removeClass("disabled");else{r.touch.originalPos=o.position();var e=t.originalEvent,n="undefined"!=typeof e.changedTouches?e.changedTouches:[e];r.touch.start.x=n[0].pageX,r.touch.start.y=n[0].pageY,r.viewport.get(0).setPointerCapture&&(r.pointerId=e.pointerId,r.viewport.get(0).setPointerCapture(r.pointerId)),r.viewport.bind("touchmove MSPointerMove pointermove",U),r.viewport.bind("touchend MSPointerUp pointerup",H),r.viewport.bind("MSPointerCancel pointercancel",z)}},z=function(){b(r.touch.originalPos.left,"reset",0),r.controls.el.removeClass("disabled"),r.viewport.unbind("MSPointerCancel pointercancel",z),r.viewport.unbind("touchmove MSPointerMove pointermove",U),r.viewport.unbind("touchend MSPointerUp pointerup",H),r.viewport.get(0).releasePointerCapture&&r.viewport.get(0).releasePointerCapture(r.pointerId)},U=function(t){var e=t.originalEvent,n="undefined"!=typeof e.changedTouches?e.changedTouches:[e],i=Math.abs(n[0].pageX-r.touch.start.x),o=Math.abs(n[0].pageY-r.touch.start.y),a=0,s=0;3*i>o&&r.settings.preventDefaultSwipeX?t.preventDefault():3*o>i&&r.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!==r.settings.mode&&r.settings.oneToOneTouch&&("horizontal"===r.settings.mode?(s=n[0].pageX-r.touch.start.x,a=r.touch.originalPos.left+s):(s=n[0].pageY-r.touch.start.y,a=r.touch.originalPos.top+s),b(a,"reset",0))},H=function(t){r.viewport.unbind("touchmove MSPointerMove pointermove",U),r.controls.el.removeClass("disabled");var e=t.originalEvent,n="undefined"!=typeof e.changedTouches?e.changedTouches:[e],i=0,a=0;r.touch.end.x=n[0].pageX,r.touch.end.y=n[0].pageY,"fade"===r.settings.mode?(a=Math.abs(r.touch.start.x-r.touch.end.x),a>=r.settings.swipeThreshold&&(r.touch.start.x>r.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto())):("horizontal"===r.settings.mode?(a=r.touch.end.x-r.touch.start.x,i=r.touch.originalPos.left):(a=r.touch.end.y-r.touch.start.y,i=r.touch.originalPos.top),!r.settings.infiniteLoop&&(0===r.active.index&&a>0||r.active.last&&0>a)?b(i,"reset",200):Math.abs(a)>=r.settings.swipeThreshold?(0>a?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):b(i,"reset",200)),r.viewport.unbind("touchend MSPointerUp pointerup",H),r.viewport.get(0).releasePointerCapture&&r.viewport.get(0).releasePointerCapture(r.pointerId)},W=function(){if(r.initialized)if(r.working)window.setTimeout(W,10);else{var e=t(window).width(),n=t(window).height();a===e&&s===n||(a=e,s=n,o.redrawSlider(),r.settings.onSliderResize.call(o,r.active.index))}},q=function(t){var e=g();r.settings.ariaHidden&&!r.settings.ticker&&(r.children.attr("aria-hidden","true"),r.children.slice(t,t+e).attr("aria-hidden","false"))},V=function(t){return 0>t?r.settings.infiniteLoop?m()-1:r.active.index:t>=m()?r.settings.infiniteLoop?0:r.active.index:t};return o.goToSlide=function(e,n){var i,a,s,l,c=!0,u=0,h={left:0,top:0},p=null;if(r.oldIndex=r.active.index,r.active.index=V(e),!r.working&&r.active.index!==r.oldIndex){if(r.working=!0,c=r.settings.onSlideBefore.call(o,r.children.eq(r.active.index),r.oldIndex,r.active.index),"undefined"!=typeof c&&!c)return r.active.index=r.oldIndex,void(r.working=!1);"next"===n?r.settings.onSlideNext.call(o,r.children.eq(r.active.index),r.oldIndex,r.active.index)||(c=!1):"prev"===n&&(r.settings.onSlidePrev.call(o,r.children.eq(r.active.index),r.oldIndex,r.active.index)||(c=!1)),r.active.last=r.active.index>=m()-1,(r.settings.pager||r.settings.pagerCustom)&&P(r.active.index),r.settings.controls&&O(),"fade"===r.settings.mode?(r.settings.adaptiveHeight&&r.viewport.height()!==d()&&r.viewport.animate({height:d()},r.settings.adaptiveHeightSpeed),r.children.filter(":visible").fadeOut(r.settings.speed).css({zIndex:0}),r.children.eq(r.active.index).css("zIndex",r.settings.slideZIndex+1).fadeIn(r.settings.speed,function(){t(this).css("zIndex",r.settings.slideZIndex),A()})):(r.settings.adaptiveHeight&&r.viewport.height()!==d()&&r.viewport.animate({height:d()},r.settings.adaptiveHeightSpeed),!r.settings.infiniteLoop&&r.carousel&&r.active.last?"horizontal"===r.settings.mode?(p=r.children.eq(r.children.length-1),h=p.position(),u=r.viewport.width()-p.outerWidth()):(i=r.children.length-r.settings.minSlides,h=r.children.eq(i).position()):r.carousel&&r.active.last&&"prev"===n?(a=1===r.settings.moveSlides?r.settings.maxSlides-v():(m()-1)*v()-(r.children.length-r.settings.maxSlides),p=o.children(".bx-clone").eq(a),h=p.position()):"next"===n&&0===r.active.index?(h=o.find("> .bx-clone").eq(r.settings.maxSlides).position(),r.active.last=!1):e>=0&&(l=e*parseInt(v()),h=r.children.eq(l).position()),"undefined"!=typeof h?(s="horizontal"===r.settings.mode?-(h.left-u):-h.top,b(s,"slide",r.settings.speed)):r.working=!1),r.settings.ariaHidden&&q(r.active.index*v())}},o.goToNextSlide=function(){if(r.settings.infiniteLoop||!r.active.last){var t=parseInt(r.active.index)+1;o.goToSlide(t,"next")}},o.goToPrevSlide=function(){if(r.settings.infiniteLoop||0!==r.active.index){var t=parseInt(r.active.index)-1;o.goToSlide(t,"prev")}},o.startAuto=function(t){r.interval||(r.interval=setInterval(function(){"next"===r.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},r.settings.pause),r.settings.autoControls&&t!==!0&&j("stop"))},o.stopAuto=function(t){r.interval&&(clearInterval(r.interval),r.interval=null,r.settings.autoControls&&t!==!0&&j("start"))},o.getCurrentSlide=function(){return r.active.index},o.getCurrentSlideElement=function(){return r.children.eq(r.active.index)},o.getSlideElement=function(t){return r.children.eq(t)},o.getSlideCount=function(){return r.children.length},o.isWorking=function(){return r.working},o.redrawSlider=function(){r.children.add(o.find(".bx-clone")).outerWidth(f()),r.viewport.css("height",d()),r.settings.ticker||_(),r.active.last&&(r.active.index=m()-1),r.active.index>=m()&&(r.active.last=!0),r.settings.pager&&!r.settings.pagerCustom&&(y(),P(r.active.index)),r.settings.ariaHidden&&q(r.active.index*v())},o.destroySlider=function(){r.initialized&&(r.initialized=!1,t(".bx-clone",this).remove(),r.children.each(function(){void 0!==t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!==t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),r.controls.el&&r.controls.el.remove(),r.controls.next&&r.controls.next.remove(),r.controls.prev&&r.controls.prev.remove(),r.pagerEl&&r.settings.controls&&!r.settings.pagerCustom&&r.pagerEl.remove(),t(".bx-caption",this).remove(),r.controls.autoEl&&r.controls.autoEl.remove(),clearInterval(r.interval),r.settings.responsive&&t(window).unbind("resize",W),r.settings.keyboardEnabled&&t(document).unbind("keydown",F),t(this).removeData("bxSlider"))},o.reloadSlider=function(e){void 0!==e&&(n=e),o.destroySlider(),l(),t(o).data("bxSlider",this)},l(),t(o).data("bxSlider",this),this}}}(jQuery);var BCSlider=function(t,e){function n(){var e=t(this),n=e.parents(".bx-wrapper");i(n),a.resize(i.bind(this,n));var o=e.find(c).parents(".no_slider");o.removeClass(".no_slider"),d(null,e),r(this)}function i(t){t.children(".bx-pager").length>0&&t.children(".bx-pager").detach().appendTo(t.find(".bx-viewport"))}function r(e){t(c).each(function(){var e=t(this),n=e.parent().find("img.jacketCover");1===n.height()?e.parents(".carousel_item").addClass("no_image"):e.css("height",n.height())}),e.redrawSlider()}function o(e,n){var i=t.Deferred(),r=function(){var t=e.find("div.carousel_item"),r=Math.floor(0===t.length?0:e.width()/(n.slideWidth+n.slideMargin));0===t.length||r>t.length?(d(null,e),t.addClass("no_slider"),t.width(n.slideWidth)):(t.removeClass("no_slider"),i.resolve())};return a.on("resize.bc.carousel",r),r(),i.promise()}var a=t(e),s=e.BCSlider,l="function"==typeof e.bc_datajs_selector,c=".hover_overlay";l&&(c=bc_datajs_selector("resize_hover_overlay"));var u=function(){var t=e.BCSlider;return e.BCSlider=s,t},h={slideSelector:"div.carousel_item",slideMargin:20,minSlides:1,maxSlides:15,slideWidth:120,prevText:'<i class="icon-angle-left"></i>',nextText:'<i class="icon-angle-right"></i>',onSliderLoad:n},d=function(){function e(t){return t.attr("src")&&t.attr("src").indexOf("/assets/default_covers")>=0}function n(t,e){return t.attr("src")!==t.attr("fallback")&&e.width<=1||e.height<=1}function i(e,n){var i=Math.max.apply(Math,n.find("div.carousel_item").map(function(){return t(this).outerHeight(!1)}).get());180>i?e.parents(".carousel_item").addClass("no_image").css("height",i+"px"):e.parents(".carousel_item").addClass("no_image"),e.trigger("load")}return function(r,o){o.each(function(){t(this).find(".carousel_item").each(function(){var r=t(this).find("img");if(r.length>0){var a=new Image;a.onerror=function(){i(r,o)},a.onload=function(){(e(r)||n(r,a))&&i(r,o)},a.src=r.attr("src")}})})}}();return t.fn.bcSlider=function(e){return"object"!=typeof e&&(e={}),this.length>0&&t.fn.bxSlider.call(this,t.extend(!0,{},BCSlider.defaultCarouselOptions,e)),this},{defaultCarouselOptions:h,carouselImageCheck:d,carouselHasEnoughSlides:o,resizeHoverOverlay:r,onSliderLoad:n,fixCarouselPagination:i,noConflict:u}}(jQuery,this);/*!

 handlebars v3.0.0

Copyright (C) 2011-2014 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Handlebars=e()}(this,function(){var t=function(){"use strict";function t(t){return l[t]}function e(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function n(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function i(e){return e&&e.toHTML?e.toHTML():null==e?"":e?(e=""+e,u.test(e)?e.replace(c,t):e):e+""}function r(t){return t||0===t?p(t)&&0===t.length?!0:!1:!0}function o(t,e){return t.path=e,t}function a(t,e){return(t?t+".":"")+e}var s={},l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,u=/[&<>"'`]/;s.extend=e;var h=Object.prototype.toString;s.toString=h;var d=function(t){return"function"==typeof t};d(/x/)&&(d=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)});var d;s.isFunction=d;var p=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===h.call(t):!1};return s.isArray=p,s.indexOf=n,s.escapeExpression=i,s.isEmpty=r,s.blockParams=o,s.appendContextPath=a,s}(),e=function(){"use strict";function t(t,e){var i,r,o=e&&e.loc;o&&(i=o.start.line,r=o.start.column,t+=" - "+i+":"+r);for(var a=Error.prototype.constructor.call(this,t),s=0;s<n.length;s++)this[n[s]]=a[n[s]];o&&(this.lineNumber=i,this.column=r)}var e,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),n=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new a("Missing helper: '"+arguments[arguments.length-1].name+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,r=n.fn;if(e===!0)return r(this);if(e===!1||null==e)return i(this);if(u(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=m(n.data);a.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:a}}return r(e,n)}),t.registerHelper("each",function(t,e){function n(e,n,a){i&&(i.key=e,i.index=n,i.first=0===n,i.last=!!a,r&&(i.contextPath=r+e)),d+=s(t[e],{data:i,blockParams:o.blockParams([t[e],e],[r+e,null])})}if(!e)throw new a("Must pass iterator to #each");var i,r,s=e.fn,l=e.inverse,c=0,d="";if(e.data&&e.ids&&(r=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),h(t)&&(t=t.call(this)),e.data&&(i=m(e.data)),t&&"object"==typeof t)if(u(t))for(var p=t.length;p>c;c++)n(c,c,c===t.length-1);else{var f;for(var g in t)t.hasOwnProperty(g)&&(f&&n(f,c-1),f=g,c++);f&&n(f,c-1,!0)}return 0===c&&(d=l(this)),d}),t.registerHelper("if",function(t,e){return h(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){h(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=m(e.data);i.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}var r={},o=t,a=e,s="3.0.0";r.VERSION=s;var l=6;r.COMPILER_REVISION=l;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};r.REVISION_CHANGES=c;var u=o.isArray,h=o.isFunction,d=o.toString,p="[object Object]";r.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:f,log:g,registerHelper:function(t,e){if(d.call(t)===p){if(e)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(d.call(t)===p)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new a("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&f.level<=t){var n=f.methodMap[t];(console[n]||console.log).call(console,e)}}};r.logger=f;var g=f.log;r.log=g;var m=function(t){var e=o.extend({},t);return e._parent=t,e};return r.createFrame=m,r}(t,e),i=function(){"use strict";function t(t){this.string=t}var e;return t.prototype.toString=t.prototype.toHTML=function(){return""+this.string},e=t}(),r=function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=p;if(e!==n){if(n>e){var i=f[n],r=f[e];throw new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new d("No environment passed to template");if(!t||!t.main)throw new d("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var n=function(n,i,r){r.hash&&(i=h.extend({},i,r.hash)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var a=o.split("\n"),s=0,l=a.length;l>s&&(a[s]||s+1!==l);s++)a[s]=r.indent+a[s];o=a.join("\n")}return o}throw new d("The partial "+r.name+" could not be compiled when running in runtime-only mode")},i={strict:function(t,e){if(!(e in t))throw new d('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;n>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:h.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e,n,i,r){var a=this.programs[t],s=this.fn(t);return e||r||i||n?a=o(this,t,s,e,n,i,r):a||(a=this.programs[t]=o(this,t,s)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=h.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler},r=function(e,n){n=n||{};var o=n.data;r._setup(n),!n.partial&&t.useData&&(o=c(e,o));var a,s=t.useBlockParams?[]:void 0;return t.useDepths&&(a=n.depths?[e].concat(n.depths):[e]),t.main.call(i,e,i.helpers,i.partials,o,s,a)};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)))},r._child=function(e,n,r,a){if(t.useBlockParams&&!r)throw new d("must pass block params");if(t.useDepths&&!a)throw new d("must pass parent depths");return o(i,e,t[e],n,0,r,a)},r}function o(t,e,n,i,r,o,a){var s=function(e,r){return r=r||{},n.call(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),a&&[e].concat(a))};return s.program=e,s.depth=a?a.length:0,s.blockParams=r||0,s}function a(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t=n.partials[n.name],t}function s(t,e,n){if(n.partial=!0,void 0===t)throw new d("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function l(){return""}function c(t,e){return e&&"root"in e||(e=e?g(e):{},e.root=t),e}var u={},h=t,d=e,p=n.COMPILER_REVISION,f=n.REVISION_CHANGES,g=n.createFrame;return u.checkRevision=i,u.template=r,u.program=o,u.resolvePartial=a,u.invokePartial=s,u.noop=l,u}(t,e,n),o=function(t,e,n,i,r){"use strict";var o,a=t,s=e,l=n,c=i,u=r,h=function(){var t=new a.HandlebarsEnvironment;return c.extend(t,a),t.SafeString=s,t.Exception=l,t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t},d=h();d.create=h;var p="undefined"!=typeof global?global:window,f=p.Handlebars;return d.noConflict=function(){p.Handlebars===d&&(p.Handlebars=f)},d["default"]=d,o=d}(n,i,e,t,r),a=function(){"use strict";var t,e={Program:function(t,e,n,i){this.loc=i,this.type="Program",this.body=t,this.blockParams=e,this.strip=n},MustacheStatement:function(t,e,n,i,r,o){this.loc=o,this.type="MustacheStatement",this.path=t,this.params=e||[],this.hash=n,this.escaped=i,this.strip=r},BlockStatement:function(t,e,n,i,r,o,a,s,l){this.loc=l,this.type="BlockStatement",this.path=t,this.params=e||[],this.hash=n,this.program=i,this.inverse=r,this.openStrip=o,this.inverseStrip=a,this.closeStrip=s},PartialStatement:function(t,e,n,i,r){this.loc=r,this.type="PartialStatement",this.name=t,this.params=e||[],this.hash=n,this.indent="",this.strip=i},ContentStatement:function(t,e){this.loc=e,this.type="ContentStatement",this.original=this.value=t},CommentStatement:function(t,e,n){this.loc=n,this.type="CommentStatement",this.value=t,this.strip=e},SubExpression:function(t,e,n,i){this.loc=i,this.type="SubExpression",this.path=t,this.params=e||[],this.hash=n},PathExpression:function(t,e,n,i,r){this.loc=r,this.type="PathExpression",this.data=t,this.original=i,this.parts=n,this.depth=e},StringLiteral:function(t,e){this.loc=e,this.type="StringLiteral",this.original=this.value=t},NumberLiteral:function(t,e){this.loc=e,this.type="NumberLiteral",this.original=this.value=Number(t)},BooleanLiteral:function(t,e){this.loc=e,this.type="BooleanLiteral",this.original=this.value="true"===t},Hash:function(t,e){this.loc=e,this.type="Hash",this.pairs=t},HashPair:function(t,e,n){this.loc=n,this.type="HashPair",this.key=t,this.value=e},helpers:{helperExpression:function(t){return!("SubExpression"!==t.type&&!t.params.length&&!t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!e.helpers.scopedId(t)&&!t.depth}}};return t=e}(),s=function(){"use strict";var t,e=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,DATA:77,pathSegments:78,SEP:79,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"DATA",79:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[78,3],[78,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(t,e,n,i,r,o){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=new i.Program(o[a],null,{},i.locInfo(this._$));break;case 3:this.$=o[a];break;case 4:this.$=o[a];break;case 5:this.$=o[a];break;case 6:this.$=o[a];break;case 7:this.$=o[a];break;case 8:this.$=new i.CommentStatement(i.stripComment(o[a]),i.stripFlags(o[a],o[a]),i.locInfo(this._$));break;case 9:this.$=new i.ContentStatement(o[a],i.locInfo(this._$));break;case 10:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 11:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 12:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 14:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 15:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 17:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 18:var s=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),l=new i.Program([s],null,{},i.locInfo(this._$));l.chained=!0,this.$={strip:o[a-2].strip,program:l,chain:!0};break;case 19:this.$=o[a];break;case 20:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 21:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 22:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 23:this.$=new i.PartialStatement(o[a-3],o[a-2],o[a-1],i.stripFlags(o[a-4],o[a]),i.locInfo(this._$));break;case 24:this.$=o[a];break;case 25:this.$=o[a];break;case 26:this.$=new i.SubExpression(o[a-3],o[a-2],o[a-1],i.locInfo(this._$));break;case 27:this.$=new i.Hash(o[a],i.locInfo(this._$));break;case 28:this.$=new i.HashPair(o[a-2],o[a],i.locInfo(this._$));break;case 29:this.$=o[a-1];break;case 30:this.$=o[a];break;case 31:this.$=o[a];break;case 32:this.$=new i.StringLiteral(o[a],i.locInfo(this._$));break;case 33:this.$=new i.NumberLiteral(o[a],i.locInfo(this._$));break;case 34:this.$=new i.BooleanLiteral(o[a],i.locInfo(this._$));break;case 35:this.$=o[a];break;case 36:this.$=o[a];break;case 37:this.$=i.preparePath(!0,o[a],this._$);break;case 38:this.$=i.preparePath(!1,o[a],this._$);break;case 39:o[a-2].push({part:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 40:this.$=[{part:o[a]}];break;case 41:this.$=[];break;case 42:o[a-1].push(o[a]);break;case 43:this.$=[];break;case 44:o[a-1].push(o[a]);break;case 51:this.$=[];break;case 52:o[a-1].push(o[a]);break;case 57:this.$=[];break;case 58:o[a-1].push(o[a]);break;case 63:this.$=[];break;case 64:o[a-1].push(o[a]);break;case 71:this.$=[];break;case 72:o[a-1].push(o[a]);break;case 75:this.$=[];break;case 76:o[a-1].push(o[a]);break;case 79:this.$=[];break;case 80:o[a-1].push(o[a]);break;case 83:this.$=[];break;case 84:o[a-1].push(o[a]);break;case 87:this.$=[o[a]];break;case 88:o[a-1].push(o[a]);break;case 89:this.$=[o[a]];break;case 90:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,41],6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],46:[2,41],49:[2,41],53:[2,41]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,42],13:[2,42],14:[2,42],17:[2,42],27:[2,42],32:[2,42],37:[2,42],42:[2,42],45:[2,42],46:[2,42],49:[2,42],53:[2,42]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:31,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{4:32,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],37:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{4:33,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{12:34,14:[1,18]},{18:36,54:35,58:37,59:[1,38],66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:39,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:40,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:41,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{31:[2,71],47:42,59:[2,71],66:[2,71],74:[2,71],75:[2,71],76:[2,71],77:[2,71]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34]},{21:[2,38],31:[2,38],52:[2,38],59:[2,38],62:[2,38],66:[2,38],69:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],79:[1,43]},{66:[1,30],78:44},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],79:[2,40]},{50:45,52:[2,75],59:[2,75],66:[2,75],74:[2,75],75:[2,75],76:[2,75],77:[2,75]},{23:46,36:48,37:[1,50],41:49,42:[1,51],43:47,45:[2,47]},{26:52,41:53,42:[1,51],45:[2,49]},{16:[1,54]},{31:[2,79],55:55,59:[2,79],66:[2,79],74:[2,79],75:[2,79],76:[2,79],77:[2,79]},{31:[2,35],59:[2,35],66:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35]},{31:[2,36],59:[2,36],66:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36]},{18:56,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{28:57,31:[2,51],59:[2,51],66:[2,51],69:[2,51],74:[2,51],75:[2,51],76:[2,51],77:[2,51]},{31:[2,57],33:58,59:[2,57],66:[2,57],69:[2,57],74:[2,57],75:[2,57],76:[2,57],77:[2,57]},{19:59,21:[2,43],59:[2,43],66:[2,43],74:[2,43],75:[2,43],76:[2,43],77:[2,43]},{18:63,31:[2,73],48:60,57:61,58:64,59:[1,38],63:62,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{66:[1,68]},{21:[2,37],31:[2,37],52:[2,37],59:[2,37],62:[2,37],66:[2,37],69:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],79:[1,43]},{18:63,51:69,52:[2,77],57:70,58:64,59:[1,38],63:71,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{24:72,45:[1,73]},{45:[2,48]},{4:74,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],37:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{45:[2,19]},{18:75,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{4:76,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{24:77,45:[1,73]},{45:[2,50]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:63,31:[2,81],56:78,57:79,58:64,59:[1,38],63:80,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{59:[2,83],60:81,62:[2,83],66:[2,83],74:[2,83],75:[2,83],76:[2,83],77:[2,83]},{18:63,29:82,31:[2,53],57:83,58:64,59:[1,38],63:84,64:65,65:66,66:[1,67],69:[2,53],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:63,31:[2,59],34:85,57:86,58:64,59:[1,38],63:87,64:65,65:66,66:[1,67],69:[2,59],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:63,20:88,21:[2,45],57:89,58:64,59:[1,38],63:90,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{31:[1,91]},{31:[2,72],59:[2,72],66:[2,72],74:[2,72],75:[2,72],76:[2,72],77:[2,72]},{31:[2,74]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:92,66:[1,93],69:[2,27]},{21:[2,87],31:[2,87],52:[2,87],62:[2,87],66:[2,87],69:[2,87]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],67:[1,94],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],79:[2,40]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],79:[2,39]},{52:[1,95]},{52:[2,76],59:[2,76],66:[2,76],74:[2,76],75:[2,76],76:[2,76],77:[2,76]},{52:[2,78]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:96,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{36:48,37:[1,50],41:49,42:[1,51],43:98,44:97,45:[2,69]},{31:[2,63],38:99,59:[2,63],66:[2,63],69:[2,63],74:[2,63],75:[2,63],76:[2,63],77:[2,63]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,100]},{31:[2,80],59:[2,80],66:[2,80],74:[2,80],75:[2,80],76:[2,80],77:[2,80]},{31:[2,82]},{18:63,57:102,58:64,59:[1,38],61:101,62:[2,85],63:103,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{30:104,31:[2,55],68:105,69:[1,106]},{31:[2,52],59:[2,52],66:[2,52],69:[2,52],74:[2,52],75:[2,52],76:[2,52],77:[2,52]},{31:[2,54],69:[2,54]},{31:[2,61],35:107,68:108,69:[1,106]},{31:[2,58],59:[2,58],66:[2,58],69:[2,58],74:[2,58],75:[2,58],76:[2,58],77:[2,58]},{31:[2,60],69:[2,60]},{21:[1,109]},{21:[2,44],59:[2,44],66:[2,44],74:[2,44],75:[2,44],76:[2,44],77:[2,44]},{21:[2,46]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,88],31:[2,88],52:[2,88],62:[2,88],66:[2,88],69:[2,88]},{67:[1,94]},{18:63,57:110,58:64,59:[1,38],66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,111]},{45:[2,18]},{45:[2,70]},{18:63,31:[2,65],39:112,57:113,58:64,59:[1,38],63:114,64:65,65:66,66:[1,67],69:[2,65],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,115]},{59:[2,84],62:[2,84],66:[2,84],74:[2,84],75:[2,84],76:[2,84],77:[2,84]},{62:[2,86]},{31:[1,116]},{31:[2,56]},{66:[1,118],70:117},{31:[1,119]},{31:[2,62]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,67],40:120,68:121,69:[1,106]},{31:[2,64],59:[2,64],66:[2,64],69:[2,64],74:[2,64],75:[2,64],76:[2,64],77:[2,64]},{31:[2,66],69:[2,66]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,123],71:[1,122]},{66:[2,89],71:[2,89]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,124]},{31:[2,68]},{31:[2,29]},{66:[2,90],71:[2,90]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],47:[2,48],49:[2,19],53:[2,50],62:[2,74],71:[2,78],76:[2,17],80:[2,82],90:[2,46],97:[2,18],98:[2,70],103:[2,86],105:[2,56],108:[2,62],109:[2,11],121:[2,68],122:[2,29]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,i=[0],r=[null],o=[],a=this.table,s="",l=0,c=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,_,b,y,w,k={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===p||"undefined"==typeof p)&&(p=e()),m=a[g]&&a[g][p]),"undefined"==typeof m||!m.length||!m[0]){var x="";if(!u){w=[];for(_ in a[g])this.terminals_[_]&&_>2&&w.push("'"+this.terminals_[_]+"'");x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:h,expected:w})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:i.push(p),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(m[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[m[1]][1],k.$=r[r.length-b],k._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},d&&(k._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(k,s,c,l,this.yy,m[1],r,o),"undefined"!=typeof v)return v;b&&(i=i.slice(0,-1*b*2),r=r.slice(0,-1*b),o=o.slice(0,-1*b)),i.push(this.productions_[m[1]][0]),r.push(k.$),o.push(k._$),y=a[i[i.length-2]][i[i.length-1]],i.push(y);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(n=this._input.match(this.rules[o[a]]),!n||e&&!(n[0].length>e[0].length)||(e=n,i=a,this.options.flex));a++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e.yytext=e.yytext.substr(5,e.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(e.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 79;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return e.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return e.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 77;case 32:return 76;case 33:return 76;case 34:return 75;case 35:return 69;case 36:return 71;case 37:return 66;case 38:return e.yytext=r(1,2),66;case 39:return"INVALID";case 40:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,40],inclusive:!0}},t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();return t=e}(),l=function(t,e){"use strict";function n(){this.parents=[]}var i,r=t,o=e;return n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);
if(this.mutating){if(n&&(!n.type||!o[n.type]))throw new r('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new r(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;n>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},BlockStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash"),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")},PartialStatement:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PartialExpression:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},i=n}(e,a),c=function(t){"use strict";function e(){}function n(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function i(t,e,n){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function r(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function o(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var a,s=t;return e.prototype=new s,e.prototype.Program=function(t){var e=!this.isRootSeen;this.isRootSeen=!0;for(var a=t.body,s=0,l=a.length;l>s;s++){var c=a[s],u=this.accept(c);if(u){var h=n(a,s,e),d=i(a,s,e),p=u.openStandalone&&h,f=u.closeStandalone&&d,g=u.inlineStandalone&&h&&d;u.close&&r(a,s,!0),u.open&&o(a,s,!0),g&&(r(a,s),o(a,s)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(a[s-1].original)[1])),p&&(r((c.program||c.inverse).body),o(a,s)),f&&(r(a,s),o((c.inverse||c.program).body))}}return t},e.prototype.BlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,a=t.program&&t.inverse,s=a,l=a;if(a&&a.chained)for(s=a.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:i(e.body),closeStandalone:n((s||e).body)};if(t.openStrip.close&&r(e.body,null,!0),a){var u=t.inverseStrip;u.open&&o(e.body,null,!0),u.close&&r(s.body,null,!0),t.closeStrip.open&&o(l.body,null,!0),n(e.body)&&i(s.body)&&(o(e.body),r(s.body))}else t.closeStrip.open&&o(e.body,null,!0);return c},e.prototype.MustacheStatement=function(t){return t.strip},e.prototype.PartialStatement=e.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},a=e}(l),u=function(t){"use strict";function e(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function n(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function i(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function r(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",r=[],o=0,a="",s=0,l=e.length;l>s;s++){var u=e[s].part;if(i+=(e[s].separator||"")+u,".."===u||"."===u||"this"===u){if(r.length>0)throw new c("Invalid path: "+i,{loc:n});".."===u&&(o++,a+="../")}else r.push(u)}return new this.PathExpression(t,o,r,i,n)}function o(t,e,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a;return new this.MustacheStatement(t,e,n,s,r,this.locInfo(o))}function a(t,e,n,i){if(t.path.original!==n){var r={loc:t.path.loc};throw new c(t.path.original+" doesn't match "+n,r)}i=this.locInfo(i);var o=new this.Program([e],null,{},i);return new this.BlockStatement(t.path,t.params,t.hash,o,void 0,{},{},{},i)}function s(t,e,n,i,r,o){if(i&&i.path&&t.path.original!==i.path.original){var a={loc:t.path.loc};throw new c(t.path.original+" doesn't match "+i.path.original,a)}e.blockParams=t.blockParams;var s,l;return n&&(n.chain&&(n.program.body[0].closeStrip=i.strip),l=n.strip,s=n.program),r&&(r=s,s=e,e=r),new this.BlockStatement(t.path,t.params,t.hash,e,s,t.strip,l,i&&i.strip,this.locInfo(o))}var l={},c=t;return l.SourceLocation=e,l.stripFlags=n,l.stripComment=i,l.preparePath=r,l.prepareMustache=o,l.prepareRawBlock=a,l.prepareBlock=s,l}(e),h=function(t,e,n,i,r){"use strict";function o(t,e){if("Program"===t.type)return t;s.yy=d,d.locInfo=function(t){return new d.SourceLocation(e&&e.srcName,t)};var n=new c;return n.accept(s.parse(t))}var a={},s=t,l=e,c=n,u=i,h=r.extend;a.parser=s;var d={};return h(d,u,l),a.parse=o,a}(s,a,c,u,t),d=function(t,e,n){"use strict";function i(){}function r(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)}function o(t,e,n){function i(){var i=n.parse(t,e),r=(new n.Compiler).compile(i,e),o=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(o)}if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var r,o=function(t,e){return r||(r=i()),r.call(this,t,e)};return o._setup=function(t){return r||(r=i()),r._setup(t)},o._child=function(t,e,n,o){return r||(r=i()),r._child(t,e,n,o)},o}function a(t,e){if(t===e)return!0;if(u(t)&&u(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!a(t[n],e[n]))return!1;return!0}}function s(t){if(!t.path.parts){var e=t.path;t.path=new d.PathExpression(!1,0,[e.original+""],e.original+"",e.log)}}var l={},c=t,u=e.isArray,h=e.indexOf,d=n,p=[].slice;return l.Compiler=i,i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;e>n;n++){var i=this.opcodes[n],r=t.opcodes[n];if(i.opcode!==r.opcode||!a(i.args,r.args))return!1}for(e=this.children.length,n=0;e>n;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var i in n)e.knownHelpers[i]=n[i];return this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=0,i=e.length;i>n;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){s(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(t){this.usePartial=!0;var e=t.params;if(e.length>1)throw new c("Unsupported number of partial arguments: "+e.length,t);e.length||e.push({type:"PathExpression",parts:[],depth:0});var n=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,void 0,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",i,n,r),this.opcode("append")},MustacheStatement:function(t){this.SubExpression(t),this.opcode(t.escaped&&!this.options.noEscape?"appendEscaped":"append")},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){s(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){this.accept(t.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new c("You specified knownHelpersOnly, but used the unknown helper "+o,t);r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,d.helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=d.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts)):this.opcode("lookupOnContext",t.parts,t.falsy,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},Hash:function(t){var e,n,i=t.pairs;for(this.opcode("pushHash"),e=0,n=i.length;n>e;e++)this.pushParam(i[e].value);for(;e--;)this.opcode("assignToHash",i[e].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:p.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=d.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&d.helpers.helperExpression(t),r=!n&&(i||e),o=this.options;if(r&&!i){var a=t.path.parts[0];o.knownHelpers[a]?i=!0:o.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;n>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n;if(!t.parts||d.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else e=t.original||e,e.replace&&(e=e.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;n>e;e++){var i=this.options.blockParams[e],r=i&&h(i,t);if(i&&r>=0)return[e,r]}}},l.precompile=r,l.compile=o,l}(e,t,a),p=function(t){"use strict";function e(t,e,n){if(r(t)){for(var i=[],o=0,a=t.length;a>o;o++)i.push(e.wrap(t[o],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function n(t){this.srcFile=t,this.source=[]}var i,r=t.isArray;try{var o=require("source-map"),a=o.SourceNode}catch(s){a=function(t,e,n,i){this.src="",i&&this.add(i)},a.prototype={add:function(t){r(t)&&(t=t.join("")),this.src+=t},prepend:function(t){r(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}}return n.prototype={prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;n>e;e++)t(this.source[e])},empty:function(t){return t=t||this.currentLocation||{start:{}},new a(t.start.line,t.start.column,this.srcFile)},wrap:function(t,n){return t instanceof a?t:(n=n||this.currentLocation||{start:{}},t=e(t,this,n),new a(n.start.line,n.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=e(t[i],this);"undefined"!==r&&n.push([this.quotedString(i),":",r])}var o=this.generateList(n);return o.prepend("{"),o.add("}"),o},generateList:function(t,n){for(var i=this.empty(n),r=0,o=t.length;o>r;r++)r&&i.add(","),i.add(e(t[r],this,n));return i},generateArray:function(t,e){var n=this.generateList(t,e);return n.prepend("["),n.add("]"),n}},i=n}(t),f=function(t,e,n,i){"use strict";function r(t){this.value=t}function o(){}function a(t,e,n,i){var r=e.popStack(),o=0,a=n.length;for(t&&a--;a>o;o++)r=e.nameLookup(r,n[o],i);return t?[e.aliasable("this.strict"),"(",r,", ",e.quotedString(n[o]),")"]:r}var s,l=t.COMPILER_REVISION,c=t.REVISION_CHANGES,u=e,h=n.isArray,d=i;o.prototype={nameLookup:function(t,e){return o.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"['",e,"']"]},depthedLookup:function(t){return[this.aliasable("this.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=l,e=c[t];return[t,e]},appendToBuffer:function(t,e,n){return h(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r,o,a,s,l=t.opcodes;for(a=0,s=l.length;s>a;a++)r=l[a],this.source.currentLocation=r.loc,o=o||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new u("Compile completed with content left on stack");var c=this.createFunctionContext(i);if(this.isChild)return c;var h={compiler:this.compilerInfo(),main:c},d=this.context.programs;for(a=0,s=d.length;s>a;a++)d[a]&&(h[a]=d[a]);return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),i?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName}),h.map=h.map&&h.map.toString()):h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new d(this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var a=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(e);return t?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(t){var e,n,i,r,o=this.environment.isSimple,a=!this.forceBuffer;return this.source.each(function(t){t.appendToBuffer?(i?t.prepend("  + "):i=t,r=t):(i&&(n?i.prepend("buffer += "):e=!0,r.add(";"),i=r=void 0),n=!0,o||(a=!1))}),a?i?(i.prepend("return "),r.add(";")):n||this.source.push('return "";'):(t+=", buffer = "+(e?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),r.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(e?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n){var i=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++])),this.resolvePath("context",t,i,e)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e){this.pushStackLiteral(t?"this.data(data, "+t+")":"data"),this.resolvePath("data",e,0,!0)},resolvePath:function(t,e,n,i){if(this.options.strict||this.options.assumeObjects)return void this.push(a(this.options.strict,this,e,t));for(var r=e.length;r>n;n++)this.replaceStack(function(r){var o=this.nameLookup(r,e[n],t);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),o=n?[r.name," || "]:"",a=["("].concat(o,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=this.lastHelper=this.nameLookup("helpers",t,"helper"),o=["(","(helper = ",r," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],r=this.setupParams(e,1,i,!1);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",i.unshift(t?e:this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("this.invokePartial","",i))},assignToHash:function(t){var e,n,i,r=this.popStack();this.trackIds&&(i=this.popStack()),this.stringParams&&(n=this.popStack(),e=this.popStack());var o=this.hash;e&&(o.contexts[t]=e),n&&(o.types[t]=n),i&&(o.ids[t]=i),o.values[t]=r},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):this.pushStackLiteral("SubExpression"===t?"true":"null")},compiler:o,compileChildren:function(t,e){for(var n,i,r=t.children,o=0,a=r.length;a>o;o++){n=r[o],i=new this.compiler;var s=this.matchExistingProgram(n);null==s?(this.context.programs.push(""),s=this.context.programs.length,n.index=s,n.name="program"+s,this.context.programs[s]=i.compile(n,e,this.context,!this.precompile),this.context.environments[s]=n,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams):(n.index=s,n.name="program"+s,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;n>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"this.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof r||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new r(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e,n,i,o=["("];if(!this.isInline())throw new u("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof r)e=[a.value],o=["(",e],i=!0;else{n=!0;var s=this.incrStack();o=["((",this.push(s)," = ",a,")"],e=this.topStack()}var l=t.call(this,e);i||this.popStack(),n&&this.stackSlot--,this.push(o.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;n>e;e++){var i=t[e];if(i instanceof r)this.compileStack.push(i);else{var o=this.incrStack();this.pushSource([o," = ",i,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof r)return n.value;if(!e){if(!this.stackSlot)throw new u("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof r?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[],r=this.setupHelperArgs(e,t,i,n),o=this.nameLookup("helpers",e,"helper");return{params:i,paramsInit:r,name:o,callParams:[this.contextName(0)].concat(i)}},setupParams:function(t,e,n){var i,r={},o=[],a=[],s=[];r.name=this.quotedString(t),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var l=this.popStack(),c=this.popStack();(c||l)&&(r.fn=c||"this.noop",r.inverse=l||"this.noop");for(var u=e;u--;)i=this.popStack(),n[u]=i,this.trackIds&&(s[u]=this.popStack()),this.stringParams&&(a[u]=this.popStack(),o[u]=this.popStack());return this.trackIds&&(r.ids=this.source.generateArray(s)),this.stringParams&&(r.types=this.source.generateArray(a),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(t,e,n,i){var r=this.setupParams(t,e,n,!0);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):(n.push(r),"")}};for(var p="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),f=o.RESERVED_WORDS={},g=0,m=p.length;m>g;g++)f[p[g]]=!0;return o.isValidJavaScriptVariableName=function(t){return!o.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},s=o}(n,e,t,p),g=function(t,e,n,i,r){"use strict";var o,a=t,s=e,l=n.parser,c=n.parse,u=i.Compiler,h=i.compile,d=i.precompile,p=r,f=a.create,g=function(){var t=f();return t.compile=function(e,n){return h(e,n,t)},t.precompile=function(e,n){return d(e,n,t)},t.AST=s,t.Compiler=u,t.JavaScriptCompiler=p,t.Parser=l,t.parse=c,t};a=g(),a.create=g;var m="undefined"!=typeof global?global:window,v=m.Handlebars;return a.noConflict=function(){m.Handlebars===a&&(m.Handlebars=v)},a["default"]=a,o=a}(o,a,h,d,f);return g}),Handlebars.registerHelper("format_date_from_string",function(t){return"undefined"!=typeof t?(t=t.split("-"),$.datepicker.formatDate("M d, yy",new Date(t[0],t[1]-1,t[2]))):""}),Handlebars.registerHelper("truncate",function(t,e){if(t.length>e&&t.length>0){var n=t+" ";return n=t.substr(0,e),n=t.substr(0,n.lastIndexOf(" ")),n=n.length>0?n:t.substr(0,e),new Handlebars.SafeString(n+"...")}return t}),Handlebars.registerHelper("isSelected",function(t,e){return parseInt(t)==e?"selected":""}),Handlebars.registerHelper("item_icon_name",function(t){var e;switch(t){case"AB":case"RESTRICTED_BOOK_CD":case"SPOKEN_CD":case"CDROM":case"BOOK_CD":e="icon-headphones";break;case"LP":case"CS":case"MP3_CD":case"MN":case"MANUSCRIPT_MUSIC":case"MUSIC_ONLINE":case"MUSIC_DOWNLOAD":case"MUSIC_CD":e="icon-music";break;case"BK":case"BOARD_BK":case"BOOK_CLUB_KIT":case"GRAPHIC_NOVEL":case"PAPERBACK":e="icon-book-open";break;case"EBOOK":case"EJ":e="icon-tablet";break;case"LPRINT":e="icon-font";break;case"BLURAY":case"DVD":e="icon-cd";break;default:e="icon-open-book"}return e}),Handlebars.registerHelper("script_tag",function(t){var e='<script src="'+t+'" type="text/javascript"></script>';return new Handlebars.SafeString(e)}),Handlebars.registerHelper("format_number_with_commas",function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Handlebars.registerHelper("gtzero",function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=!!e.hash.any,i=t.filter(function(t){return parseInt(t)>0}),r=n?0!==i.length:i.length===t.length;return r?e.fn(this):e.inverse(this)}),/*
 * File:        jquery.dataTables.min.js
 * Version:     1.9.4
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Info:        www.datatables.net
 * 
 * Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 * 
 * This source file is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 */
function(X,l,n){var L=function(h){var j=function(e){function o(t,e){var i=j.defaults.columns,r=t.aoColumns.length,i=h.extend({},j.models.oColumn,i,{sSortingClass:t.oClasses.sSortable,sSortingClassJUI:t.oClasses.sSortJUI,nTh:e?e:l.createElement("th"),sTitle:i.sTitle?i.sTitle:e?e.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[r],mData:i.mData?i.oDefaults:r});t.aoColumns.push(i),t.aoPreSearchCols[r]===n||null===t.aoPreSearchCols[r]?t.aoPreSearchCols[r]=h.extend({},j.models.oSearch):(i=t.aoPreSearchCols[r],i.bRegex===n&&(i.bRegex=!0),i.bSmart===n&&(i.bSmart=!0),i.bCaseInsensitive===n&&(i.bCaseInsensitive=!0)),m(t,r,null)}function m(t,e,i){var r=t.aoColumns[e];i!==n&&null!==i&&(i.mDataProp&&!i.mData&&(i.mData=i.mDataProp),i.sType!==n&&(r.sType=i.sType,r._bAutoType=!1),h.extend(r,i),p(r,i,"sWidth","sWidthOrig"),i.iDataSort!==n&&(r.aDataSort=[i.iDataSort]),p(r,i,"aDataSort"));var o=r.mRender?Q(r.mRender):null,a=Q(r.mData);r.fnGetData=function(t,e){var n=a(t,e);return r.mRender&&e&&""!==e?o(n,e,t):n},r.fnSetData=L(r.mData),t.oFeatures.bSort||(r.bSortable=!1),!r.bSortable||-1==h.inArray("asc",r.asSorting)&&-1==h.inArray("desc",r.asSorting)?(r.sSortingClass=t.oClasses.sSortableNone,r.sSortingClassJUI=""):-1==h.inArray("asc",r.asSorting)&&-1==h.inArray("desc",r.asSorting)?(r.sSortingClass=t.oClasses.sSortable,r.sSortingClassJUI=t.oClasses.sSortJUI):-1!=h.inArray("asc",r.asSorting)&&-1==h.inArray("desc",r.asSorting)?(r.sSortingClass=t.oClasses.sSortableAsc,r.sSortingClassJUI=t.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",r.asSorting)&&-1!=h.inArray("desc",r.asSorting)&&(r.sSortingClass=t.oClasses.sSortableDesc,r.sSortingClassJUI=t.oClasses.sSortJUIDescAllowed)}function k(t){if(!1===t.oFeatures.bAutoWidth)return!1;da(t);for(var e=0,n=t.aoColumns.length;n>e;e++)t.aoColumns[e].nTh.style.width=t.aoColumns[e].sWidth}function G(t,e){var n=r(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function R(t,e){var n=r(t,"bVisible"),n=h.inArray(e,n);return-1!==n?n:null}function t(t){return r(t,"bVisible").length}function r(t,e){var n=[];return h.map(t.aoColumns,function(t,i){t[e]&&n.push(i)}),n}function B(t){for(var e=j.ext.aTypes,n=e.length,i=0;n>i;i++){var r=e[i](t);if(null!==r)return r}return"string"}function u(t,e){for(var n=e.split(","),i=[],r=0,o=t.aoColumns.length;o>r;r++)for(var a=0;o>a;a++)if(t.aoColumns[r].sName==n[a]){i.push(a);break}return i}function M(t){for(var e="",n=0,i=t.aoColumns.length;i>n;n++)e+=t.aoColumns[n].sName+",";return e.length==i?"":e.slice(0,-1)}function ta(t,e,n,i){var r,a,s,l,c;if(e)for(r=e.length-1;r>=0;r--){var u=e[r].aTargets;for(h.isArray(u)||D(t,1,"aTargets must be an array of targets, not a "+typeof u),a=0,s=u.length;s>a;a++)if("number"==typeof u[a]&&0<=u[a]){for(;t.aoColumns.length<=u[a];)o(t);i(u[a],e[r])}else if("number"==typeof u[a]&&0>u[a])i(t.aoColumns.length+u[a],e[r]);else if("string"==typeof u[a])for(l=0,c=t.aoColumns.length;c>l;l++)("_all"==u[a]||h(t.aoColumns[l].nTh).hasClass(u[a]))&&i(l,e[r])}if(n)for(r=0,t=n.length;t>r;r++)i(r,n[r])}function H(t,e){var n;n=h.isArray(e)?e.slice():h.extend(!0,{},e);var i=t.aoData.length,r=h.extend(!0,{},j.models.oRow);r._aData=n,t.aoData.push(r);for(var o,r=0,a=t.aoColumns.length;a>r;r++)n=t.aoColumns[r],"function"==typeof n.fnRender&&n.bUseRendered&&null!==n.mData?F(t,i,r,S(t,i,r)):F(t,i,r,v(t,i,r)),n._bAutoType&&"string"!=n.sType&&(o=v(t,i,r,"type"),null!==o&&""!==o&&(o=B(o),null===n.sType?n.sType=o:n.sType!=o&&"html"!=n.sType&&(n.sType="string")));return t.aiDisplayMaster.push(i),t.oFeatures.bDeferRender||ea(t,i),i}function ua(t){var e,n,i,r,o,a,s;if(t.bDeferLoading||null===t.sAjaxSource)for(e=t.nTBody.firstChild;e;){if("TR"==e.nodeName.toUpperCase())for(n=t.aoData.length,e._DT_RowIndex=n,t.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:e})),t.aiDisplayMaster.push(n),o=e.firstChild,i=0;o;)a=o.nodeName.toUpperCase(),("TD"==a||"TH"==a)&&(F(t,n,i,h.trim(o.innerHTML)),i++),o=o.nextSibling;e=e.nextSibling}for(r=T(t),i=[],e=0,n=r.length;n>e;e++)for(o=r[e].firstChild;o;)a=o.nodeName.toUpperCase(),("TD"==a||"TH"==a)&&i.push(o),o=o.nextSibling;for(n=0,r=t.aoColumns.length;r>n;n++){s=t.aoColumns[n],null===s.sTitle&&(s.sTitle=s.nTh.innerHTML);var l,c,u=s._bAutoType,d="function"==typeof s.fnRender,p=null!==s.sClass,f=s.bVisible;if(u||d||p||!f)for(a=0,e=t.aoData.length;e>a;a++)o=t.aoData[a],l=i[a*r+n],u&&"string"!=s.sType&&(c=v(t,a,n,"type"),""!==c&&(c=B(c),null===s.sType?s.sType=c:s.sType!=c&&"html"!=s.sType&&(s.sType="string"))),s.mRender?l.innerHTML=v(t,a,n,"display"):s.mData!==n&&(l.innerHTML=v(t,a,n,"display")),d&&(c=S(t,a,n),l.innerHTML=c,s.bUseRendered&&F(t,a,n,c)),p&&(l.className+=" "+s.sClass),f?o._anHidden[n]=null:(o._anHidden[n]=l,l.parentNode.removeChild(l)),s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,l,v(t,a,n,"display"),o._aData,a,n)}if(0!==t.aoRowCreatedCallback.length)for(e=0,n=t.aoData.length;n>e;e++)o=t.aoData[e],A(t,"aoRowCreatedCallback",null,[o.nTr,o._aData,e])}function I(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null}function fa(t,e,n){for(var e=J(t,e),i=0,t=t.aoColumns.length;t>i;i++)if(e[i]===n)return i;return-1}function Y(t,e,n,i){for(var r=[],o=0,a=i.length;a>o;o++)r.push(v(t,e,i[o],n));return r}function v(t,e,i,r){var o=t.aoColumns[i];if((i=o.fnGetData(t.aoData[e]._aData,r))===n)return t.iDrawError!=t.iDraw&&null===o.sDefaultContent&&(D(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{mData function}":"'"+o.mData+"'")+" from the data source for row "+e),t.iDrawError=t.iDraw),o.sDefaultContent;if(null===i&&null!==o.sDefaultContent)i=o.sDefaultContent;else if("function"==typeof i)return i();return"display"==r&&null===i?"":i}function F(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i)}function Q(t){if(null===t)return function(){return null};if("function"==typeof t)return function(e,n,i){return t(e,n,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("["))){var e=function(t,i,r){var o,a=r.split(".");if(""!==r){var s=0;for(o=a.length;o>s;s++){if(r=a[s].match(U)){a[s]=a[s].replace(U,""),""!==a[s]&&(t=t[a[s]]),o=[],a.splice(0,s+1);for(var a=a.join("."),s=0,l=t.length;l>s;s++)o.push(e(t[s],i,a));t=r[0].substring(1,r[0].length-1),t=""===t?o:o.join(t);break}if(null===t||t[a[s]]===n)return n;t=t[a[s]]}}return t};return function(n,i){return e(n,i,t)}}return function(e){return e[t]}}function L(t){if(null===t)return function(){};if("function"==typeof t)return function(e,n){t(e,"set",n)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("["))){var e=function(t,i,r){var o,a,r=r.split("."),s=0;for(a=r.length-1;a>s;s++){if(o=r[s].match(U)){r[s]=r[s].replace(U,""),t[r[s]]=[],o=r.slice(),o.splice(0,s+1),a=o.join(".");for(var l=0,c=i.length;c>l;l++)o={},e(o,i[l],a),t[r[s]].push(o);return}(null===t[r[s]]||t[r[s]]===n)&&(t[r[s]]={}),t=t[r[s]]}t[r[r.length-1].replace(U,"")]=i};return function(n,i){return e(n,i,t)}}return function(e,n){e[t]=n}}function Z(t){for(var e=[],n=t.aoData.length,i=0;n>i;i++)e.push(t.aoData[i]._aData);return e}function ga(t){t.aoData.splice(0,t.aoData.length),t.aiDisplayMaster.splice(0,t.aiDisplayMaster.length),t.aiDisplay.splice(0,t.aiDisplay.length),y(t)}function ha(t,e){for(var n=-1,i=0,r=t.length;r>i;i++)t[i]==e?n=i:t[i]>e&&t[i]--;-1!=n&&t.splice(n,1)}function S(t,e,n){var i=t.aoColumns[n];return i.fnRender({iDataRow:e,iDataColumn:n,oSettings:t,aData:t.aoData[e]._aData,mDataProp:i.mData},v(t,e,n,"display"))}function ea(t,e){var n,i=t.aoData[e];if(null===i.nTr){i.nTr=l.createElement("tr"),i.nTr._DT_RowIndex=e,i._aData.DT_RowId&&(i.nTr.id=i._aData.DT_RowId),i._aData.DT_RowClass&&(i.nTr.className=i._aData.DT_RowClass);for(var r=0,o=t.aoColumns.length;o>r;r++){var a=t.aoColumns[r];n=l.createElement(a.sCellType),n.innerHTML="function"!=typeof a.fnRender||a.bUseRendered&&null!==a.mData?v(t,e,r,"display"):S(t,e,r),null!==a.sClass&&(n.className=a.sClass),a.bVisible?(i.nTr.appendChild(n),i._anHidden[r]=null):i._anHidden[r]=n,a.fnCreatedCell&&a.fnCreatedCell.call(t.oInstance,n,v(t,e,r,"display"),i._aData,e,r)}A(t,"aoRowCreatedCallback",null,[i.nTr,i._aData,e])}}function va(t){var e,n,i;if(0!==h("th, td",t.nTHead).length)for(e=0,i=t.aoColumns.length;i>e;e++)n=t.aoColumns[e].nTh,n.setAttribute("role","columnheader"),t.aoColumns[e].bSortable&&(n.setAttribute("tabindex",t.iTabIndex),n.setAttribute("aria-controls",t.sTableId)),null!==t.aoColumns[e].sClass&&h(n).addClass(t.aoColumns[e].sClass),t.aoColumns[e].sTitle!=n.innerHTML&&(n.innerHTML=t.aoColumns[e].sTitle);else{var r=l.createElement("tr");for(e=0,i=t.aoColumns.length;i>e;e++)n=t.aoColumns[e].nTh,n.innerHTML=t.aoColumns[e].sTitle,n.setAttribute("tabindex","0"),null!==t.aoColumns[e].sClass&&h(n).addClass(t.aoColumns[e].sClass),r.appendChild(n);h(t.nTHead).html("")[0].appendChild(r),V(t.aoHeader,t.nTHead)}if(h(t.nTHead).children("tr").attr("role","row"),t.bJUI)for(e=0,i=t.aoColumns.length;i>e;e++){n=t.aoColumns[e].nTh,r=l.createElement("div"),r.className=t.oClasses.sSortJUIWrapper,h(n).contents().appendTo(r);var o=l.createElement("span");o.className=t.oClasses.sSortIcon,r.appendChild(o),n.appendChild(r)}if(t.oFeatures.bSort)for(e=0;e<t.aoColumns.length;e++)!1!==t.aoColumns[e].bSortable?ia(t,t.aoColumns[e].nTh,e):h(t.aoColumns[e].nTh).addClass(t.oClasses.sSortableNone);if(""!==t.oClasses.sFooterTH&&h(t.nTFoot).children("tr").children("th").addClass(t.oClasses.sFooterTH),null!==t.nTFoot)for(n=N(t,null,t.aoFooter),e=0,i=t.aoColumns.length;i>e;e++)n[e]&&(t.aoColumns[e].nTf=n[e],t.aoColumns[e].sClass&&h(n[e]).addClass(t.aoColumns[e].sClass))}function W(t,e,i){var r,o,a,s,l=[],c=[],u=t.aoColumns.length;for(i===n&&(i=!1),r=0,o=e.length;o>r;r++){for(l[r]=e[r].slice(),l[r].nTr=e[r].nTr,a=u-1;a>=0;a--)!t.aoColumns[a].bVisible&&!i&&l[r].splice(a,1);c.push([])}for(r=0,o=l.length;o>r;r++){if(t=l[r].nTr)for(;a=t.firstChild;)t.removeChild(a);for(a=0,e=l[r].length;e>a;a++)if(s=u=1,c[r][a]===n){for(t.appendChild(l[r][a].cell),c[r][a]=1;l[r+u]!==n&&l[r][a].cell==l[r+u][a].cell;)c[r+u][a]=1,u++;for(;l[r][a+s]!==n&&l[r][a].cell==l[r][a+s].cell;){for(i=0;u>i;i++)c[r+i][a+s]=1;s++}l[r][a].cell.rowSpan=u,l[r][a].cell.colSpan=s}}}function x(e){var i=A(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==h.inArray(!1,i))E(e,!1);else{var r,o,i=[],a=0,s=e.asStripeClasses.length;if(r=e.aoOpenRows.length,e.bDrawing=!0,e.iInitDisplayStart!==n&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,y(e)),e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!wa(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var c=e._iDisplayStart;for(o=e._iDisplayEnd,e.oFeatures.bServerSide&&(c=0,o=e.aoData.length);o>c;c++){var u=e.aoData[e.aiDisplay[c]];null===u.nTr&&ea(e,e.aiDisplay[c]);var d=u.nTr;if(0!==s){var p=e.asStripeClasses[a%s];u._sRowStripe!=p&&(h(d).removeClass(u._sRowStripe).addClass(p),u._sRowStripe=p)}if(A(e,"aoRowCallback",null,[d,e.aoData[e.aiDisplay[c]]._aData,a,c]),i.push(d),a++,0!==r)for(u=0;r>u;u++)if(d==e.aoOpenRows[u].nParent){i.push(e.aoOpenRows[u].nTr);break}}}else i[0]=l.createElement("tr"),e.asStripeClasses[0]&&(i[0].className=e.asStripeClasses[0]),r=e.oLanguage,s=r.sZeroRecords,1!=e.iDraw||null===e.sAjaxSource||e.oFeatures.bServerSide?r.sEmptyTable&&0===e.fnRecordsTotal()&&(s=r.sEmptyTable):s=r.sLoadingRecords,r=l.createElement("td"),r.setAttribute("valign","top"),r.colSpan=t(e),r.className=e.oClasses.sRowEmpty,r.innerHTML=ja(e,s),i[a].appendChild(r);if(A(e,"aoHeaderCallback","header",[h(e.nTHead).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),A(e,"aoFooterCallback","footer",[h(e.nTFoot).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),a=l.createDocumentFragment(),r=l.createDocumentFragment(),e.nTBody){if(s=e.nTBody.parentNode,r.appendChild(e.nTBody),!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;r=e.nTBody.firstChild;)e.nTBody.removeChild(r);for(r=0,o=i.length;o>r;r++)a.appendChild(i[r]);e.nTBody.appendChild(a),null!==s&&s.appendChild(e.nTBody)}A(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(E(e,!1),e._bInitComplete||$(e))}}function aa(t){t.oFeatures.bSort?O(t,t.oPreviousSearch):t.oFeatures.bFilter?K(t,t.oPreviousSearch):(y(t),x(t))}function xa(t){var e=h("<div></div>")[0];t.nTable.parentNode.insertBefore(e,t.nTable),t.nTableWrapper=h('<div id="'+t.sTableId+'_wrapper" class="'+t.oClasses.sWrapper+'" role="grid"></div>')[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var n,i,r,o,a,s,l,c=t.nTableWrapper,u=t.sDom.split(""),d=0;d<u.length;d++){if(i=0,r=u[d],"<"==r){if(o=h("<div></div>")[0],a=u[d+1],"'"==a||'"'==a){for(s="",l=2;u[d+l]!=a;)s+=u[d+l],l++;"H"==s?s=t.oClasses.sJUIHeader:"F"==s&&(s=t.oClasses.sJUIFooter),-1!=s.indexOf(".")?(a=s.split("."),o.id=a[0].substr(1,a[0].length-1),o.className=a[1]):"#"==s.charAt(0)?o.id=s.substr(1,s.length-1):o.className=s,d+=l}c.appendChild(o),c=o}else if(">"==r)c=c.parentNode;else if("l"==r&&t.oFeatures.bPaginate&&t.oFeatures.bLengthChange)n=ya(t),i=1;else if("f"==r&&t.oFeatures.bFilter)n=za(t),i=1;else if("r"==r&&t.oFeatures.bProcessing)n=Aa(t),i=1;else if("t"==r)n=Ba(t),i=1;else if("i"==r&&t.oFeatures.bInfo)n=Ca(t),i=1;else if("p"==r&&t.oFeatures.bPaginate)n=Da(t),i=1;else if(0!==j.ext.aoFeatures.length)for(o=j.ext.aoFeatures,l=0,a=o.length;a>l;l++)if(r==o[l].cFeature){(n=o[l].fnInit(t))&&(i=1);break}1==i&&null!==n&&("object"!=typeof t.aanFeatures[r]&&(t.aanFeatures[r]=[]),t.aanFeatures[r].push(n),c.appendChild(n))}e.parentNode.replaceChild(t.nTableWrapper,e)}function V(t,e){var n,i,r,o,a,s,l,c,u,d,p=h(e).children("tr");for(t.splice(0,t.length),r=0,s=p.length;s>r;r++)t.push([]);for(r=0,s=p.length;s>r;r++)for(n=p[r],i=n.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(c=1*i.getAttribute("colspan"),u=1*i.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,u=u&&0!==u&&1!==u?u:1,o=0,a=t[r];a[o];)o++;for(l=o,d=1===c?!0:!1,a=0;c>a;a++)for(o=0;u>o;o++)t[r+o][l+a]={cell:i,unique:d},t[r+o].nTr=n}i=i.nextSibling}}function N(t,e,n){var i=[];n||(n=t.aoHeader,e&&(n=[],V(n,e)));for(var e=0,r=n.length;r>e;e++)for(var o=0,a=n[e].length;a>o;o++)!n[e][o].unique||i[o]&&t.bSortCellsTop||(i[o]=n[e][o].cell);return i}function wa(t){if(t.bAjaxDataGet){t.iDraw++,E(t,!0);var e=Ea(t);return ka(t,e),t.fnServerData.call(t.oInstance,t.sAjaxSource,e,function(e){Fa(t,e)},t),!1}return!0}function Ea(t){var e,n,i,r,o=t.aoColumns.length,a=[];for(a.push({name:"sEcho",value:t.iDraw}),a.push({name:"iColumns",value:o}),a.push({name:"sColumns",value:M(t)}),a.push({name:"iDisplayStart",value:t._iDisplayStart}),a.push({name:"iDisplayLength",value:!1!==t.oFeatures.bPaginate?t._iDisplayLength:-1}),i=0;o>i;i++)e=t.aoColumns[i].mData,a.push({name:"mDataProp_"+i,value:"function"==typeof e?"function":e});if(!1!==t.oFeatures.bFilter)for(a.push({name:"sSearch",value:t.oPreviousSearch.sSearch}),a.push({name:"bRegex",value:t.oPreviousSearch.bRegex}),i=0;o>i;i++)a.push({name:"sSearch_"+i,value:t.aoPreSearchCols[i].sSearch}),a.push({name:"bRegex_"+i,value:t.aoPreSearchCols[i].bRegex}),a.push({name:"bSearchable_"+i,value:t.aoColumns[i].bSearchable});if(!1!==t.oFeatures.bSort){var s=0;for(e=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),i=0;i<e.length;i++)for(n=t.aoColumns[e[i][0]].aDataSort,r=0;r<n.length;r++)a.push({name:"iSortCol_"+s,value:n[r]}),a.push({name:"sSortDir_"+s,value:e[i][1]}),s++;for(a.push({name:"iSortingCols",value:s}),i=0;o>i;i++)a.push({name:"bSortable_"+i,value:t.aoColumns[i].bSortable})}return a}function ka(t,e){A(t,"aoServerParams","serverParams",[e])}function Fa(t,e){if(e.sEcho!==n){if(1*e.sEcho<t.iDraw)return;t.iDraw=1*e.sEcho}(!t.oScroll.bInfinite||t.oScroll.bInfinite&&(t.bSorted||t.bFiltered))&&ga(t),t._iRecordsTotal=parseInt(e.iTotalRecords,10),t._iRecordsDisplay=parseInt(e.iTotalDisplayRecords,10);var i,r=M(t),r=e.sColumns!==n&&""!==r&&e.sColumns!=r;r&&(i=u(t,e.sColumns));for(var o=Q(t.sAjaxDataProp)(e),a=0,s=o.length;s>a;a++)if(r){for(var l=[],c=0,h=t.aoColumns.length;h>c;c++)l.push(o[a][i[c]]);H(t,l)}else H(t,o[a]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,x(t),t.bAjaxDataGet=!0,E(t,!1)}function za(t){var e=t.oPreviousSearch,n=t.oLanguage.sSearch,n=-1!==n.indexOf("_INPUT_")?n.replace("_INPUT_",'<input type="text" />'):""===n?'<input type="text" />':n+' <input type="text" />',i=l.createElement("div");return i.className=t.oClasses.sFilter,i.innerHTML="<label>"+n+"</label>",t.aanFeatures.f||(i.id=t.sTableId+"_filter"),n=h('input[type="text"]',i),i._DT_Input=n[0],n.val(e.sSearch.replace('"',"&quot;")),n.bind("keyup.DT",function(){for(var n=t.aanFeatures.f,i=""===this.value?"":this.value,r=0,o=n.length;o>r;r++)n[r]!=h(this).parents("div.dataTables_filter")[0]&&h(n[r]._DT_Input).val(i);i!=e.sSearch&&K(t,{sSearch:i,bRegex:e.bRegex,bSmart:e.bSmart,bCaseInsensitive:e.bCaseInsensitive})}),n.attr("aria-controls",t.sTableId).bind("keypress.DT",function(t){return 13==t.keyCode?!1:void 0}),i}function K(t,e,n){var i=t.oPreviousSearch,r=t.aoPreSearchCols,o=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive};if(t.oFeatures.bServerSide)o(e);else{for(Ga(t,e.sSearch,n,e.bRegex,e.bSmart,e.bCaseInsensitive),o(e),e=0;e<t.aoPreSearchCols.length;e++)Ha(t,r[e].sSearch,e,r[e].bRegex,r[e].bSmart,r[e].bCaseInsensitive);Ia(t)}t.bFiltered=!0,h(t.oInstance).trigger("filter",t),t._iDisplayStart=0,y(t),x(t),la(t,0)}function Ia(t){for(var e=j.ext.afnFiltering,n=r(t,"bSearchable"),i=0,o=e.length;o>i;i++)for(var a=0,s=0,l=t.aiDisplay.length;l>s;s++){var c=t.aiDisplay[s-a];e[i](t,Y(t,c,"filter",n),c)||(t.aiDisplay.splice(s-a,1),a++)}}function Ha(t,e,n,i,r,o){if(""!==e)for(var a=0,e=ma(e,i,r,o),i=t.aiDisplay.length-1;i>=0;i--)r=Ja(v(t,t.aiDisplay[i],n,"filter"),t.aoColumns[n].sType),e.test(r)||(t.aiDisplay.splice(i,1),a++)}function Ga(t,e,n,i,r,o){if(i=ma(e,i,r,o),r=t.oPreviousSearch,n||(n=0),0!==j.ext.afnFiltering.length&&(n=1),0>=e.length)t.aiDisplay.splice(0,t.aiDisplay.length),t.aiDisplay=t.aiDisplayMaster.slice();else if(t.aiDisplay.length==t.aiDisplayMaster.length||r.sSearch.length>e.length||1==n||0!==e.indexOf(r.sSearch))for(t.aiDisplay.splice(0,t.aiDisplay.length),la(t,1),e=0;e<t.aiDisplayMaster.length;e++)i.test(t.asDataSearch[e])&&t.aiDisplay.push(t.aiDisplayMaster[e]);else for(e=n=0;e<t.asDataSearch.length;e++)i.test(t.asDataSearch[e])||(t.aiDisplay.splice(e-n,1),n++)}function la(t,e){if(!t.oFeatures.bServerSide){t.asDataSearch=[];for(var n=r(t,"bSearchable"),i=1===e?t.aiDisplayMaster:t.aiDisplay,o=0,a=i.length;a>o;o++)t.asDataSearch[o]=na(t,Y(t,i[o],"filter",n))}}function na(t,e){var n=e.join("  ");return-1!==n.indexOf("&")&&(n=h("<div>").html(n).text()),n.replace(/[\n\r]/g," ")}function ma(t,e,n,i){return n?(t=e?t.split(" "):oa(t).split(" "),t="^(?=.*?"+t.join(")(?=.*?")+").*$",RegExp(t,i?"i":"")):(t=e?t:oa(t),RegExp(t,i?"i":""))}function Ja(t,e){return"function"==typeof j.ext.ofnSearch[e]?j.ext.ofnSearch[e](t):null===t?"":"html"==e?t.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof t?t.replace(/[\r\n]/g," "):t}function oa(t){return t.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(t){var e=l.createElement("div");return e.className=t.oClasses.sInfo,t.aanFeatures.i||(t.aoDrawCallback.push({fn:Ka,sName:"information"}),e.id=t.sTableId+"_info"),t.nTable.setAttribute("aria-describedby",t.sTableId+"_info"),e}function Ka(t){if(t.oFeatures.bInfo&&0!==t.aanFeatures.i.length){var e,n=t.oLanguage,i=t._iDisplayStart+1,r=t.fnDisplayEnd(),o=t.fnRecordsTotal(),a=t.fnRecordsDisplay();for(e=0===a?n.sInfoEmpty:n.sInfo,a!=o&&(e+=" "+n.sInfoFiltered),e+=n.sInfoPostFix,e=ja(t,e),null!==n.fnInfoCallback&&(e=n.fnInfoCallback.call(t.oInstance,t,i,r,o,a,e)),t=t.aanFeatures.i,n=0,i=t.length;i>n;n++)h(t[n]).html(e)}}function ja(t,e){var n=t.fnFormatNumber(t._iDisplayStart+1),i=t.fnDisplayEnd(),i=t.fnFormatNumber(i),r=t.fnRecordsDisplay(),r=t.fnFormatNumber(r),o=t.fnRecordsTotal(),o=t.fnFormatNumber(o);return t.oScroll.bInfinite&&(n=t.fnFormatNumber(1)),e.replace(/_START_/g,n).replace(/_END_/g,i).replace(/_TOTAL_/g,r).replace(/_MAX_/g,o)}function ba(t){var e,n,i=t.iInitDisplayStart;if(!1===t.bInitialised)setTimeout(function(){ba(t)},200);else{for(xa(t),va(t),W(t,t.aoHeader),t.nTFoot&&W(t,t.aoFooter),E(t,!0),t.oFeatures.bAutoWidth&&da(t),e=0,n=t.aoColumns.length;n>e;e++)null!==t.aoColumns[e].sWidth&&(t.aoColumns[e].nTh.style.width=q(t.aoColumns[e].sWidth));t.oFeatures.bSort?O(t):t.oFeatures.bFilter?K(t,t.oPreviousSearch):(t.aiDisplay=t.aiDisplayMaster.slice(),y(t),x(t)),null===t.sAjaxSource||t.oFeatures.bServerSide?t.oFeatures.bServerSide||(E(t,!1),$(t)):(n=[],ka(t,n),t.fnServerData.call(t.oInstance,t.sAjaxSource,n,function(n){var r=""!==t.sAjaxDataProp?Q(t.sAjaxDataProp)(n):n;for(e=0;e<r.length;e++)H(t,r[e]);t.iInitDisplayStart=i,t.oFeatures.bSort?O(t):(t.aiDisplay=t.aiDisplayMaster.slice(),y(t),x(t)),E(t,!1),$(t,n)},t))}}function $(t,e){t._bInitComplete=!0,A(t,"aoInitComplete","init",[t,e])}function pa(t){var e=j.defaults.oLanguage;!t.sEmptyTable&&t.sZeroRecords&&"No data available in table"===e.sEmptyTable&&p(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&t.sZeroRecords&&"Loading..."===e.sLoadingRecords&&p(t,t,"sZeroRecords","sLoadingRecords")}function ya(t){if(t.oScroll.bInfinite)return null;var e,n,i='<select size="1" '+('name="'+t.sTableId+'_length"')+">",r=t.aLengthMenu;if(2==r.length&&"object"==typeof r[0]&&"object"==typeof r[1])for(e=0,n=r[0].length;n>e;e++)i+='<option value="'+r[0][e]+'">'+r[1][e]+"</option>";else for(e=0,n=r.length;n>e;e++)i+='<option value="'+r[e]+'">'+r[e]+"</option>";return i+="</select>",r=l.createElement("div"),t.aanFeatures.l||(r.id=t.sTableId+"_length"),r.className=t.oClasses.sLength,r.innerHTML="<label>"+t.oLanguage.sLengthMenu.replace("_MENU_",i)+"</label>",h('select option[value="'+t._iDisplayLength+'"]',r).attr("selected",!0),h("select",r).bind("change.DT",function(){var i=h(this).val(),r=t.aanFeatures.l;for(e=0,n=r.length;n>e;e++)r[e]!=this.parentNode&&h("select",r[e]).val(i);t._iDisplayLength=parseInt(i,10),y(t),t.fnDisplayEnd()==t.fnRecordsDisplay()&&(t._iDisplayStart=t.fnDisplayEnd()-t._iDisplayLength,t._iDisplayStart<0&&(t._iDisplayStart=0)),-1==t._iDisplayLength&&(t._iDisplayStart=0),x(t)}),h("select",r).attr("aria-controls",t.sTableId),r}function y(t){t._iDisplayEnd=!1===t.oFeatures.bPaginate?t.aiDisplay.length:t._iDisplayStart+t._iDisplayLength>t.aiDisplay.length||-1==t._iDisplayLength?t.aiDisplay.length:t._iDisplayStart+t._iDisplayLength}function Da(t){if(t.oScroll.bInfinite)return null;var e=l.createElement("div");return e.className=t.oClasses.sPaging+t.sPaginationType,j.ext.oPagination[t.sPaginationType].fnInit(t,e,function(t){y(t),x(t)}),t.aanFeatures.p||t.aoDrawCallback.push({fn:function(t){j.ext.oPagination[t.sPaginationType].fnUpdate(t,function(t){y(t),x(t)})},sName:"pagination"}),e}function qa(t,e){var n=t._iDisplayStart;if("number"==typeof e)t._iDisplayStart=e*t._iDisplayLength,t._iDisplayStart>t.fnRecordsDisplay()&&(t._iDisplayStart=0);else if("first"==e)t._iDisplayStart=0;else if("previous"==e)t._iDisplayStart=0<=t._iDisplayLength?t._iDisplayStart-t._iDisplayLength:0,0>t._iDisplayStart&&(t._iDisplayStart=0);else if("next"==e)0<=t._iDisplayLength?t._iDisplayStart+t._iDisplayLength<t.fnRecordsDisplay()&&(t._iDisplayStart+=t._iDisplayLength):t._iDisplayStart=0;else if("last"==e)if(0<=t._iDisplayLength){var i=parseInt((t.fnRecordsDisplay()-1)/t._iDisplayLength,10)+1;t._iDisplayStart=(i-1)*t._iDisplayLength}else t._iDisplayStart=0;else D(t,0,"Unknown paging action: "+e);return h(t.oInstance).trigger("page",t),n!=t._iDisplayStart}function Aa(t){var e=l.createElement("div");return t.aanFeatures.r||(e.id=t.sTableId+"_processing"),e.innerHTML=t.oLanguage.sProcessing,e.className=t.oClasses.sProcessing,t.nTable.parentNode.insertBefore(e,t.nTable),e}function E(t,e){if(t.oFeatures.bProcessing)for(var n=t.aanFeatures.r,i=0,r=n.length;r>i;i++)n[i].style.visibility=e?"visible":"hidden";h(t.oInstance).trigger("processing",[t,e])}function Ba(t){if(""===t.oScroll.sX&&""===t.oScroll.sY)return t.nTable;var e=l.createElement("div"),n=l.createElement("div"),i=l.createElement("div"),r=l.createElement("div"),o=l.createElement("div"),a=l.createElement("div"),s=t.nTable.cloneNode(!1),c=t.nTable.cloneNode(!1),u=t.nTable.getElementsByTagName("thead")[0],d=0===t.nTable.getElementsByTagName("tfoot").length?null:t.nTable.getElementsByTagName("tfoot")[0],p=t.oClasses;return n.appendChild(i),o.appendChild(a),r.appendChild(t.nTable),e.appendChild(n),e.appendChild(r),i.appendChild(s),s.appendChild(u),null!==d&&(e.appendChild(o),a.appendChild(c),c.appendChild(d)),e.className=p.sScrollWrapper,n.className=p.sScrollHead,i.className=p.sScrollHeadInner,r.className=p.sScrollBody,o.className=p.sScrollFoot,a.className=p.sScrollFootInner,t.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",o.style.overflow="hidden",r.style.overflow="auto"),n.style.border="0",n.style.width="100%",o.style.border="0",i.style.width=""!==t.oScroll.sXInner?t.oScroll.sXInner:"100%",s.removeAttribute("id"),s.style.marginLeft="0",t.nTable.style.marginLeft="0",null!==d&&(c.removeAttribute("id"),c.style.marginLeft="0"),i=h(t.nTable).children("caption"),0<i.length&&(i=i[0],"top"===i._captionSide?s.appendChild(i):"bottom"===i._captionSide&&d&&c.appendChild(i)),""!==t.oScroll.sX&&(n.style.width=q(t.oScroll.sX),r.style.width=q(t.oScroll.sX),null!==d&&(o.style.width=q(t.oScroll.sX)),h(r).scroll(function(){n.scrollLeft=this.scrollLeft,null!==d&&(o.scrollLeft=this.scrollLeft)})),""!==t.oScroll.sY&&(r.style.height=q(t.oScroll.sY)),t.aoDrawCallback.push({fn:La,sName:"scrolling"}),t.oScroll.bInfinite&&h(r).scroll(function(){!t.bDrawing&&0!==h(this).scrollTop()&&h(this).scrollTop()+h(this).height()>h(t.nTable).height()-t.oScroll.iLoadGap&&t.fnDisplayEnd()<t.fnRecordsDisplay()&&(qa(t,"next"),y(t),x(t))}),t.nScrollHead=n,t.nScrollFoot=o,e}function La(t){var e,n,i,r,o,a,s,l,c=t.nScrollHead.getElementsByTagName("div")[0],u=c.getElementsByTagName("table")[0],d=t.nTable.parentNode,p=[],f=[],g=null!==t.nTFoot?t.nScrollFoot.getElementsByTagName("div")[0]:null,m=null!==t.nTFoot?g.getElementsByTagName("table")[0]:null,v=t.oBrowser.bScrollOversize,_=function(t){s=t.style,s.paddingTop="0",s.paddingBottom="0",s.borderTopWidth="0",s.borderBottomWidth="0",s.height=0};h(t.nTable).children("thead, tfoot").remove(),e=h(t.nTHead).clone()[0],t.nTable.insertBefore(e,t.nTable.childNodes[0]),i=t.nTHead.getElementsByTagName("tr"),r=e.getElementsByTagName("tr"),null!==t.nTFoot&&(o=h(t.nTFoot).clone()[0],t.nTable.insertBefore(o,t.nTable.childNodes[1]),a=t.nTFoot.getElementsByTagName("tr"),o=o.getElementsByTagName("tr")),""===t.oScroll.sX&&(d.style.width="100%",c.parentNode.style.width="100%");var b=N(t,e);for(e=0,n=b.length;n>e;e++)l=G(t,e),b[e].style.width=t.aoColumns[l].sWidth;null!==t.nTFoot&&C(function(t){t.style.width=""},o),t.oScroll.bCollapse&&""!==t.oScroll.sY&&(d.style.height=d.offsetHeight+t.nTHead.offsetHeight+"px"),e=h(t.nTable).outerWidth(),""===t.oScroll.sX?(t.nTable.style.width="100%",v&&(h("tbody",d).height()>d.offsetHeight||"scroll"==h(d).css("overflow-y"))&&(t.nTable.style.width=q(h(t.nTable).outerWidth()-t.oScroll.iBarWidth))):""!==t.oScroll.sXInner?t.nTable.style.width=q(t.oScroll.sXInner):e==h(d).width()&&h(d).height()<h(t.nTable).height()?(t.nTable.style.width=q(e-t.oScroll.iBarWidth),h(t.nTable).outerWidth()>e-t.oScroll.iBarWidth&&(t.nTable.style.width=q(e))):t.nTable.style.width=q(e),e=h(t.nTable).outerWidth(),C(_,r),C(function(t){p.push(q(h(t).width()))},r),C(function(t,e){t.style.width=p[e]},i),h(r).height(0),null!==t.nTFoot&&(C(_,o),C(function(t){f.push(q(h(t).width()))},o),C(function(t,e){t.style.width=f[e]},a),h(o).height(0)),C(function(t,e){t.innerHTML="",t.style.width=p[e]},r),null!==t.nTFoot&&C(function(t,e){t.innerHTML="",t.style.width=f[e]},o),h(t.nTable).outerWidth()<e?(i=d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y")?e+t.oScroll.iBarWidth:e,v&&(d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y"))&&(t.nTable.style.width=q(i-t.oScroll.iBarWidth)),d.style.width=q(i),t.nScrollHead.style.width=q(i),null!==t.nTFoot&&(t.nScrollFoot.style.width=q(i)),""===t.oScroll.sX?D(t,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==t.oScroll.sXInner&&D(t,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(d.style.width=q("100%"),t.nScrollHead.style.width=q("100%"),null!==t.nTFoot&&(t.nScrollFoot.style.width=q("100%"))),""===t.oScroll.sY&&v&&(d.style.height=q(t.nTable.offsetHeight+t.oScroll.iBarWidth)),""!==t.oScroll.sY&&t.oScroll.bCollapse&&(d.style.height=q(t.oScroll.sY),v=""!==t.oScroll.sX&&t.nTable.offsetWidth>d.offsetWidth?t.oScroll.iBarWidth:0,t.nTable.offsetHeight<d.offsetHeight&&(d.style.height=q(t.nTable.offsetHeight+v))),v=h(t.nTable).outerWidth(),u.style.width=q(v),c.style.width=q(v),u=h(t.nTable).height()>d.clientHeight||"scroll"==h(d).css("overflow-y"),c.style.paddingRight=u?t.oScroll.iBarWidth+"px":"0px",null!==t.nTFoot&&(m.style.width=q(v),g.style.width=q(v),g.style.paddingRight=u?t.oScroll.iBarWidth+"px":"0px"),h(d).scroll(),(t.bSorted||t.bFiltered)&&(d.scrollTop=0)}function C(t,e,n){for(var i,r,o=0,a=0,s=e.length;s>a;){for(i=e[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?t(i,r,o):t(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}function Ma(t,e){if(!t||null===t||""===t)return 0;e||(e=l.body);var n,i=l.createElement("div");return i.style.width=q(t),e.appendChild(i),n=i.offsetWidth,e.removeChild(i),n}function da(t){var e,n,i,r=0,o=0,a=t.aoColumns.length,s=h("th",t.nTHead),c=t.nTable.getAttribute("width");for(i=t.nTable.parentNode,n=0;a>n;n++)t.aoColumns[n].bVisible&&(o++,null!==t.aoColumns[n].sWidth&&(e=Ma(t.aoColumns[n].sWidthOrig,i),null!==e&&(t.aoColumns[n].sWidth=q(e)),r++));if(a==s.length&&0===r&&o==a&&""===t.oScroll.sX&&""===t.oScroll.sY)for(n=0;n<t.aoColumns.length;n++)e=h(s[n]).width(),null!==e&&(t.aoColumns[n].sWidth=q(e));else{for(r=t.nTable.cloneNode(!1),n=t.nTHead.cloneNode(!0),o=l.createElement("tbody"),e=l.createElement("tr"),r.removeAttribute("id"),r.appendChild(n),null!==t.nTFoot&&(r.appendChild(t.nTFoot.cloneNode(!0)),C(function(t){t.style.width=""},r.getElementsByTagName("tr"))),r.appendChild(o),o.appendChild(e),o=h("thead th",r),0===o.length&&(o=h("tbody tr:eq(0)>td",r)),s=N(t,n),n=o=0;a>n;n++){var u=t.aoColumns[n];u.bVisible&&null!==u.sWidthOrig&&""!==u.sWidthOrig?s[n-o].style.width=q(u.sWidthOrig):u.bVisible?s[n-o].style.width="":o++}for(n=0;a>n;n++)t.aoColumns[n].bVisible&&(o=Na(t,n),null!==o&&(o=o.cloneNode(!0),""!==t.aoColumns[n].sContentPadding&&(o.innerHTML+=t.aoColumns[n].sContentPadding),e.appendChild(o)));if(i.appendChild(r),""!==t.oScroll.sX&&""!==t.oScroll.sXInner?r.style.width=q(t.oScroll.sXInner):""!==t.oScroll.sX?(r.style.width="",h(r).width()<i.offsetWidth&&(r.style.width=q(i.offsetWidth))):""!==t.oScroll.sY?r.style.width=q(i.offsetWidth):c&&(r.style.width=q(c)),r.style.visibility="hidden",Oa(t,r),a=h("tbody tr:eq(0)",r).children(),0===a.length&&(a=N(t,h("thead",r)[0])),""!==t.oScroll.sX){for(n=o=i=0;n<t.aoColumns.length;n++)t.aoColumns[n].bVisible&&(i=null===t.aoColumns[n].sWidthOrig?i+h(a[o]).outerWidth():i+(parseInt(t.aoColumns[n].sWidth.replace("px",""),10)+(h(a[o]).outerWidth()-h(a[o]).width())),o++);r.style.width=q(i),t.nTable.style.width=q(i)}for(n=o=0;n<t.aoColumns.length;n++)t.aoColumns[n].bVisible&&(i=h(a[o]).width(),null!==i&&i>0&&(t.aoColumns[n].sWidth=q(i)),o++);a=h(r).css("width"),t.nTable.style.width=-1!==a.indexOf("%")?a:q(h(r).outerWidth()),r.parentNode.removeChild(r)}c&&(t.nTable.style.width=q(c))}function Oa(t,e){""===t.oScroll.sX&&""!==t.oScroll.sY?(h(e).width(),e.style.width=q(h(e).outerWidth()-t.oScroll.iBarWidth)):""!==t.oScroll.sX&&(e.style.width=q(h(e).outerWidth()))}function Na(t,e){var n=Pa(t,e);if(0>n)return null;if(null===t.aoData[n].nTr){var i=l.createElement("td");return i.innerHTML=v(t,n,e,""),i}return J(t,n)[e]}function Pa(t,e){for(var n=-1,i=-1,r=0;r<t.aoData.length;r++){var o=v(t,r,e,"display")+"",o=o.replace(/<.*?>/g,"");o.length>n&&(n=o.length,i=r)}return i}function q(t){if(null===t)return"0px";if("number"==typeof t)return 0>t?"0px":t+"px";var e=t.charCodeAt(t.length-1);return 48>e||e>57?t:t+"px"}function Qa(){var t=l.createElement("p"),e=t.style;e.width="100%",e.height="200px",e.padding="0px";var n=l.createElement("div"),e=n.style;return e.position="absolute",e.top="0px",e.left="0px",e.visibility="hidden",e.width="200px",e.height="150px",e.padding="0px",e.overflow="hidden",n.appendChild(t),l.body.appendChild(n),e=t.offsetWidth,n.style.overflow="scroll",t=t.offsetWidth,e==t&&(t=n.clientWidth),l.body.removeChild(n),e-t
}function O(t,e){var i,r,o,a,s,l,c=[],u=[],d=j.ext.oSort,p=t.aoData,f=t.aoColumns,g=t.oLanguage.oAria;if(!t.oFeatures.bServerSide&&(0!==t.aaSorting.length||null!==t.aaSortingFixed)){for(c=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),i=0;i<c.length;i++)if(r=c[i][0],o=R(t,r),a=t.aoColumns[r].sSortDataType,j.ext.afnSortData[a])if(s=j.ext.afnSortData[a].call(t.oInstance,t,r,o),s.length===p.length)for(o=0,a=p.length;a>o;o++)F(t,o,r,s[o]);else D(t,0,"Returned data sort array (col "+r+") is the wrong length");for(i=0,r=t.aiDisplayMaster.length;r>i;i++)u[t.aiDisplayMaster[i]]=i;var m,_=c.length;for(i=0,r=p.length;r>i;i++)for(o=0;_>o;o++)for(m=f[c[o][0]].aDataSort,s=0,l=m.length;l>s;s++)a=f[m[s]].sType,a=d[(a?a:"string")+"-pre"],p[i]._aSortData[m[s]]=a?a(v(t,i,m[s],"sort")):v(t,i,m[s],"sort");t.aiDisplayMaster.sort(function(t,e){var n,i,r,o,a;for(n=0;_>n;n++)for(a=f[c[n][0]].aDataSort,i=0,r=a.length;r>i;i++)if(o=f[a[i]].sType,o=d[(o?o:"string")+"-"+c[n][1]](p[t]._aSortData[a[i]],p[e]._aSortData[a[i]]),0!==o)return o;return d["numeric-asc"](u[t],u[e])})}for((e===n||e)&&!t.oFeatures.bDeferRender&&P(t),i=0,r=t.aoColumns.length;r>i;i++)a=f[i].sTitle.replace(/<.*?>/g,""),o=f[i].nTh,o.removeAttribute("aria-sort"),o.removeAttribute("aria-label"),f[i].bSortable?0<c.length&&c[0][0]==i?(o.setAttribute("aria-sort","asc"==c[0][1]?"ascending":"descending"),o.setAttribute("aria-label",a+("asc"==(f[i].asSorting[c[0][2]+1]?f[i].asSorting[c[0][2]+1]:f[i].asSorting[0])?g.sSortAscending:g.sSortDescending))):o.setAttribute("aria-label",a+("asc"==f[i].asSorting[0]?g.sSortAscending:g.sSortDescending)):o.setAttribute("aria-label",a);t.bSorted=!0,h(t.oInstance).trigger("sort",t),t.oFeatures.bFilter?K(t,t.oPreviousSearch,1):(t.aiDisplay=t.aiDisplayMaster.slice(),t._iDisplayStart=0,y(t),x(t))}function ia(t,e,n,i){Ra(e,{},function(e){if(!1!==t.aoColumns[n].bSortable){var r=function(){var i,r;if(e.shiftKey){for(var o=!1,a=0;a<t.aaSorting.length;a++)if(t.aaSorting[a][0]==n){o=!0,i=t.aaSorting[a][0],r=t.aaSorting[a][2]+1,t.aoColumns[i].asSorting[r]?(t.aaSorting[a][1]=t.aoColumns[i].asSorting[r],t.aaSorting[a][2]=r):t.aaSorting.splice(a,1);break}!1===o&&t.aaSorting.push([n,t.aoColumns[n].asSorting[0],0])}else 1==t.aaSorting.length&&t.aaSorting[0][0]==n?(i=t.aaSorting[0][0],r=t.aaSorting[0][2]+1,t.aoColumns[i].asSorting[r]||(r=0),t.aaSorting[0][1]=t.aoColumns[i].asSorting[r],t.aaSorting[0][2]=r):(t.aaSorting.splice(0,t.aaSorting.length),t.aaSorting.push([n,t.aoColumns[n].asSorting[0],0]));O(t)};t.oFeatures.bProcessing?(E(t,!0),setTimeout(function(){r(),t.oFeatures.bServerSide||E(t,!1)},0)):r(),"function"==typeof i&&i(t)}})}function P(t){var e,n,i,r,o,a=t.aoColumns.length,s=t.oClasses;for(e=0;a>e;e++)t.aoColumns[e].bSortable&&h(t.aoColumns[e].nTh).removeClass(s.sSortAsc+" "+s.sSortDesc+" "+t.aoColumns[e].sSortingClass);for(n=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),e=0;e<t.aoColumns.length;e++)if(t.aoColumns[e].bSortable){for(o=t.aoColumns[e].sSortingClass,r=-1,i=0;i<n.length;i++)if(n[i][0]==e){o="asc"==n[i][1]?s.sSortAsc:s.sSortDesc,r=i;break}h(t.aoColumns[e].nTh).addClass(o),t.bJUI&&(o=h("span."+s.sSortIcon,t.aoColumns[e].nTh),o.removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed),o.addClass(-1==r?t.aoColumns[e].sSortingClassJUI:"asc"==n[r][1]?s.sSortJUIAsc:s.sSortJUIDesc))}else h(t.aoColumns[e].nTh).addClass(t.aoColumns[e].sSortingClass);if(o=s.sSortColumn,t.oFeatures.bSort&&t.oFeatures.bSortClasses){for(t=J(t),r=[],e=0;a>e;e++)r.push("");for(e=0,i=1;e<n.length;e++)s=parseInt(n[e][0],10),r[s]=o+i,3>i&&i++;o=RegExp(o+"[123]");var l;for(e=0,n=t.length;n>e;e++)s=e%a,i=t[e].className,l=r[s],s=i.replace(o,l),s!=i?t[e].className=h.trim(s):0<l.length&&-1==i.indexOf(l)&&(t[e].className=i+" "+l)}}function ra(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e,n;e=t.oScroll.bInfinite;var i={iCreate:(new Date).getTime(),iStart:e?0:t._iDisplayStart,iEnd:e?t._iDisplayLength:t._iDisplayEnd,iLength:t._iDisplayLength,aaSorting:h.extend(!0,[],t.aaSorting),oSearch:h.extend(!0,{},t.oPreviousSearch),aoSearchCols:h.extend(!0,[],t.aoPreSearchCols),abVisCols:[]};for(e=0,n=t.aoColumns.length;n>e;e++)i.abVisCols.push(t.aoColumns[e].bVisible);A(t,"aoStateSaveParams","stateSaveParams",[t,i]),t.fnStateSave.call(t.oInstance,t,i)}}function Sa(t,e){if(t.oFeatures.bStateSave){var n=t.fnStateLoad.call(t.oInstance,t);if(n){var i=A(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===h.inArray(!1,i)){for(t.oLoadedState=h.extend(!0,{},n),t._iDisplayStart=n.iStart,t.iInitDisplayStart=n.iStart,t._iDisplayEnd=n.iEnd,t._iDisplayLength=n.iLength,t.aaSorting=n.aaSorting.slice(),t.saved_aaSorting=n.aaSorting.slice(),h.extend(t.oPreviousSearch,n.oSearch),h.extend(!0,t.aoPreSearchCols,n.aoSearchCols),e.saved_aoColumns=[],i=0;i<n.abVisCols.length;i++)e.saved_aoColumns[i]={},e.saved_aoColumns[i].bVisible=n.abVisCols[i];A(t,"aoStateLoaded","stateLoaded",[t,n])}}}}function s(t){for(var e=0;e<j.settings.length;e++)if(j.settings[e].nTable===t)return j.settings[e];return null}function T(t){for(var e=[],t=t.aoData,n=0,i=t.length;i>n;n++)null!==t[n].nTr&&e.push(t[n].nTr);return e}function J(t,e){var i,r,o,a,s,l,c=[];r=0;var u=t.aoData.length;for(e!==n&&(r=e,u=e+1),o=r;u>o;o++)if(l=t.aoData[o],null!==l.nTr){for(r=[],i=l.nTr.firstChild;i;)a=i.nodeName.toLowerCase(),("td"==a||"th"==a)&&r.push(i),i=i.nextSibling;for(a=i=0,s=t.aoColumns.length;s>a;a++)t.aoColumns[a].bVisible?c.push(r[a-i]):(c.push(l._anHidden[a]),i++)}return c}function D(t,e,n){if(t=null===t?"DataTables warning: "+n:"DataTables warning (table id = '"+t.sTableId+"'): "+n,0===e){if("alert"!=j.ext.sErrMode)throw Error(t);alert(t)}else X.console&&console.log&&console.log(t)}function p(t,e,i,r){r===n&&(r=i),e[i]!==n&&(t[r]=e[i])}function Ta(t,n){var i,r;for(r in n)n.hasOwnProperty(r)&&(i=n[r],"object"==typeof e[r]&&null!==i&&!1===h.isArray(i)?h.extend(!0,t[r],i):t[r]=i);return t}function Ra(t,e,n){h(t).bind("click.DT",e,function(e){t.blur(),n(e)}).bind("keypress.DT",e,function(t){13===t.which&&n(t)}).bind("selectstart.DT",function(){return!1})}function z(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function A(t,e,n,i){for(var e=t[e],r=[],o=e.length-1;o>=0;o--)r.push(e[o].fn.apply(t.oInstance,i));return null!==n&&h(t.oInstance).trigger(n,i),r}function Ua(t){var e=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(e),t.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",e)[0].offsetWidth?!0:!1,l.body.removeChild(e)}function Va(t){return function(){var e=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[t].apply(this,e)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(t){var e=typeof t;if("object"!==e||null===t)return"string"===e&&(t='"'+t+'"'),t+"";var n,i,r=[],o=h.isArray(t);for(n in t)i=t[n],e=typeof i,"string"===e?i='"'+i+'"':"object"===e&&null!==i&&(i=Wa(i)),r.push((o?"":'"'+n+'":')+i);return(o?"[":"{")+r+(o?"]":"}")};this.$=function(t,e){var n,i,r,o=[];i=s(this[j.ext.iApiIndex]);var a=i.aoData,l=i.aiDisplay,c=i.aiDisplayMaster;if(e||(e={}),e=h.extend({},{filter:"none",order:"current",page:"all"},e),"current"==e.page)for(n=i._iDisplayStart,i=i.fnDisplayEnd();i>n;n++)(r=a[l[n]].nTr)&&o.push(r);else if("current"==e.order&&"none"==e.filter)for(n=0,i=c.length;i>n;n++)(r=a[c[n]].nTr)&&o.push(r);else if("current"==e.order&&"applied"==e.filter)for(n=0,i=l.length;i>n;n++)(r=a[l[n]].nTr)&&o.push(r);else if("original"==e.order&&"none"==e.filter)for(n=0,i=a.length;i>n;n++)(r=a[n].nTr)&&o.push(r);else if("original"==e.order&&"applied"==e.filter)for(n=0,i=a.length;i>n;n++)r=a[n].nTr,-1!==h.inArray(n,l)&&r&&o.push(r);else D(i,1,"Unknown selection options");return o=h(o),n=o.filter(t),o=o.find(t),h([].concat(h.makeArray(n),h.makeArray(o)))},this._=function(t,e){var n,i,r=[],o=this.$(t,e);for(n=0,i=o.length;i>n;n++)r.push(this.fnGetData(o[n]));return r},this.fnAddData=function(t,e){if(0===t.length)return[];var i,r=[],o=s(this[j.ext.iApiIndex]);if("object"==typeof t[0]&&null!==t[0])for(var a=0;a<t.length;a++){if(i=H(o,t[a]),-1==i)return r;r.push(i)}else{if(i=H(o,t),-1==i)return r;r.push(i)}return o.aiDisplay=o.aiDisplayMaster.slice(),(e===n||e)&&aa(o),r},this.fnAdjustColumnSizing=function(t){var e=s(this[j.ext.iApiIndex]);k(e),t===n||t?this.fnDraw(!1):(""!==e.oScroll.sX||""!==e.oScroll.sY)&&this.oApi._fnScrollDraw(e)},this.fnClearTable=function(t){var e=s(this[j.ext.iApiIndex]);ga(e),(t===n||t)&&x(e)},this.fnClose=function(t){for(var e=s(this[j.ext.iApiIndex]),n=0;n<e.aoOpenRows.length;n++)if(e.aoOpenRows[n].nParent==t)return(t=e.aoOpenRows[n].nTr.parentNode)&&t.removeChild(e.aoOpenRows[n].nTr),e.aoOpenRows.splice(n,1),0;return 1},this.fnDeleteRow=function(t,e,i){var r,o,a=s(this[j.ext.iApiIndex]),t="object"==typeof t?I(a,t):t,l=a.aoData.splice(t,1);for(r=0,o=a.aoData.length;o>r;r++)null!==a.aoData[r].nTr&&(a.aoData[r].nTr._DT_RowIndex=r);return r=h.inArray(t,a.aiDisplay),a.asDataSearch.splice(r,1),ha(a.aiDisplayMaster,t),ha(a.aiDisplay,t),"function"==typeof e&&e.call(this,a,l),a._iDisplayStart>=a.fnRecordsDisplay()&&(a._iDisplayStart-=a._iDisplayLength,0>a._iDisplayStart&&(a._iDisplayStart=0)),(i===n||i)&&(y(a),x(a)),l},this.fnDestroy=function(t){var i,r,o=s(this[j.ext.iApiIndex]),a=o.nTableWrapper.parentNode,l=o.nTBody,t=t===n?!1:t;if(o.bDestroying=!0,A(o,"aoDestroyCallback","destroy",[o]),!t)for(i=0,r=o.aoColumns.length;r>i;i++)!1===o.aoColumns[i].bVisible&&this.fnSetColumnVis(i,!0);for(h(o.nTableWrapper).find("*").andSelf().unbind(".DT"),h("tbody>tr>td."+o.oClasses.sRowEmpty,o.nTable).parent().remove(),o.nTable!=o.nTHead.parentNode&&(h(o.nTable).children("thead").remove(),o.nTable.appendChild(o.nTHead)),o.nTFoot&&o.nTable!=o.nTFoot.parentNode&&(h(o.nTable).children("tfoot").remove(),o.nTable.appendChild(o.nTFoot)),o.nTable.parentNode.removeChild(o.nTable),h(o.nTableWrapper).remove(),o.aaSorting=[],o.aaSortingFixed=[],P(o),h(T(o)).removeClass(o.asStripeClasses.join(" ")),h("th, td",o.nTHead).removeClass([o.oClasses.sSortable,o.oClasses.sSortableAsc,o.oClasses.sSortableDesc,o.oClasses.sSortableNone].join(" ")),o.bJUI&&(h("th span."+o.oClasses.sSortIcon+", td span."+o.oClasses.sSortIcon,o.nTHead).remove(),h("th, td",o.nTHead).each(function(){var t=h("div."+o.oClasses.sSortJUIWrapper,this),e=t.contents();h(this).append(e),t.remove()})),!t&&o.nTableReinsertBefore?a.insertBefore(o.nTable,o.nTableReinsertBefore):t||a.appendChild(o.nTable),i=0,r=o.aoData.length;r>i;i++)null!==o.aoData[i].nTr&&l.appendChild(o.aoData[i].nTr);if(!0===o.oFeatures.bAutoWidth&&(o.nTable.style.width=q(o.sDestroyWidth)),r=o.asDestroyStripes.length)for(t=h(l).children("tr"),i=0;r>i;i++)t.filter(":nth-child("+r+"n + "+i+")").addClass(o.asDestroyStripes[i]);for(i=0,r=j.settings.length;r>i;i++)j.settings[i]==o&&j.settings.splice(i,1);e=o=null},this.fnDraw=function(t){var e=s(this[j.ext.iApiIndex]);!1===t?(y(e),x(e)):aa(e)},this.fnFilter=function(t,e,i,r,o,a){var c=s(this[j.ext.iApiIndex]);if(c.oFeatures.bFilter)if((i===n||null===i)&&(i=!1),(r===n||null===r)&&(r=!0),(o===n||null===o)&&(o=!0),(a===n||null===a)&&(a=!0),e===n||null===e){if(K(c,{sSearch:t+"",bRegex:i,bSmart:r,bCaseInsensitive:a},1),o&&c.aanFeatures.f)for(e=c.aanFeatures.f,i=0,r=e.length;r>i;i++)try{e[i]._DT_Input!=l.activeElement&&h(e[i]._DT_Input).val(t)}catch(u){h(e[i]._DT_Input).val(t)}}else h.extend(c.aoPreSearchCols[e],{sSearch:t+"",bRegex:i,bSmart:r,bCaseInsensitive:a}),K(c,c.oPreviousSearch,1)},this.fnGetData=function(t,e){var i=s(this[j.ext.iApiIndex]);if(t!==n){var r=t;if("object"==typeof t){var o=t.nodeName.toLowerCase();"tr"===o?r=I(i,t):"td"===o&&(r=I(i,t.parentNode),e=fa(i,r,t))}return e!==n?v(i,r,e,""):i.aoData[r]!==n?i.aoData[r]._aData:null}return Z(i)},this.fnGetNodes=function(t){var e=s(this[j.ext.iApiIndex]);return t!==n?e.aoData[t]!==n?e.aoData[t].nTr:null:T(e)},this.fnGetPosition=function(t){var e=s(this[j.ext.iApiIndex]),n=t.nodeName.toUpperCase();return"TR"==n?I(e,t):"TD"==n||"TH"==n?(n=I(e,t.parentNode),t=fa(e,n,t),[n,R(e,t),t]):null},this.fnIsOpen=function(t){for(var e=s(this[j.ext.iApiIndex]),n=0;n<e.aoOpenRows.length;n++)if(e.aoOpenRows[n].nParent==t)return!0;return!1},this.fnOpen=function(e,n,i){var r=s(this[j.ext.iApiIndex]),o=T(r);if(-1!==h.inArray(e,o)){this.fnClose(e);var o=l.createElement("tr"),a=l.createElement("td");return o.appendChild(a),a.className=i,a.colSpan=t(r),"string"==typeof n?a.innerHTML=n:h(a).html(n),n=h("tr",r.nTBody),-1!=h.inArray(e,n)&&h(o).insertAfter(e),r.aoOpenRows.push({nTr:o,nParent:e}),o}},this.fnPageChange=function(t,e){var i=s(this[j.ext.iApiIndex]);qa(i,t),y(i),(e===n||e)&&x(i)},this.fnSetColumnVis=function(e,i,r){var o,a,l,c,u=s(this[j.ext.iApiIndex]),h=u.aoColumns,d=u.aoData;if(h[e].bVisible!=i){if(i){for(o=a=0;e>o;o++)h[o].bVisible&&a++;if(c=a>=t(u),!c)for(o=e;o<h.length;o++)if(h[o].bVisible){l=o;break}for(o=0,a=d.length;a>o;o++)null!==d[o].nTr&&(c?d[o].nTr.appendChild(d[o]._anHidden[e]):d[o].nTr.insertBefore(d[o]._anHidden[e],J(u,o)[l]))}else for(o=0,a=d.length;a>o;o++)null!==d[o].nTr&&(l=J(u,o)[e],d[o]._anHidden[e]=l,l.parentNode.removeChild(l));for(h[e].bVisible=i,W(u,u.aoHeader),u.nTFoot&&W(u,u.aoFooter),o=0,a=u.aoOpenRows.length;a>o;o++)u.aoOpenRows[o].nTr.colSpan=t(u);(r===n||r)&&(k(u),x(u)),ra(u)}},this.fnSettings=function(){return s(this[j.ext.iApiIndex])},this.fnSort=function(t){var e=s(this[j.ext.iApiIndex]);e.aaSorting=t,O(e)},this.fnSortListener=function(t,e,n){ia(s(this[j.ext.iApiIndex]),t,e,n)},this.fnUpdate=function(t,e,i,o,a){var l=s(this[j.ext.iApiIndex]),e="object"==typeof e?I(l,e):e;if(h.isArray(t)&&i===n)for(l.aoData[e]._aData=t.slice(),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,e,i),e,i,!1,!1);else if(h.isPlainObject(t)&&i===n)for(l.aoData[e]._aData=h.extend(!0,{},t),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,e,i),e,i,!1,!1);else{F(l,e,i,t);var t=v(l,e,i,"display"),c=l.aoColumns[i];null!==c.fnRender&&(t=S(l,e,i),c.bUseRendered&&F(l,e,i,t)),null!==l.aoData[e].nTr&&(J(l,e)[i].innerHTML=t)}return i=h.inArray(e,l.aiDisplay),l.asDataSearch[i]=na(l,Y(l,e,"filter",r(l,"bSearchable"))),(a===n||a)&&k(l),(o===n||o)&&aa(l),0},this.fnVersionCheck=j.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1e3*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;if(null!==e?(g="function"==typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",a=l.cookie.split(";"),e=b.split(";")[0].length,f=[],4096<e+l.cookie.length+10){for(var j=0,o=a.length;o>j;j++)if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}for(f.sort(function(t,e){return e.time-t.time});4096<e+l.cookie.length+10;){if(0===f.length)return;d=f.pop(),l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(t){for(var e=X.location.pathname.split("/"),t=t+"_"+e[e.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",e=l.cookie.split(";"),n=0;n<e.length;n++){for(var i=e[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r},h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi)sa&&(this[sa]=Va(sa));var ca=this;return this.each(function(){var t,i,r,a=0;i=this.getAttribute("id");var s=!1,c=!1;if("table"!=this.nodeName.toLowerCase())D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(a=0,t=j.settings.length;t>a;a++){if(j.settings[a].nTable==this){if(e===n||e.bRetrieve)return j.settings[a].oInstance;if(e.bDestroy){j.settings[a].oInstance.fnDestroy();break}return void D(j.settings[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy")}if(j.settings[a].sTableId==this.id){j.settings.splice(a,1);break}}(null===i||""===i)&&(this.id=i="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++);var u=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:i,sTableId:i});if(j.settings.push(u),u.oInstance=1===ca.length?ca:h(this).dataTable(),e||(e={}),e.oLanguage&&pa(e.oLanguage),e=Ta(h.extend(!0,{},j.defaults),e),p(u.oFeatures,e,"bPaginate"),p(u.oFeatures,e,"bLengthChange"),p(u.oFeatures,e,"bFilter"),p(u.oFeatures,e,"bSort"),p(u.oFeatures,e,"bInfo"),p(u.oFeatures,e,"bProcessing"),p(u.oFeatures,e,"bAutoWidth"),p(u.oFeatures,e,"bSortClasses"),p(u.oFeatures,e,"bServerSide"),p(u.oFeatures,e,"bDeferRender"),p(u.oScroll,e,"sScrollX","sX"),p(u.oScroll,e,"sScrollXInner","sXInner"),p(u.oScroll,e,"sScrollY","sY"),p(u.oScroll,e,"bScrollCollapse","bCollapse"),p(u.oScroll,e,"bScrollInfinite","bInfinite"),p(u.oScroll,e,"iScrollLoadGap","iLoadGap"),p(u.oScroll,e,"bScrollAutoCss","bAutoCss"),p(u,e,"asStripeClasses"),p(u,e,"asStripClasses","asStripeClasses"),p(u,e,"fnServerData"),p(u,e,"fnFormatNumber"),p(u,e,"sServerMethod"),p(u,e,"aaSorting"),p(u,e,"aaSortingFixed"),p(u,e,"aLengthMenu"),p(u,e,"sPaginationType"),p(u,e,"sAjaxSource"),p(u,e,"sAjaxDataProp"),p(u,e,"iCookieDuration"),p(u,e,"sCookiePrefix"),p(u,e,"sDom"),p(u,e,"bSortCellsTop"),p(u,e,"iTabIndex"),p(u,e,"oSearch","oPreviousSearch"),p(u,e,"aoSearchCols","aoPreSearchCols"),p(u,e,"iDisplayLength","_iDisplayLength"),p(u,e,"bJQueryUI","bJUI"),p(u,e,"fnCookieCallback"),p(u,e,"fnStateLoad"),p(u,e,"fnStateSave"),p(u.oLanguage,e,"fnInfoCallback"),z(u,"aoDrawCallback",e.fnDrawCallback,"user"),z(u,"aoServerParams",e.fnServerParams,"user"),z(u,"aoStateSaveParams",e.fnStateSaveParams,"user"),z(u,"aoStateLoadParams",e.fnStateLoadParams,"user"),z(u,"aoStateLoaded",e.fnStateLoaded,"user"),z(u,"aoRowCallback",e.fnRowCallback,"user"),z(u,"aoRowCreatedCallback",e.fnCreatedRow,"user"),z(u,"aoHeaderCallback",e.fnHeaderCallback,"user"),z(u,"aoFooterCallback",e.fnFooterCallback,"user"),z(u,"aoInitComplete",e.fnInitComplete,"user"),z(u,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),u.oFeatures.bServerSide&&u.oFeatures.bSort&&u.oFeatures.bSortClasses?z(u,"aoDrawCallback",P,"server_side_sort_classes"):u.oFeatures.bDeferRender&&z(u,"aoDrawCallback",P,"defer_sort_classes"),e.bJQueryUI?(h.extend(u.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(u.sDom='<"H"lfr>t<"F"ip>')):h.extend(u.oClasses,j.ext.oStdClasses),h(this).addClass(u.oClasses.sTable),(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(u.oScroll.iBarWidth=Qa()),u.iInitDisplayStart===n&&(u.iInitDisplayStart=e.iDisplayStart,u._iDisplayStart=e.iDisplayStart),e.bStateSave&&(u.oFeatures.bStateSave=!0,Sa(u,e),z(u,"aoDrawCallback",ra,"state_save")),null!==e.iDeferLoading&&(u.bDeferLoading=!0,a=h.isArray(e.iDeferLoading),u._iRecordsDisplay=a?e.iDeferLoading[0]:e.iDeferLoading,u._iRecordsTotal=a?e.iDeferLoading[1]:e.iDeferLoading),null!==e.aaData&&(c=!0),""!==e.oLanguage.sUrl?(u.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(u.oLanguage.sUrl,null,function(t){pa(t),h.extend(!0,u.oLanguage,e.oLanguage,t),ba(u)}),s=!0):h.extend(!0,u.oLanguage,e.oLanguage),null===e.asStripeClasses&&(u.asStripeClasses=[u.oClasses.sStripeOdd,u.oClasses.sStripeEven]),t=u.asStripeClasses.length,u.asDestroyStripes=[],t){for(i=!1,r=h(this).children("tbody").children("tr:lt("+t+")"),a=0;t>a;a++)r.hasClass(u.asStripeClasses[a])&&(i=!0,u.asDestroyStripes.push(u.asStripeClasses[a]));i&&r.removeClass(u.asStripeClasses.join(" "))}if(i=[],a=this.getElementsByTagName("thead"),0!==a.length&&(V(u.aoHeader,a[0]),i=N(u)),null===e.aoColumns)for(r=[],a=0,t=i.length;t>a;a++)r.push(null);else r=e.aoColumns;for(a=0,t=r.length;t>a;a++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==t&&(null===r[a]&&(r[a]={}),r[a].bVisible=e.saved_aoColumns[a].bVisible),o(u,i?i[a]:null);for(ta(u,e.aoColumnDefs,r,function(t,e){m(u,t,e)}),a=0,t=u.aaSorting.length;t>a;a++){u.aaSorting[a][0]>=u.aoColumns.length&&(u.aaSorting[a][0]=0);var d=u.aoColumns[u.aaSorting[a][0]];for(u.aaSorting[a][2]===n&&(u.aaSorting[a][2]=0),e.aaSorting===n&&u.saved_aaSorting===n&&(u.aaSorting[a][1]=d.asSorting[0]),i=0,r=d.asSorting.length;r>i;i++)if(u.aaSorting[a][1]==d.asSorting[i]){u.aaSorting[a][2]=i;break}}if(P(u),Ua(u),a=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")}),t=h(this).children("thead"),0===t.length&&(t=[l.createElement("thead")],this.appendChild(t[0])),u.nTHead=t[0],t=h(this).children("tbody"),0===t.length&&(t=[l.createElement("tbody")],this.appendChild(t[0])),u.nTBody=t[0],u.nTBody.setAttribute("role","alert"),u.nTBody.setAttribute("aria-live","polite"),u.nTBody.setAttribute("aria-relevant","all"),t=h(this).children("tfoot"),0===t.length&&0<a.length&&(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(t=[l.createElement("tfoot")],this.appendChild(t[0])),0<t.length&&(u.nTFoot=t[0],V(u.aoFooter,u.nTFoot)),c)for(a=0;a<e.aaData.length;a++)H(u,e.aaData[a]);else ua(u);u.aiDisplay=u.aiDisplayMaster.slice(),u.bInitialised=!0,!1===s&&ba(u)}}),ca=null,this};j.fnVersionCheck=function(t){for(var e=function(t,e){for(;t.length<e;)t+="0";return t},n=j.ext.sVersion.split("."),t=t.split("."),i="",r="",o=0,a=t.length;a>o;o++)i+=e(n[o],3),r+=e(t[o],3);return parseInt(i,10)>=parseInt(r,10)},j.fnIsDataTable=function(t){for(var e=j.settings,n=0;n<e.length;n++)if(e[n].nTable===t||e[n].nScrollHead===t||e[n].nScrollFoot===t)return!0;return!1},j.fnTables=function(t){var e=[];return jQuery.each(j.settings,function(n,i){(!t||!0===t&&h(i.nTable).is(":visible"))&&e.push(i.nTable)}),e},j.version="1.9.4",j.settings=[],j.models={},j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){if(1e3>t)return t;for(var e=t+"",t=e.split(""),n="",e=e.length,i=0;e>i;i++)0===i%3&&0!==i&&(n=this.oLanguage.sInfoThousands+n),n=t[e-i-1]+n;return n},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(t,e,n,i){i.jqXHR=h.ajax({url:t,data:e,success:function(t){t.sError&&i.oApi._fnLog(i,0,t.sError),h(i.oInstance).trigger("xhr",[i,t]),n(t)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(t,e){"parsererror"==e&&i.oApi._fnLog(i,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(t,e){this.oApi._fnCreateCookie(t.sCookiePrefix+t.sInstance,this.oApi._fnJsonString(e),t.iCookieDuration,t.sCookiePrefix,t.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},j.ext=h.extend(!0,{},j.models.ext),h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),h.extend(j.ext.oPagination,{two_button:{fnInit:function(t,e,n){var i=t.oLanguage.oPaginate,r=function(e){t.oApi._fnPageChange(t,e.data.action)&&n(t)},i=t.bJUI?'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUIPrev+'"></span></a><a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUINext+'"></span></a>':'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+i.sPrevious+'</a><a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+i.sNext+"</a>";
h(e).append(i);var o=h("a",e),i=o[0],o=o[1];t.oApi._fnBindAction(i,{action:"previous"},r),t.oApi._fnBindAction(o,{action:"next"},r),t.aanFeatures.p||(e.id=t.sTableId+"_paginate",i.id=t.sTableId+"_previous",o.id=t.sTableId+"_next",i.setAttribute("aria-controls",t.sTableId),o.setAttribute("aria-controls",t.sTableId))},fnUpdate:function(t){if(t.aanFeatures.p)for(var e,n=t.oClasses,i=t.aanFeatures.p,r=0,o=i.length;o>r;r++)(e=i[r].firstChild)&&(e.className=0===t._iDisplayStart?n.sPagePrevDisabled:n.sPagePrevEnabled,e=e.nextSibling,e.className=t.fnDisplayEnd()==t.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(t,e,n){var i=t.oLanguage.oPaginate,r=t.oClasses,o=function(e){t.oApi._fnPageChange(t,e.data.action)&&n(t)};h(e).append('<a  tabindex="'+t.iTabIndex+'" class="'+r.sPageButton+" "+r.sPageFirst+'">'+i.sFirst+'</a><a  tabindex="'+t.iTabIndex+'" class="'+r.sPageButton+" "+r.sPagePrevious+'">'+i.sPrevious+'</a><span></span><a tabindex="'+t.iTabIndex+'" class="'+r.sPageButton+" "+r.sPageNext+'">'+i.sNext+'</a><a tabindex="'+t.iTabIndex+'" class="'+r.sPageButton+" "+r.sPageLast+'">'+i.sLast+"</a>");var a=h("a",e),i=a[0],r=a[1],s=a[2],a=a[3];t.oApi._fnBindAction(i,{action:"first"},o),t.oApi._fnBindAction(r,{action:"previous"},o),t.oApi._fnBindAction(s,{action:"next"},o),t.oApi._fnBindAction(a,{action:"last"},o),t.aanFeatures.p||(e.id=t.sTableId+"_paginate",i.id=t.sTableId+"_first",r.id=t.sTableId+"_previous",s.id=t.sTableId+"_next",a.id=t.sTableId+"_last")},fnUpdate:function(t,e){if(t.aanFeatures.p){var n,i,r=j.ext.oPagination.iFullNumbersShowPages,o=Math.floor(r/2),a=Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength),s=Math.ceil(t._iDisplayStart/t._iDisplayLength)+1,l="",c=t.oClasses,u=t.aanFeatures.p,d=function(i){t.oApi._fnBindAction(this,{page:i+n-1},function(n){t.oApi._fnPageChange(t,n.data.page),e(t),n.preventDefault()})};for(-1===t._iDisplayLength?s=o=n=1:r>a?(n=1,o=a):o>=s?(n=1,o=r):s>=a-o?(n=a-r+1,o=a):(n=s-Math.ceil(r/2)+1,o=n+r-1),r=n;o>=r;r++)l+=s!==r?'<a tabindex="'+t.iTabIndex+'" class="'+c.sPageButton+'">'+t.fnFormatNumber(r)+"</a>":'<a tabindex="'+t.iTabIndex+'" class="'+c.sPageButtonActive+'">'+t.fnFormatNumber(r)+"</a>";for(r=0,o=u.length;o>r;r++)i=u[r],i.hasChildNodes()&&(h("span:eq(0)",i).html(l).children("a").each(d),i=i.getElementsByTagName("a"),i=[i[0],i[1],i[i.length-2],i[i.length-1]],h(i).removeClass(c.sPageButton+" "+c.sPageButtonActive+" "+c.sPageButtonStaticDisabled),h([i[0],i[1]]).addClass(1==s?c.sPageButtonStaticDisabled:c.sPageButton),h([i[2],i[3]]).addClass(0===a||s===a||-1===t._iDisplayLength?c.sPageButtonStaticDisabled:c.sPageButton))}}}}),h.extend(j.ext.oSort,{"string-pre":function(t){return"string"!=typeof t&&(t=null!==t&&t.toString?t.toString():""),t.toLowerCase()},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0},"html-pre":function(t){return t.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(t,e){return e>t?-1:t>e?1:0},"html-desc":function(t,e){return e>t?1:t>e?-1:0},"date-pre":function(t){return t=Date.parse(t),(isNaN(t)||""===t)&&(t=Date.parse("01/01/1970 00:00:00")),t},"date-asc":function(t,e){return t-e},"date-desc":function(t,e){return e-t},"numeric-pre":function(t){return"-"==t||""===t?0:1*t},"numeric-asc":function(t,e){return t-e},"numeric-desc":function(t,e){return e-t}}),h.extend(j.ext.aTypes,[function(t){if("number"==typeof t)return"numeric";if("string"!=typeof t)return null;var e,n=!1;if(e=t.charAt(0),-1=="0123456789-".indexOf(e))return null;for(var i=1;i<t.length;i++){if(e=t.charAt(i),-1=="0123456789.".indexOf(e))return null;if("."==e){if(n)return null;n=!0}}return"numeric"},function(t){var e=Date.parse(t);return null!==e&&!isNaN(e)||"string"==typeof t&&0===t.length?"date":null},function(t){return"string"==typeof t&&-1!=t.indexOf("<")&&-1!=t.indexOf(">")?"html":null}]),h.fn.DataTable=j,h.fn.dataTable=j,h.fn.dataTableSettings=j.settings,h.fn.dataTableExt=j.ext};"function"==typeof define&&define.amd?define(["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)}(window,document),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function r(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function s(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function l(t,e){var n=null==t?0:t.length;return!!n&&b(t,e,0)>-1}function c(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function u(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function h(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function d(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function f(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function g(t){return t.split("")}function m(t){return t.match(Ln)||[]}function v(t,e,n){var i;return n(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function _(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function b(t,e,n){return e===e?V(t,e,n):_(t,w,n)}function y(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function w(t){return t!==t}function k(t,e){var n=null==t?0:t.length;return n?E(t,e)/n:je}function x(t){return function(e){return null==e?Z:e[t]}}function S(t){return function(e){return null==t?Z:t[e]}}function C(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function T(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function E(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==Z&&(n=n===Z?o:n+o)}return n}function D(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function I(t,e){return u(e,function(e){return[e,t[e]]})}function P(t){return function(e){return t(e)}}function A(t,e){return u(e,function(e){return t[e]})}function j(t,e){return t.has(e)}function O(t,e){for(var n=-1,i=t.length;++n<i&&b(e,t[n],0)>-1;);return n}function $(t,e){for(var n=t.length;n--&&b(e,t[n],0)>-1;);return n}function R(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function M(t){return"\\"+Ji[t]}function N(t,e){return null==t?Z:t[e]}function F(t){return Ui.test(t)}function L(t){return Hi.test(t)}function B(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function U(t,e){return function(n){return t(e(n))}}function H(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];(a===e||a===ae)&&(t[n]=ae,o[r++]=n)}return o}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function V(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Q(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function K(t){return F(t)?G(t):fr(t)}function Y(t){return F(t)?J(t):g(t)}function G(t){for(var e=Bi.lastIndex=0;Bi.test(t);)++e;return e}function J(t){return t.match(Bi)||[]}function X(t){return t.match(zi)||[]}var Z,te="4.17.4",ee=200,ne="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",re="__lodash_hash_undefined__",oe=500,ae="__lodash_placeholder__",se=1,le=2,ce=4,ue=1,he=2,de=1,pe=2,fe=4,ge=8,me=16,ve=32,_e=64,be=128,ye=256,we=512,ke=30,xe="...",Se=800,Ce=16,Te=1,Ee=2,De=3,Ie=1/0,Pe=9007199254740991,Ae=1.7976931348623157e308,je=0/0,Oe=4294967295,$e=Oe-1,Re=Oe>>>1,Me=[["ary",be],["bind",de],["bindKey",pe],["curry",ge],["curryRight",me],["flip",we],["partial",ve],["partialRight",_e],["rearg",ye]],Ne="[object Arguments]",Fe="[object Array]",Le="[object AsyncFunction]",Be="[object Boolean]",ze="[object Date]",Ue="[object DOMException]",He="[object Error]",We="[object Function]",qe="[object GeneratorFunction]",Ve="[object Map]",Qe="[object Number]",Ke="[object Null]",Ye="[object Object]",Ge="[object Promise]",Je="[object Proxy]",Xe="[object RegExp]",Ze="[object Set]",tn="[object String]",en="[object Symbol]",nn="[object Undefined]",rn="[object WeakMap]",on="[object WeakSet]",an="[object ArrayBuffer]",sn="[object DataView]",ln="[object Float32Array]",cn="[object Float64Array]",un="[object Int8Array]",hn="[object Int16Array]",dn="[object Int32Array]",pn="[object Uint8Array]",fn="[object Uint8ClampedArray]",gn="[object Uint16Array]",mn="[object Uint32Array]",vn=/\b__p \+= '';/g,_n=/\b(__p \+=) '' \+/g,bn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yn=/&(?:amp|lt|gt|quot|#39);/g,wn=/[&<>"']/g,kn=RegExp(yn.source),xn=RegExp(wn.source),Sn=/<%-([\s\S]+?)%>/g,Cn=/<%([\s\S]+?)%>/g,Tn=/<%=([\s\S]+?)%>/g,En=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dn=/^\w*$/,In=/^\./,Pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,An=/[\\^$.*+?()[\]{}|]/g,jn=RegExp(An.source),On=/^\s+|\s+$/g,$n=/^\s+/,Rn=/\s+$/,Mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nn=/\{\n\/\* \[wrapped with (.+)\] \*/,Fn=/,? & /,Ln=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bn=/\\(\\)?/g,zn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Un=/\w*$/,Hn=/^[-+]0x[0-9a-f]+$/i,Wn=/^0b[01]+$/i,qn=/^\[object .+?Constructor\]$/,Vn=/^0o[0-7]+$/i,Qn=/^(?:0|[1-9]\d*)$/,Kn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yn=/($^)/,Gn=/['\n\r\u2028\u2029\\]/g,Jn="\\ud800-\\udfff",Xn="\\u0300-\\u036f",Zn="\\ufe20-\\ufe2f",ti="\\u20d0-\\u20ff",ei=Xn+Zn+ti,ni="\\u2700-\\u27bf",ii="a-z\\xdf-\\xf6\\xf8-\\xff",ri="\\xac\\xb1\\xd7\\xf7",oi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ai="\\u2000-\\u206f",si=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",li="A-Z\\xc0-\\xd6\\xd8-\\xde",ci="\\ufe0e\\ufe0f",ui=ri+oi+ai+si,hi="['\u2019]",di="["+Jn+"]",pi="["+ui+"]",fi="["+ei+"]",gi="\\d+",mi="["+ni+"]",vi="["+ii+"]",_i="[^"+Jn+ui+gi+ni+ii+li+"]",bi="\\ud83c[\\udffb-\\udfff]",yi="(?:"+fi+"|"+bi+")",wi="[^"+Jn+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",xi="[\\ud800-\\udbff][\\udc00-\\udfff]",Si="["+li+"]",Ci="\\u200d",Ti="(?:"+vi+"|"+_i+")",Ei="(?:"+Si+"|"+_i+")",Di="(?:"+hi+"(?:d|ll|m|re|s|t|ve))?",Ii="(?:"+hi+"(?:D|LL|M|RE|S|T|VE))?",Pi=yi+"?",Ai="["+ci+"]?",ji="(?:"+Ci+"(?:"+[wi,ki,xi].join("|")+")"+Ai+Pi+")*",Oi="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",$i="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Ri=Ai+Pi+ji,Mi="(?:"+[mi,ki,xi].join("|")+")"+Ri,Ni="(?:"+[wi+fi+"?",fi,ki,xi,di].join("|")+")",Fi=RegExp(hi,"g"),Li=RegExp(fi,"g"),Bi=RegExp(bi+"(?="+bi+")|"+Ni+Ri,"g"),zi=RegExp([Si+"?"+vi+"+"+Di+"(?="+[pi,Si,"$"].join("|")+")",Ei+"+"+Ii+"(?="+[pi,Si+Ti,"$"].join("|")+")",Si+"?"+Ti+"+"+Di,Si+"+"+Ii,$i,Oi,gi,Mi].join("|"),"g"),Ui=RegExp("["+Ci+Jn+ei+ci+"]"),Hi=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qi=-1,Vi={};Vi[ln]=Vi[cn]=Vi[un]=Vi[hn]=Vi[dn]=Vi[pn]=Vi[fn]=Vi[gn]=Vi[mn]=!0,Vi[Ne]=Vi[Fe]=Vi[an]=Vi[Be]=Vi[sn]=Vi[ze]=Vi[He]=Vi[We]=Vi[Ve]=Vi[Qe]=Vi[Ye]=Vi[Xe]=Vi[Ze]=Vi[tn]=Vi[rn]=!1;var Qi={};Qi[Ne]=Qi[Fe]=Qi[an]=Qi[sn]=Qi[Be]=Qi[ze]=Qi[ln]=Qi[cn]=Qi[un]=Qi[hn]=Qi[dn]=Qi[Ve]=Qi[Qe]=Qi[Ye]=Qi[Xe]=Qi[Ze]=Qi[tn]=Qi[en]=Qi[pn]=Qi[fn]=Qi[gn]=Qi[mn]=!0,Qi[He]=Qi[We]=Qi[rn]=!1;var Ki={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},Yi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ji={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xi=parseFloat,Zi=parseInt,tr="object"==typeof global&&global&&global.Object===Object&&global,er="object"==typeof self&&self&&self.Object===Object&&self,nr=tr||er||Function("return this")(),ir="object"==typeof exports&&exports&&!exports.nodeType&&exports,rr=ir&&"object"==typeof module&&module&&!module.nodeType&&module,or=rr&&rr.exports===ir,ar=or&&tr.process,sr=function(){try{return ar&&ar.binding&&ar.binding("util")}catch(t){}}(),lr=sr&&sr.isArrayBuffer,cr=sr&&sr.isDate,ur=sr&&sr.isMap,hr=sr&&sr.isRegExp,dr=sr&&sr.isSet,pr=sr&&sr.isTypedArray,fr=x("length"),gr=S(Ki),mr=S(Yi),vr=S(Gi),_r=function yr(g){function S(t){if(cc(t)&&!yp(t)&&!(t instanceof J)){if(t instanceof G)return t;if(yh.call(t,"__wrapped__"))return as(t)}return new G(t)}function V(){}function G(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Z}function J(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Ln(){var t=new J(this.__wrapped__);return t.__actions__=zo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=zo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=zo(this.__views__),t}function Jn(){if(this.__filtered__){var t=new J(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Xn(){var t=this.__wrapped__.value(),e=this.__dir__,n=yp(t),i=0>e,r=n?t.length:0,o=Pa(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,h=u.length,d=0,p=Gh(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return ko(t,this.__actions__);var f=[];t:for(;l--&&p>d;){c+=e;for(var g=-1,m=t[c];++g<h;){var v=u[g],_=v.iteratee,b=v.type,y=_(m);if(b==Ee)m=y;else if(!y){if(b==Te)continue t;break t}}f[d++]=m}return f}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ti(){this.__data__=ad?ad(null):{},this.size=0}function ei(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function ni(t){var e=this.__data__;if(ad){var n=e[t];return n===re?Z:n}return yh.call(e,t)?e[t]:Z}function ii(t){var e=this.__data__;return ad?e[t]!==Z:yh.call(e,t)}function ri(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ad&&e===Z?re:e,this}function oi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ai(){this.__data__=[],this.size=0}function si(t){var e=this.__data__,n=ji(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():$h.call(e,n,1),--this.size,!0}function li(t){var e=this.__data__,n=ji(e,t);return 0>n?Z:e[n][1]}function ci(t){return ji(this.__data__,t)>-1}function ui(t,e){var n=this.__data__,i=ji(n,t);return 0>i?(++this.size,n.push([t,e])):n[i][1]=e,this}function hi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function di(){this.size=0,this.__data__={hash:new Zn,map:new(nd||oi),string:new Zn}}function pi(t){var e=Ta(this,t)["delete"](t);return this.size-=e?1:0,e}function fi(t){return Ta(this,t).get(t)}function gi(t){return Ta(this,t).has(t)}function mi(t,e){var n=Ta(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function vi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new hi;++e<n;)this.add(t[e])}function _i(t){return this.__data__.set(t,re),this}function bi(t){return this.__data__.has(t)}function yi(t){var e=this.__data__=new oi(t);this.size=e.size}function wi(){this.__data__=new oi,this.size=0}function ki(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function xi(t){return this.__data__.get(t)}function Si(t){return this.__data__.has(t)}function Ci(t,e){var n=this.__data__;if(n instanceof oi){var i=n.__data__;if(!nd||i.length<ee-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new hi(i)}return n.set(t,e),this.size=n.size,this}function Ti(t,e){var n=yp(t),i=!n&&bp(t),r=!n&&!i&&kp(t),o=!n&&!i&&!r&&Ep(t),a=n||i||r||o,s=a?D(t.length,ph):[],l=s.length;for(var c in t)!e&&!yh.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Fa(c,l))||s.push(c);return s}function Ei(t){var e=t.length;return e?t[no(0,e-1)]:Z}function Di(t,e){return ns(zo(t),Bi(e,0,t.length))}function Ii(t){return ns(zo(t))}function Pi(t,e,n){(n!==Z&&!Yl(t[e],n)||n===Z&&!(e in t))&&Mi(t,e,n)}function Ai(t,e,n){var i=t[e];yh.call(t,e)&&Yl(i,n)&&(n!==Z||e in t)||Mi(t,e,n)}function ji(t,e){for(var n=t.length;n--;)if(Yl(t[n][0],e))return n;return-1}function Oi(t,e,n,i){return _d(t,function(t,r,o){e(i,t,n(t),o)}),i}function $i(t,e){return t&&Uo(e,Wc(e),t)}function Ri(t,e){return t&&Uo(e,qc(e),t)}function Mi(t,e,n){"__proto__"==e&&Fh?Fh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ni(t,e){for(var n=-1,i=e.length,r=ah(i),o=null==t;++n<i;)r[n]=o?Z:zc(t,e[n]);return r}function Bi(t,e,n){return t===t&&(n!==Z&&(t=n>=t?t:n),e!==Z&&(t=t>=e?t:e)),t}function zi(t,e,n,i,o,a){var s,l=e&se,c=e&le,u=e&ce;if(n&&(s=o?n(t,i,o,a):n(t)),s!==Z)return s;if(!lc(t))return t;var h=yp(t);if(h){if(s=Oa(t),!l)return zo(t,s)}else{var d=Pd(t),p=d==We||d==qe;if(kp(t))return Io(t,l);if(d==Ye||d==Ne||p&&!o){if(s=c||p?{}:$a(t),!l)return c?Wo(t,Ri(s,t)):Ho(t,$i(s,t))}else{if(!Qi[d])return o?t:{};s=Ra(t,d,zi,l)}}a||(a=new yi);var f=a.get(t);if(f)return f;a.set(t,s);var g=u?c?ka:wa:c?qc:Wc,m=h?Z:g(t);return r(m||t,function(i,r){m&&(r=i,i=t[r]),Ai(s,r,zi(i,e,n,r,t,a))}),s}function Ui(t){var e=Wc(t);return function(n){return Hi(n,t,e)}}function Hi(t,e,n){var i=n.length;if(null==t)return!i;for(t=hh(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===Z&&!(r in t)||!o(a))return!1}return!0}function Ki(t,e,n){if("function"!=typeof t)throw new fh(ie);return Od(function(){t.apply(Z,n)},e)}function Yi(t,e,n,i){var r=-1,o=l,a=!0,s=t.length,h=[],d=e.length;if(!s)return h;n&&(e=u(e,P(n))),i?(o=c,a=!1):e.length>=ee&&(o=j,a=!1,e=new vi(e));t:for(;++r<s;){var p=t[r],f=null==n?p:n(p);if(p=i||0!==p?p:0,a&&f===f){for(var g=d;g--;)if(e[g]===f)continue t;h.push(p)}else o(e,f,i)||h.push(p)}return h}function Gi(t,e){var n=!0;return _d(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Ji(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===Z?a===a&&!yc(a):n(a,s)))var s=a,l=o}return l}function tr(t,e,n,i){var r=t.length;for(n=Tc(n),0>n&&(n=-n>r?0:r+n),i=i===Z||i>r?r:Tc(i),0>i&&(i+=r),i=n>i?0:Ec(i);i>n;)t[n++]=e;return t}function er(t,e){var n=[];return _d(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ir(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=Na),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ir(s,e-1,n,i,r):h(r,s):i||(r[r.length]=s)}return r}function rr(t,e){return t&&yd(t,e,Wc)}function ar(t,e){return t&&wd(t,e,Wc)}function sr(t,e){return s(e,function(e){return oc(t[e])})}function fr(t,e){e=Eo(e,t);for(var n=0,i=e.length;null!=t&&i>n;)t=t[is(e[n++])];return n&&n==i?t:Z}function _r(t,e,n){var i=e(t);return yp(t)?i:h(i,n(t))}function wr(t){return null==t?t===Z?nn:Ke:Nh&&Nh in hh(t)?Ia(t):Ga(t)}function kr(t,e){return t>e}function xr(t,e){return null!=t&&yh.call(t,e)}function Sr(t,e){return null!=t&&e in hh(t)}function Cr(t,e,n){return t>=Gh(e,n)&&t<Yh(e,n)}function Tr(t,e,n){for(var i=n?c:l,r=t[0].length,o=t.length,a=o,s=ah(o),h=1/0,d=[];a--;){var p=t[a];a&&e&&(p=u(p,P(e))),h=Gh(p.length,h),s[a]=!n&&(e||r>=120&&p.length>=120)?new vi(a&&p):Z}p=t[0];var f=-1,g=s[0];t:for(;++f<r&&d.length<h;){var m=p[f],v=e?e(m):m;if(m=n||0!==m?m:0,!(g?j(g,v):i(d,v,n))){for(a=o;--a;){var _=s[a];if(!(_?j(_,v):i(t[a],v,n)))continue t}g&&g.push(v),d.push(m)}}return d}function Er(t,e,n,i){return rr(t,function(t,r,o){e(i,n(t),r,o)}),i}function Dr(t,e,i){e=Eo(e,t),t=Xa(t,e);var r=null==t?t:t[is(Cs(e))];return null==r?Z:n(r,t,i)}function Ir(t){return cc(t)&&wr(t)==Ne}function Pr(t){return cc(t)&&wr(t)==an}function Ar(t){return cc(t)&&wr(t)==ze}function jr(t,e,n,i,r){return t===e?!0:null==t||null==e||!cc(t)&&!cc(e)?t!==t&&e!==e:Or(t,e,n,i,jr,r)}function Or(t,e,n,i,r,o){var a=yp(t),s=yp(e),l=a?Fe:Pd(t),c=s?Fe:Pd(e);l=l==Ne?Ye:l,c=c==Ne?Ye:c;var u=l==Ye,h=c==Ye,d=l==c;if(d&&kp(t)){if(!kp(e))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new yi),a||Ep(t)?va(t,e,n,i,r,o):_a(t,e,l,n,i,r,o);if(!(n&ue)){var p=u&&yh.call(t,"__wrapped__"),f=h&&yh.call(e,"__wrapped__");if(p||f){var g=p?t.value():t,m=f?e.value():e;return o||(o=new yi),r(g,m,n,i,o)}}return d?(o||(o=new yi),ba(t,e,n,i,r,o)):!1}function $r(t){return cc(t)&&Pd(t)==Ve}function Rr(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=hh(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===Z&&!(l in t))return!1}else{var h=new yi;if(i)var d=i(c,u,l,t,e,h);if(!(d===Z?jr(u,c,ue|he,i,h):d))return!1}}return!0}function Mr(t){if(!lc(t)||Ha(t))return!1;var e=oc(t)?Th:qn;return e.test(rs(t))}function Nr(t){return cc(t)&&wr(t)==Xe}function Fr(t){return cc(t)&&Pd(t)==Ze}function Lr(t){return cc(t)&&sc(t.length)&&!!Vi[wr(t)]}function Br(t){return"function"==typeof t?t:null==t?$u:"object"==typeof t?yp(t)?Vr(t[0],t[1]):qr(t):Uu(t)}function zr(t){if(!Wa(t))return Kh(t);var e=[];for(var n in hh(t))yh.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ur(t){if(!lc(t))return Ya(t);var e=Wa(t),n=[];for(var i in t)("constructor"!=i||!e&&yh.call(t,i))&&n.push(i);return n}function Hr(t,e){return e>t}function Wr(t,e){var n=-1,i=Gl(t)?ah(t.length):[];return _d(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function qr(t){var e=Ea(t);return 1==e.length&&e[0][2]?Va(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Vr(t,e){return Ba(t)&&qa(e)?Va(is(t),e):function(n){var i=zc(n,t);return i===Z&&i===e?Hc(n,t):jr(e,i,ue|he)}}function Qr(t,e,n,i,r){t!==e&&yd(e,function(o,a){if(lc(o))r||(r=new yi),Kr(t,e,a,n,Qr,i,r);else{var s=i?i(t[a],o,a+"",t,e,r):Z;s===Z&&(s=o),Pi(t,a,s)}},qc)}function Kr(t,e,n,i,r,o,a){var s=t[n],l=e[n],c=a.get(l);if(c)return void Pi(t,n,c);var u=o?o(s,l,n+"",t,e,a):Z,h=u===Z;if(h){var d=yp(l),p=!d&&kp(l),f=!d&&!p&&Ep(l);u=l,d||p||f?yp(s)?u=s:Jl(s)?u=zo(s):p?(h=!1,u=Io(l,!0)):f?(h=!1,u=Mo(l,!0)):u=[]:vc(l)||bp(l)?(u=s,bp(s)?u=Ic(s):(!lc(s)||i&&oc(s))&&(u=$a(l))):h=!1}h&&(a.set(l,u),r(u,l,i,o,a),a["delete"](l)),Pi(t,n,u)}function Yr(t,e){var n=t.length;if(n)return e+=0>e?n:0,Fa(e,n)?t[e]:Z}function Gr(t,e,n){var i=-1;e=u(e.length?e:[$u],P(Ca()));var r=Wr(t,function(t){var n=u(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return T(r,function(t,e){return Fo(t,e,n)})}function Jr(t,e){return Xr(t,e,function(e,n){return Hc(t,n)})}function Xr(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=fr(t,a);n(s,a)&&lo(o,Eo(a,t),s)}return o}function Zr(t){return function(e){return fr(e,t)}}function to(t,e,n,i){var r=i?y:b,o=-1,a=e.length,s=t;for(t===e&&(e=zo(e)),n&&(s=u(t,P(n)));++o<a;)for(var l=0,c=e[o],h=n?n(c):c;(l=r(s,h,l,i))>-1;)s!==t&&$h.call(s,l,1),$h.call(t,l,1);return t}function eo(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Fa(r)?$h.call(t,r,1):bo(t,r)}}return t}function no(t,e){return t+Hh(Zh()*(e-t+1))}function io(t,e,n,i){for(var r=-1,o=Yh(Uh((e-t)/(n||1)),0),a=ah(o);o--;)a[i?o:++r]=t,t+=n;return a}function ro(t,e){var n="";if(!t||1>e||e>Pe)return n;do e%2&&(n+=t),e=Hh(e/2),e&&(t+=t);while(e);return n}function oo(t,e){return $d(Ja(t,e,$u),t+"")}function ao(t){return Ei(iu(t))}function so(t,e){var n=iu(t);return ns(n,Bi(e,0,n.length))}function lo(t,e,n,i){if(!lc(t))return t;e=Eo(e,t);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var l=is(e[r]),c=n;if(r!=a){var u=s[l];c=i?i(u,l,s):Z,c===Z&&(c=lc(u)?u:Fa(e[r+1])?[]:{})}Ai(s,l,c),s=s[l]}return t}function co(t){return ns(iu(t))}function uo(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=ah(r);++i<r;)o[i]=t[i+e];return o}function ho(t,e){var n;return _d(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function po(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&Re>=r){for(;r>i;){var o=i+r>>>1,a=t[o];null!==a&&!yc(a)&&(n?e>=a:e>a)?i=o+1:r=o}return r}return fo(t,e,$u,n)}function fo(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!==e,s=null===e,l=yc(e),c=e===Z;o>r;){var u=Hh((r+o)/2),h=n(t[u]),d=h!==Z,p=null===h,f=h===h,g=yc(h);if(a)var m=i||f;else m=c?f&&(i||d):s?f&&d&&(i||!p):l?f&&d&&!p&&(i||!g):p||g?!1:i?e>=h:e>h;m?r=u+1:o=u}return Gh(o,$e)}function go(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Yl(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function mo(t){return"number"==typeof t?t:yc(t)?je:+t}function vo(t){if("string"==typeof t)return t;if(yp(t))return u(t,vo)+"";if(yc(t))return md?md.call(t):"";var e=t+"";return"0"==e&&1/t==-Ie?"-0":e}function _o(t,e,n){var i=-1,r=l,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=c;else if(o>=ee){var h=e?null:Td(t);if(h)return W(h);a=!1,r=j,u=new vi}else u=e?[]:s;t:for(;++i<o;){var d=t[i],p=e?e(d):d;if(d=n||0!==d?d:0,a&&p===p){for(var f=u.length;f--;)if(u[f]===p)continue t;e&&u.push(p),s.push(d)}else r(u,p,n)||(u!==s&&u.push(p),s.push(d))}return s}function bo(t,e){return e=Eo(e,t),t=Xa(t,e),null==t||delete t[is(Cs(e))]}function yo(t,e,n,i){return lo(t,e,n(fr(t,e)),i)}function wo(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?uo(t,i?0:o,i?o+1:r):uo(t,i?o+1:0,i?r:o)}function ko(t,e){var n=t;return n instanceof J&&(n=n.value()),d(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function xo(t,e,n){var i=t.length;if(2>i)return i?_o(t[0]):[];for(var r=-1,o=ah(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Yi(o[r]||a,t[s],e,n));return _o(ir(o,1),e,n)}function So(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=o>i?e[i]:Z;n(a,t[i],s)}return a}function Co(t){return Jl(t)?t:[]}function To(t){return"function"==typeof t?t:$u}function Eo(t,e){return yp(t)?t:Ba(t,e)?[t]:Rd(Ac(t))}function Do(t,e,n){var i=t.length;return n=n===Z?i:n,!e&&n>=i?t:uo(t,e,n)}function Io(t,e){if(e)return t.slice();var n=t.length,i=Ph?Ph(n):new t.constructor(n);return t.copy(i),i}function Po(t){var e=new t.constructor(t.byteLength);return new Ih(e).set(new Ih(t)),e}function Ao(t,e){var n=e?Po(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function jo(e,n,i){var r=n?i(z(e),se):z(e);return d(r,t,new e.constructor)}function Oo(t){var e=new t.constructor(t.source,Un.exec(t));return e.lastIndex=t.lastIndex,e}function $o(t,n,i){var r=n?i(W(t),se):W(t);return d(r,e,new t.constructor)}function Ro(t){return gd?hh(gd.call(t)):{}}function Mo(t,e){var n=e?Po(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function No(t,e){if(t!==e){var n=t!==Z,i=null===t,r=t===t,o=yc(t),a=e!==Z,s=null===e,l=e===e,c=yc(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!c&&e>t||c&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function Fo(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=No(r[i],o[i]);if(l){if(i>=s)return l;var c=n[i];return l*("desc"==c?-1:1)}}return t.index-e.index}function Lo(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,c=Yh(o-a,0),u=ah(l+c),h=!i;++s<l;)u[s]=e[s];for(;++r<a;)(h||o>r)&&(u[n[r]]=t[r]);for(;c--;)u[s++]=t[r++];return u}function Bo(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,c=e.length,u=Yh(o-s,0),h=ah(u+c),d=!i;++r<u;)h[r]=t[r];for(var p=r;++l<c;)h[p+l]=e[l];for(;++a<s;)(d||o>r)&&(h[p+n[a]]=t[r++]);return h}function zo(t,e){var n=-1,i=t.length;for(e||(e=ah(i));++n<i;)e[n]=t[n];return e}function Uo(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):Z;l===Z&&(l=t[s]),r?Mi(n,s,l):Ai(n,s,l)}return n}function Ho(t,e){return Uo(t,Dd(t),e)}function Wo(t,e){return Uo(t,Id(t),e)}function qo(t,e){return function(n,r){var o=yp(n)?i:Oi,a=e?e():{};return o(n,t,Ca(r,2),a)}}function Vo(t){return oo(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:Z,a=r>2?n[2]:Z;for(o=t.length>3&&"function"==typeof o?(r--,o):Z,a&&La(n[0],n[1],a)&&(o=3>r?Z:o,r=1),e=hh(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function Qo(t,e){return function(n,i){if(null==n)return n;if(!Gl(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=hh(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function Ko(t){return function(e,n,i){for(var r=-1,o=hh(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(n(o[l],l,o)===!1)break}return e}}function Yo(t,e,n){function i(){var e=this&&this!==nr&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&de,o=Xo(t);return i}function Go(t){return function(e){e=Ac(e);var n=F(e)?Y(e):Z,i=n?n[0]:e.charAt(0),r=n?Do(n,1).join(""):e.slice(1);return i[t]()+r}}function Jo(t){return function(e){return d(Iu(cu(e).replace(Fi,"")),t,"")}}function Xo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=vd(t.prototype),i=t.apply(n,e);return lc(i)?i:n}}function Zo(t,e,i){function r(){for(var a=arguments.length,s=ah(a),l=a,c=Sa(r);l--;)s[l]=arguments[l];var u=3>a&&s[0]!==c&&s[a-1]!==c?[]:H(s,c);if(a-=u.length,i>a)return ua(t,e,na,r.placeholder,Z,s,u,Z,Z,i-a);var h=this&&this!==nr&&this instanceof r?o:t;return n(h,this,s)}var o=Xo(t);return r}function ta(t){return function(e,n,i){var r=hh(e);if(!Gl(e)){var o=Ca(n,3);e=Wc(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:Z}}function ea(t){return ya(function(e){var n=e.length,i=n,r=G.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new fh(ie);if(r&&!a&&"wrapper"==xa(o))var a=new G([],!0)}for(i=a?i:n;++i<n;){o=e[i];var s=xa(o),l="wrapper"==s?Ed(o):Z;a=l&&Ua(l[0])&&l[1]==(be|ge|ve|ye)&&!l[4].length&&1==l[9]?a[xa(l[0])].apply(a,l[3]):1==o.length&&Ua(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&yp(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);
return o}})}function na(t,e,n,i,r,o,a,s,l,c){function u(){for(var v=arguments.length,_=ah(v),b=v;b--;)_[b]=arguments[b];if(f)var y=Sa(u),w=R(_,y);if(i&&(_=Lo(_,i,r,f)),o&&(_=Bo(_,o,a,f)),v-=w,f&&c>v){var k=H(_,y);return ua(t,e,na,u.placeholder,n,_,k,s,l,c-v)}var x=d?n:this,S=p?x[t]:t;return v=_.length,s?_=Za(_,s):g&&v>1&&_.reverse(),h&&v>l&&(_.length=l),this&&this!==nr&&this instanceof u&&(S=m||Xo(S)),S.apply(x,_)}var h=e&be,d=e&de,p=e&pe,f=e&(ge|me),g=e&we,m=p?Z:Xo(t);return u}function ia(t,e){return function(n,i){return Er(n,t,e(i),{})}}function ra(t,e){return function(n,i){var r;if(n===Z&&i===Z)return e;if(n!==Z&&(r=n),i!==Z){if(r===Z)return i;"string"==typeof n||"string"==typeof i?(n=vo(n),i=vo(i)):(n=mo(n),i=mo(i)),r=t(n,i)}return r}}function oa(t){return ya(function(e){return e=u(e,P(Ca())),oo(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function aa(t,e){e=e===Z?" ":vo(e);var n=e.length;if(2>n)return n?ro(e,t):e;var i=ro(e,Uh(t/K(e)));return F(e)?Do(Y(i),0,t).join(""):i.slice(0,t)}function sa(t,e,i,r){function o(){for(var e=-1,l=arguments.length,c=-1,u=r.length,h=ah(u+l),d=this&&this!==nr&&this instanceof o?s:t;++c<u;)h[c]=r[c];for(;l--;)h[c++]=arguments[++e];return n(d,a?i:this,h)}var a=e&de,s=Xo(t);return o}function la(t){return function(e,n,i){return i&&"number"!=typeof i&&La(e,n,i)&&(n=i=Z),e=Cc(e),n===Z?(n=e,e=0):n=Cc(n),i=i===Z?n>e?1:-1:Cc(i),io(e,n,i,t)}}function ca(t){return function(e,n){return("string"!=typeof e||"string"!=typeof n)&&(e=Dc(e),n=Dc(n)),t(e,n)}}function ua(t,e,n,i,r,o,a,s,l,c){var u=e&ge,h=u?a:Z,d=u?Z:a,p=u?o:Z,f=u?Z:o;e|=u?ve:_e,e&=~(u?_e:ve),e&fe||(e&=~(de|pe));var g=[t,e,r,p,h,f,d,s,l,c],m=n.apply(Z,g);return Ua(t)&&jd(m,g),m.placeholder=i,ts(m,t,e)}function ha(t){var e=uh[t];return function(t,n){if(t=Dc(t),n=null==n?0:Gh(Tc(n),292)){var i=(Ac(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Ac(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function da(t){return function(e){var n=Pd(e);return n==Ve?z(e):n==Ze?q(e):I(e,t(e))}}function pa(t,e,n,i,r,o,a,s){var l=e&pe;if(!l&&"function"!=typeof t)throw new fh(ie);var c=i?i.length:0;if(c||(e&=~(ve|_e),i=r=Z),a=a===Z?a:Yh(Tc(a),0),s=s===Z?s:Tc(s),c-=r?r.length:0,e&_e){var u=i,h=r;i=r=Z}var d=l?Z:Ed(t),p=[t,e,n,i,r,u,h,o,a,s];if(d&&Ka(p,d),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],s=p[9]=p[9]===Z?l?0:t.length:Yh(p[9]-c,0),!s&&e&(ge|me)&&(e&=~(ge|me)),e&&e!=de)f=e==ge||e==me?Zo(t,e,s):e!=ve&&e!=(de|ve)||r.length?na.apply(Z,p):sa(t,e,n,i);else var f=Yo(t,e,n);var g=d?kd:jd;return ts(g(f,p),t,e)}function fa(t,e,n,i){return t===Z||Yl(t,vh[n])&&!yh.call(i,n)?e:t}function ga(t,e,n,i,r,o){return lc(t)&&lc(e)&&(o.set(e,t),Qr(t,e,Z,ga,o),o["delete"](e)),t}function ma(t){return vc(t)?Z:t}function va(t,e,n,i,r,o){var a=n&ue,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,h=!0,d=n&he?new vi:Z;for(o.set(t,e),o.set(e,t);++u<s;){var p=t[u],g=e[u];if(i)var m=a?i(g,p,u,e,t,o):i(p,g,u,t,e,o);if(m!==Z){if(m)continue;h=!1;break}if(d){if(!f(e,function(t,e){return j(d,e)||p!==t&&!r(p,t,n,i,o)?void 0:d.push(e)})){h=!1;break}}else if(p!==g&&!r(p,g,n,i,o)){h=!1;break}}return o["delete"](t),o["delete"](e),h}function _a(t,e,n,i,r,o,a){switch(n){case sn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case an:return t.byteLength==e.byteLength&&o(new Ih(t),new Ih(e))?!0:!1;case Be:case ze:case Qe:return Yl(+t,+e);case He:return t.name==e.name&&t.message==e.message;case Xe:case tn:return t==e+"";case Ve:var s=z;case Ze:var l=i&ue;if(s||(s=W),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;i|=he,a.set(t,e);var u=va(s(t),s(e),i,r,o,a);return a["delete"](t),u;case en:if(gd)return gd.call(t)==gd.call(e)}return!1}function ba(t,e,n,i,r,o){var a=n&ue,s=wa(t),l=s.length,c=wa(e),u=c.length;if(l!=u&&!a)return!1;for(var h=l;h--;){var d=s[h];if(!(a?d in e:yh.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var g=a;++h<l;){d=s[h];var m=t[d],v=e[d];if(i)var _=a?i(v,m,d,e,t,o):i(m,v,d,t,e,o);if(!(_===Z?m===v||r(m,v,n,i,o):_)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=t.constructor,y=e.constructor;b!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o["delete"](t),o["delete"](e),f}function ya(t){return $d(Ja(t,Z,vs),t+"")}function wa(t){return _r(t,Wc,Dd)}function ka(t){return _r(t,qc,Id)}function xa(t){for(var e=t.name+"",n=ld[e],i=yh.call(ld,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Sa(t){var e=yh.call(S,"placeholder")?S:t;return e.placeholder}function Ca(){var t=S.iteratee||Ru;return t=t===Ru?Br:t,arguments.length?t(arguments[0],arguments[1]):t}function Ta(t,e){var n=t.__data__;return za(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ea(t){for(var e=Wc(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,qa(r)]}return e}function Da(t,e){var n=N(t,e);return Mr(n)?n:Z}function Ia(t){var e=yh.call(t,Nh),n=t[Nh];try{t[Nh]=Z;var i=!0}catch(r){}var o=xh.call(t);return i&&(e?t[Nh]=n:delete t[Nh]),o}function Pa(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Gh(e,t+a);break;case"takeRight":t=Yh(t,e-a)}}return{start:t,end:e}}function Aa(t){var e=t.match(Nn);return e?e[1].split(Fn):[]}function ja(t,e,n){e=Eo(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var a=is(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&sc(r)&&Fa(a,r)&&(yp(t)||bp(t)))}function Oa(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&yh.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function $a(t){return"function"!=typeof t.constructor||Wa(t)?{}:vd(Ah(t))}function Ra(t,e,n,i){var r=t.constructor;switch(e){case an:return Po(t);case Be:case ze:return new r(+t);case sn:return Ao(t,i);case ln:case cn:case un:case hn:case dn:case pn:case fn:case gn:case mn:return Mo(t,i);case Ve:return jo(t,i,n);case Qe:case tn:return new r(t);case Xe:return Oo(t);case Ze:return $o(t,i,n);case en:return Ro(t)}}function Ma(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Mn,"{\n/* [wrapped with "+e+"] */\n")}function Na(t){return yp(t)||bp(t)||!!(Rh&&t&&t[Rh])}function Fa(t,e){return e=null==e?Pe:e,!!e&&("number"==typeof t||Qn.test(t))&&t>-1&&t%1==0&&e>t}function La(t,e,n){if(!lc(n))return!1;var i=typeof e;return("number"==i?Gl(n)&&Fa(e,n.length):"string"==i&&e in n)?Yl(n[e],t):!1}function Ba(t,e){if(yp(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||yc(t)?!0:Dn.test(t)||!En.test(t)||null!=e&&t in hh(e)}function za(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ua(t){var e=xa(t),n=S[e];if("function"!=typeof n||!(e in J.prototype))return!1;if(t===n)return!0;var i=Ed(n);return!!i&&t===i[0]}function Ha(t){return!!kh&&kh in t}function Wa(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||vh;return t===n}function qa(t){return t===t&&!lc(t)}function Va(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==Z||t in hh(n))}}function Qa(t){var e=Rl(t,function(t){return n.size===oe&&n.clear(),t}),n=e.cache;return e}function Ka(t,e){var n=t[1],i=e[1],r=n|i,o=(de|pe|be)>r,a=i==be&&n==ge||i==be&&n==ye&&t[7].length<=e[8]||i==(be|ye)&&e[7].length<=e[8]&&n==ge;if(!o&&!a)return t;i&de&&(t[2]=e[2],r|=n&de?0:fe);var s=e[3];if(s){var l=t[3];t[3]=l?Lo(l,s,e[4]):s,t[4]=l?H(t[3],ae):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Bo(l,s,e[6]):s,t[6]=l?H(t[5],ae):e[6]),s=e[7],s&&(t[7]=s),i&be&&(t[8]=null==t[8]?e[8]:Gh(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Ya(t){var e=[];if(null!=t)for(var n in hh(t))e.push(n);return e}function Ga(t){return xh.call(t)}function Ja(t,e,i){return e=Yh(e===Z?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Yh(r.length-e,0),s=ah(a);++o<a;)s[o]=r[e+o];o=-1;for(var l=ah(e+1);++o<e;)l[o]=r[o];return l[e]=i(s),n(t,this,l)}}function Xa(t,e){return e.length<2?t:fr(t,uo(e,0,-1))}function Za(t,e){for(var n=t.length,i=Gh(e.length,n),r=zo(t);i--;){var o=e[i];t[i]=Fa(o,n)?r[o]:Z}return t}function ts(t,e,n){var i=e+"";return $d(t,Ma(i,os(Aa(i),n)))}function es(t){var e=0,n=0;return function(){var i=Jh(),r=Ce-(i-n);if(n=i,r>0){if(++e>=Se)return arguments[0]}else e=0;return t.apply(Z,arguments)}}function ns(t,e){var n=-1,i=t.length,r=i-1;for(e=e===Z?i:e;++n<e;){var o=no(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function is(t){if("string"==typeof t||yc(t))return t;var e=t+"";return"0"==e&&1/t==-Ie?"-0":e}function rs(t){if(null!=t){try{return bh.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function os(t,e){return r(Me,function(n){var i="_."+n[0];e&n[1]&&!l(t,i)&&t.push(i)}),t.sort()}function as(t){if(t instanceof J)return t.clone();var e=new G(t.__wrapped__,t.__chain__);return e.__actions__=zo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ss(t,e,n){e=(n?La(t,e,n):e===Z)?1:Yh(Tc(e),0);var i=null==t?0:t.length;if(!i||1>e)return[];for(var r=0,o=0,a=ah(Uh(i/e));i>r;)a[o++]=uo(t,r,r+=e);return a}function ls(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function cs(){var t=arguments.length;if(!t)return[];for(var e=ah(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return h(yp(n)?zo(n):[n],ir(e,1))}function us(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Z?1:Tc(e),uo(t,0>e?0:e,i)):[]}function hs(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Z?1:Tc(e),e=i-e,uo(t,0,0>e?0:e)):[]}function ds(t,e){return t&&t.length?wo(t,Ca(e,3),!0,!0):[]}function ps(t,e){return t&&t.length?wo(t,Ca(e,3),!0):[]}function fs(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&La(t,e,n)&&(n=0,i=r),tr(t,e,n,i)):[]}function gs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Tc(n);return 0>r&&(r=Yh(i+r,0)),_(t,Ca(e,3),r)}function ms(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==Z&&(r=Tc(n),r=0>n?Yh(i+r,0):Gh(r,i-1)),_(t,Ca(e,3),r,!0)}function vs(t){var e=null==t?0:t.length;return e?ir(t,1):[]}function _s(t){var e=null==t?0:t.length;return e?ir(t,Ie):[]}function bs(t,e){var n=null==t?0:t.length;return n?(e=e===Z?1:Tc(e),ir(t,e)):[]}function ys(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function ws(t){return t&&t.length?t[0]:Z}function ks(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Tc(n);return 0>r&&(r=Yh(i+r,0)),b(t,e,r)}function xs(t){var e=null==t?0:t.length;return e?uo(t,0,-1):[]}function Ss(t,e){return null==t?"":Qh.call(t,e)}function Cs(t){var e=null==t?0:t.length;return e?t[e-1]:Z}function Ts(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==Z&&(r=Tc(n),r=0>r?Yh(i+r,0):Gh(r,i-1)),e===e?Q(t,e,r):_(t,w,r,!0)}function Es(t,e){return t&&t.length?Yr(t,Tc(e)):Z}function Ds(t,e){return t&&t.length&&e&&e.length?to(t,e):t}function Is(t,e,n){return t&&t.length&&e&&e.length?to(t,e,Ca(n,2)):t}function Ps(t,e,n){return t&&t.length&&e&&e.length?to(t,e,Z,n):t}function As(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Ca(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return eo(t,r),n}function js(t){return null==t?t:td.call(t)}function Os(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&La(t,e,n)?(e=0,n=i):(e=null==e?0:Tc(e),n=n===Z?i:Tc(n)),uo(t,e,n)):[]}function $s(t,e){return po(t,e)}function Rs(t,e,n){return fo(t,e,Ca(n,2))}function Ms(t,e){var n=null==t?0:t.length;if(n){var i=po(t,e);if(n>i&&Yl(t[i],e))return i}return-1}function Ns(t,e){return po(t,e,!0)}function Fs(t,e,n){return fo(t,e,Ca(n,2),!0)}function Ls(t,e){var n=null==t?0:t.length;if(n){var i=po(t,e,!0)-1;if(Yl(t[i],e))return i}return-1}function Bs(t){return t&&t.length?go(t):[]}function zs(t,e){return t&&t.length?go(t,Ca(e,2)):[]}function Us(t){var e=null==t?0:t.length;return e?uo(t,1,e):[]}function Hs(t,e,n){return t&&t.length?(e=n||e===Z?1:Tc(e),uo(t,0,0>e?0:e)):[]}function Ws(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Z?1:Tc(e),e=i-e,uo(t,0>e?0:e,i)):[]}function qs(t,e){return t&&t.length?wo(t,Ca(e,3),!1,!0):[]}function Vs(t,e){return t&&t.length?wo(t,Ca(e,3)):[]}function Qs(t){return t&&t.length?_o(t):[]}function Ks(t,e){return t&&t.length?_o(t,Ca(e,2)):[]}function Ys(t,e){return e="function"==typeof e?e:Z,t&&t.length?_o(t,Z,e):[]}function Gs(t){if(!t||!t.length)return[];var e=0;return t=s(t,function(t){return Jl(t)?(e=Yh(t.length,e),!0):void 0}),D(e,function(e){return u(t,x(e))})}function Js(t,e){if(!t||!t.length)return[];var i=Gs(t);return null==e?i:u(i,function(t){return n(e,Z,t)})}function Xs(t,e){return So(t||[],e||[],Ai)}function Zs(t,e){return So(t||[],e||[],lo)}function tl(t){var e=S(t);return e.__chain__=!0,e}function el(t,e){return e(t),t}function nl(t,e){return e(t)}function il(){return tl(this)}function rl(){return new G(this.value(),this.__chain__)}function ol(){this.__values__===Z&&(this.__values__=Sc(this.value()));var t=this.__index__>=this.__values__.length,e=t?Z:this.__values__[this.__index__++];return{done:t,value:e}}function al(){return this}function sl(t){for(var e,n=this;n instanceof V;){var i=as(n);i.__index__=0,i.__values__=Z,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function ll(){var t=this.__wrapped__;if(t instanceof J){var e=t;return this.__actions__.length&&(e=new J(this)),e=e.reverse(),e.__actions__.push({func:nl,args:[js],thisArg:Z}),new G(e,this.__chain__)}return this.thru(js)}function cl(){return ko(this.__wrapped__,this.__actions__)}function ul(t,e,n){var i=yp(t)?a:Gi;return n&&La(t,e,n)&&(e=Z),i(t,Ca(e,3))}function hl(t,e){var n=yp(t)?s:er;return n(t,Ca(e,3))}function dl(t,e){return ir(_l(t,e),1)}function pl(t,e){return ir(_l(t,e),Ie)}function fl(t,e,n){return n=n===Z?1:Tc(n),ir(_l(t,e),n)}function gl(t,e){var n=yp(t)?r:_d;return n(t,Ca(e,3))}function ml(t,e){var n=yp(t)?o:bd;return n(t,Ca(e,3))}function vl(t,e,n,i){t=Gl(t)?t:iu(t),n=n&&!i?Tc(n):0;var r=t.length;return 0>n&&(n=Yh(r+n,0)),bc(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&b(t,e,n)>-1}function _l(t,e){var n=yp(t)?u:Wr;return n(t,Ca(e,3))}function bl(t,e,n,i){return null==t?[]:(yp(e)||(e=null==e?[]:[e]),n=i?Z:n,yp(n)||(n=null==n?[]:[n]),Gr(t,e,n))}function yl(t,e,n){var i=yp(t)?d:C,r=arguments.length<3;return i(t,Ca(e,4),n,r,_d)}function wl(t,e,n){var i=yp(t)?p:C,r=arguments.length<3;return i(t,Ca(e,4),n,r,bd)}function kl(t,e){var n=yp(t)?s:er;return n(t,Ml(Ca(e,3)))}function xl(t){var e=yp(t)?Ei:ao;return e(t)}function Sl(t,e,n){e=(n?La(t,e,n):e===Z)?1:Tc(e);var i=yp(t)?Di:so;return i(t,e)}function Cl(t){var e=yp(t)?Ii:co;return e(t)}function Tl(t){if(null==t)return 0;if(Gl(t))return bc(t)?K(t):t.length;var e=Pd(t);return e==Ve||e==Ze?t.size:zr(t).length}function El(t,e,n){var i=yp(t)?f:ho;return n&&La(t,e,n)&&(e=Z),i(t,Ca(e,3))}function Dl(t,e){if("function"!=typeof e)throw new fh(ie);return t=Tc(t),function(){return--t<1?e.apply(this,arguments):void 0}}function Il(t,e,n){return e=n?Z:e,e=t&&null==e?t.length:e,pa(t,be,Z,Z,Z,Z,e)}function Pl(t,e){var n;if("function"!=typeof e)throw new fh(ie);return t=Tc(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Z),n}}function Al(t,e,n){e=n?Z:e;var i=pa(t,ge,Z,Z,Z,Z,Z,e);return i.placeholder=Al.placeholder,i}function jl(t,e,n){e=n?Z:e;var i=pa(t,me,Z,Z,Z,Z,Z,e);return i.placeholder=jl.placeholder,i}function Ol(t,e,n){function i(e){var n=d,i=p;return d=p=Z,_=e,g=t.apply(i,n)}function r(t){return _=t,m=Od(s,e),b?i(t):g}function o(t){var n=t-v,i=t-_,r=e-n;return y?Gh(r,f-i):r}function a(t){var n=t-v,i=t-_;return v===Z||n>=e||0>n||y&&i>=f}function s(){var t=lp();return a(t)?l(t):void(m=Od(s,o(t)))}function l(t){return m=Z,w&&d?i(t):(d=p=Z,g)}function c(){m!==Z&&Cd(m),_=0,d=v=p=m=Z}function u(){return m===Z?g:l(lp())}function h(){var t=lp(),n=a(t);if(d=arguments,p=this,v=t,n){if(m===Z)return r(v);if(y)return m=Od(s,e),i(v)}return m===Z&&(m=Od(s,e)),g}var d,p,f,g,m,v,_=0,b=!1,y=!1,w=!0;if("function"!=typeof t)throw new fh(ie);return e=Dc(e)||0,lc(n)&&(b=!!n.leading,y="maxWait"in n,f=y?Yh(Dc(n.maxWait)||0,e):f,w="trailing"in n?!!n.trailing:w),h.cancel=c,h.flush=u,h}function $l(t){return pa(t,we)}function Rl(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new fh(ie);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Rl.Cache||hi),n}function Ml(t){if("function"!=typeof t)throw new fh(ie);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Nl(t){return Pl(2,t)}function Fl(t,e){if("function"!=typeof t)throw new fh(ie);return e=e===Z?e:Tc(e),oo(t,e)}function Ll(t,e){if("function"!=typeof t)throw new fh(ie);return e=null==e?0:Yh(Tc(e),0),oo(function(i){var r=i[e],o=Do(i,0,e);return r&&h(o,r),n(t,this,o)})}function Bl(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new fh(ie);return lc(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ol(t,e,{leading:i,maxWait:e,trailing:r})}function zl(t){return Il(t,1)}function Ul(t,e){return fp(To(e),t)}function Hl(){if(!arguments.length)return[];var t=arguments[0];return yp(t)?t:[t]}function Wl(t){return zi(t,ce)}function ql(t,e){return e="function"==typeof e?e:Z,zi(t,ce,e)}function Vl(t){return zi(t,se|ce)}function Ql(t,e){return e="function"==typeof e?e:Z,zi(t,se|ce,e)}function Kl(t,e){return null==e||Hi(t,e,Wc(e))}function Yl(t,e){return t===e||t!==t&&e!==e}function Gl(t){return null!=t&&sc(t.length)&&!oc(t)}function Jl(t){return cc(t)&&Gl(t)}function Xl(t){return t===!0||t===!1||cc(t)&&wr(t)==Be}function Zl(t){return cc(t)&&1===t.nodeType&&!vc(t)}function tc(t){if(null==t)return!0;if(Gl(t)&&(yp(t)||"string"==typeof t||"function"==typeof t.splice||kp(t)||Ep(t)||bp(t)))return!t.length;var e=Pd(t);if(e==Ve||e==Ze)return!t.size;if(Wa(t))return!zr(t).length;for(var n in t)if(yh.call(t,n))return!1;return!0}function ec(t,e){return jr(t,e)}function nc(t,e,n){n="function"==typeof n?n:Z;var i=n?n(t,e):Z;return i===Z?jr(t,e,Z,n):!!i}function ic(t){if(!cc(t))return!1;var e=wr(t);return e==He||e==Ue||"string"==typeof t.message&&"string"==typeof t.name&&!vc(t)}function rc(t){return"number"==typeof t&&Vh(t)}function oc(t){if(!lc(t))return!1;var e=wr(t);return e==We||e==qe||e==Le||e==Je}function ac(t){return"number"==typeof t&&t==Tc(t)}function sc(t){return"number"==typeof t&&t>-1&&t%1==0&&Pe>=t}function lc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function cc(t){return null!=t&&"object"==typeof t}function uc(t,e){return t===e||Rr(t,e,Ea(e))}function hc(t,e,n){return n="function"==typeof n?n:Z,Rr(t,e,Ea(e),n)}function dc(t){return mc(t)&&t!=+t}function pc(t){if(Ad(t))throw new lh(ne);return Mr(t)}function fc(t){return null===t}function gc(t){return null==t}function mc(t){return"number"==typeof t||cc(t)&&wr(t)==Qe}function vc(t){if(!cc(t)||wr(t)!=Ye)return!1;var e=Ah(t);if(null===e)return!0;var n=yh.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bh.call(n)==Sh}function _c(t){return ac(t)&&t>=-Pe&&Pe>=t}function bc(t){return"string"==typeof t||!yp(t)&&cc(t)&&wr(t)==tn}function yc(t){return"symbol"==typeof t||cc(t)&&wr(t)==en}function wc(t){return t===Z}function kc(t){return cc(t)&&Pd(t)==rn}function xc(t){return cc(t)&&wr(t)==on}function Sc(t){if(!t)return[];if(Gl(t))return bc(t)?Y(t):zo(t);if(Mh&&t[Mh])return B(t[Mh]());var e=Pd(t),n=e==Ve?z:e==Ze?W:iu;return n(t)}function Cc(t){if(!t)return 0===t?t:0;if(t=Dc(t),t===Ie||t===-Ie){var e=0>t?-1:1;return e*Ae}return t===t?t:0}function Tc(t){var e=Cc(t),n=e%1;return e===e?n?e-n:e:0}function Ec(t){return t?Bi(Tc(t),0,Oe):0}function Dc(t){if("number"==typeof t)return t;if(yc(t))return je;if(lc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=lc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(On,"");var n=Wn.test(t);return n||Vn.test(t)?Zi(t.slice(2),n?2:8):Hn.test(t)?je:+t}function Ic(t){return Uo(t,qc(t))}function Pc(t){return t?Bi(Tc(t),-Pe,Pe):0===t?t:0}function Ac(t){return null==t?"":vo(t)}function jc(t,e){var n=vd(t);return null==e?n:$i(n,e)}function Oc(t,e){return v(t,Ca(e,3),rr)}function $c(t,e){return v(t,Ca(e,3),ar)}function Rc(t,e){return null==t?t:yd(t,Ca(e,3),qc)}function Mc(t,e){return null==t?t:wd(t,Ca(e,3),qc)}function Nc(t,e){return t&&rr(t,Ca(e,3))}function Fc(t,e){return t&&ar(t,Ca(e,3))}function Lc(t){return null==t?[]:sr(t,Wc(t))}function Bc(t){return null==t?[]:sr(t,qc(t))}function zc(t,e,n){var i=null==t?Z:fr(t,e);return i===Z?n:i}function Uc(t,e){return null!=t&&ja(t,e,xr)}function Hc(t,e){return null!=t&&ja(t,e,Sr)}function Wc(t){return Gl(t)?Ti(t):zr(t)}function qc(t){return Gl(t)?Ti(t,!0):Ur(t)}function Vc(t,e){var n={};return e=Ca(e,3),rr(t,function(t,i,r){Mi(n,e(t,i,r),t)}),n}function Qc(t,e){var n={};return e=Ca(e,3),rr(t,function(t,i,r){Mi(n,i,e(t,i,r))}),n}function Kc(t,e){return Yc(t,Ml(Ca(e)))}function Yc(t,e){if(null==t)return{};var n=u(ka(t),function(t){return[t]});return e=Ca(e),Xr(t,n,function(t,n){return e(t,n[0])})}function Gc(t,e,n){e=Eo(e,t);var i=-1,r=e.length;for(r||(r=1,t=Z);++i<r;){var o=null==t?Z:t[is(e[i])];o===Z&&(i=r,o=n),t=oc(o)?o.call(t):o}return t}function Jc(t,e,n){return null==t?t:lo(t,e,n)}function Xc(t,e,n,i){return i="function"==typeof i?i:Z,null==t?t:lo(t,e,n,i)}function Zc(t,e,n){var i=yp(t),o=i||kp(t)||Ep(t);if(e=Ca(e,4),null==n){var a=t&&t.constructor;n=o?i?new a:[]:lc(t)&&oc(a)?vd(Ah(t)):{}}return(o?r:rr)(t,function(t,i,r){return e(n,t,i,r)}),n}function tu(t,e){return null==t?!0:bo(t,e)}function eu(t,e,n){return null==t?t:yo(t,e,To(n))}function nu(t,e,n,i){return i="function"==typeof i?i:Z,null==t?t:yo(t,e,To(n),i)}function iu(t){return null==t?[]:A(t,Wc(t))}function ru(t){return null==t?[]:A(t,qc(t))}function ou(t,e,n){return n===Z&&(n=e,e=Z),n!==Z&&(n=Dc(n),n=n===n?n:0),e!==Z&&(e=Dc(e),e=e===e?e:0),Bi(Dc(t),e,n)}function au(t,e,n){return e=Cc(e),n===Z?(n=e,e=0):n=Cc(n),t=Dc(t),Cr(t,e,n)}function su(t,e,n){if(n&&"boolean"!=typeof n&&La(t,e,n)&&(e=n=Z),n===Z&&("boolean"==typeof e?(n=e,e=Z):"boolean"==typeof t&&(n=t,t=Z)),t===Z&&e===Z?(t=0,e=1):(t=Cc(t),e===Z?(e=t,t=0):e=Cc(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Zh();return Gh(t+r*(e-t+Xi("1e-"+((r+"").length-1))),e)}return no(t,e)}function lu(t){return Zp(Ac(t).toLowerCase())}function cu(t){return t=Ac(t),t&&t.replace(Kn,gr).replace(Li,"")}function uu(t,e,n){t=Ac(t),e=vo(e);var i=t.length;n=n===Z?i:Bi(Tc(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function hu(t){return t=Ac(t),t&&xn.test(t)?t.replace(wn,mr):t}function du(t){return t=Ac(t),t&&jn.test(t)?t.replace(An,"\\$&"):t}function pu(t,e,n){t=Ac(t),e=Tc(e);var i=e?K(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return aa(Hh(r),n)+t+aa(Uh(r),n)}function fu(t,e,n){t=Ac(t),e=Tc(e);var i=e?K(t):0;return e&&e>i?t+aa(e-i,n):t}function gu(t,e,n){t=Ac(t),e=Tc(e);var i=e?K(t):0;return e&&e>i?aa(e-i,n)+t:t}function mu(t,e,n){return n||null==e?e=0:e&&(e=+e),Xh(Ac(t).replace($n,""),e||0)}function vu(t,e,n){return e=(n?La(t,e,n):e===Z)?1:Tc(e),ro(Ac(t),e)}function _u(){var t=arguments,e=Ac(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bu(t,e,n){return n&&"number"!=typeof n&&La(t,e,n)&&(e=n=Z),(n=n===Z?Oe:n>>>0)?(t=Ac(t),t&&("string"==typeof e||null!=e&&!Cp(e))&&(e=vo(e),!e&&F(t))?Do(Y(t),0,n):t.split(e,n)):[]}function yu(t,e,n){return t=Ac(t),n=null==n?0:Bi(Tc(n),0,t.length),e=vo(e),t.slice(n,n+e.length)==e}function wu(t,e,n){var i=S.templateSettings;n&&La(t,e,n)&&(e=Z),t=Ac(t),e=jp({},e,i,fa);var r,o,a=jp({},e.imports,i.imports,fa),s=Wc(a),l=A(a,s),c=0,u=e.interpolate||Yn,h="__p += '",d=dh((e.escape||Yn).source+"|"+u.source+"|"+(u===Tn?zn:Yn).source+"|"+(e.evaluate||Yn).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++qi+"]")+"\n";t.replace(d,function(e,n,i,a,s,l){return i||(i=a),h+=t.slice(c,l).replace(Gn,M),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),h+="';\n";var f=e.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(vn,""):h).replace(_n,"$1").replace(bn,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=tf(function(){return ch(s,p+"return "+h).apply(Z,l)});if(g.source=h,ic(g))throw g;return g}function ku(t){return Ac(t).toLowerCase()}function xu(t){return Ac(t).toUpperCase()}function Su(t,e,n){if(t=Ac(t),t&&(n||e===Z))return t.replace(On,"");if(!t||!(e=vo(e)))return t;var i=Y(t),r=Y(e),o=O(i,r),a=$(i,r)+1;return Do(i,o,a).join("")}function Cu(t,e,n){if(t=Ac(t),t&&(n||e===Z))return t.replace(Rn,"");if(!t||!(e=vo(e)))return t;var i=Y(t),r=$(i,Y(e))+1;return Do(i,0,r).join("")}function Tu(t,e,n){if(t=Ac(t),t&&(n||e===Z))return t.replace($n,"");if(!t||!(e=vo(e)))return t;var i=Y(t),r=O(i,Y(e));return Do(i,r).join("")}function Eu(t,e){var n=ke,i=xe;if(lc(e)){var r="separator"in e?e.separator:r;n="length"in e?Tc(e.length):n,i="omission"in e?vo(e.omission):i}t=Ac(t);var o=t.length;if(F(t)){var a=Y(t);o=a.length}if(n>=o)return t;var s=n-K(i);if(1>s)return i;var l=a?Do(a,0,s).join(""):t.slice(0,s);if(r===Z)return l+i;if(a&&(s+=l.length-s),Cp(r)){if(t.slice(s).search(r)){var c,u=l;for(r.global||(r=dh(r.source,Ac(Un.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var h=c.index;l=l.slice(0,h===Z?s:h)}}else if(t.indexOf(vo(r),s)!=s){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i}function Du(t){return t=Ac(t),t&&kn.test(t)?t.replace(yn,vr):t}function Iu(t,e,n){return t=Ac(t),e=n?Z:e,e===Z?L(t)?X(t):m(t):t.match(e)||[]}function Pu(t){var e=null==t?0:t.length,i=Ca();return t=e?u(t,function(t){if("function"!=typeof t[1])throw new fh(ie);return[i(t[0]),t[1]]}):[],oo(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function Au(t){return Ui(zi(t,se))}function ju(t){return function(){return t}}function Ou(t,e){return null==t||t!==t?e:t}function $u(t){return t}function Ru(t){return Br("function"==typeof t?t:zi(t,se))}function Mu(t){return qr(zi(t,se))}function Nu(t,e){return Vr(t,zi(e,se))}function Fu(t,e,n){var i=Wc(e),o=sr(e,i);null!=n||lc(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=sr(e,Wc(e)));var a=!(lc(n)&&"chain"in n&&!n.chain),s=oc(t);return r(o,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=zo(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,h([this.value()],arguments))})}),t}function Lu(){return nr._===this&&(nr._=Ch),this}function Bu(){}function zu(t){return t=Tc(t),oo(function(e){return Yr(e,t)})}function Uu(t){return Ba(t)?x(is(t)):Zr(t)}function Hu(t){return function(e){return null==t?Z:fr(t,e)}}function Wu(){return[]}function qu(){return!1}function Vu(){return{}}function Qu(){return""}function Ku(){return!0}function Yu(t,e){if(t=Tc(t),1>t||t>Pe)return[];var n=Oe,i=Gh(t,Oe);e=Ca(e),t-=Oe;for(var r=D(i,e);++n<t;)e(n);return r}function Gu(t){return yp(t)?u(t,is):yc(t)?[t]:zo(Rd(Ac(t)))}function Ju(t){var e=++wh;return Ac(t)+e}function Xu(t){return t&&t.length?Ji(t,$u,kr):Z}function Zu(t,e){return t&&t.length?Ji(t,Ca(e,2),kr):Z}function th(t){return k(t,$u)}function eh(t,e){return k(t,Ca(e,2))}function nh(t){return t&&t.length?Ji(t,$u,Hr):Z}function ih(t,e){return t&&t.length?Ji(t,Ca(e,2),Hr):Z}function rh(t){return t&&t.length?E(t,$u):0}function oh(t,e){return t&&t.length?E(t,Ca(e,2)):0}g=null==g?nr:br.defaults(nr.Object(),g,br.pick(nr,Wi));var ah=g.Array,sh=g.Date,lh=g.Error,ch=g.Function,uh=g.Math,hh=g.Object,dh=g.RegExp,ph=g.String,fh=g.TypeError,gh=ah.prototype,mh=ch.prototype,vh=hh.prototype,_h=g["__core-js_shared__"],bh=mh.toString,yh=vh.hasOwnProperty,wh=0,kh=function(){var t=/[^.]+$/.exec(_h&&_h.keys&&_h.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),xh=vh.toString,Sh=bh.call(hh),Ch=nr._,Th=dh("^"+bh.call(yh).replace(An,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Eh=or?g.Buffer:Z,Dh=g.Symbol,Ih=g.Uint8Array,Ph=Eh?Eh.allocUnsafe:Z,Ah=U(hh.getPrototypeOf,hh),jh=hh.create,Oh=vh.propertyIsEnumerable,$h=gh.splice,Rh=Dh?Dh.isConcatSpreadable:Z,Mh=Dh?Dh.iterator:Z,Nh=Dh?Dh.toStringTag:Z,Fh=function(){try{var t=Da(hh,"defineProperty");return t({},"",{}),t}catch(e){}}(),Lh=g.clearTimeout!==nr.clearTimeout&&g.clearTimeout,Bh=sh&&sh.now!==nr.Date.now&&sh.now,zh=g.setTimeout!==nr.setTimeout&&g.setTimeout,Uh=uh.ceil,Hh=uh.floor,Wh=hh.getOwnPropertySymbols,qh=Eh?Eh.isBuffer:Z,Vh=g.isFinite,Qh=gh.join,Kh=U(hh.keys,hh),Yh=uh.max,Gh=uh.min,Jh=sh.now,Xh=g.parseInt,Zh=uh.random,td=gh.reverse,ed=Da(g,"DataView"),nd=Da(g,"Map"),id=Da(g,"Promise"),rd=Da(g,"Set"),od=Da(g,"WeakMap"),ad=Da(hh,"create"),sd=od&&new od,ld={},cd=rs(ed),ud=rs(nd),hd=rs(id),dd=rs(rd),pd=rs(od),fd=Dh?Dh.prototype:Z,gd=fd?fd.valueOf:Z,md=fd?fd.toString:Z,vd=function(){function t(){}return function(e){if(!lc(e))return{};if(jh)return jh(e);t.prototype=e;var n=new t;return t.prototype=Z,n}}();S.templateSettings={escape:Sn,evaluate:Cn,interpolate:Tn,variable:"",imports:{_:S}},S.prototype=V.prototype,S.prototype.constructor=S,G.prototype=vd(V.prototype),G.prototype.constructor=G,J.prototype=vd(V.prototype),J.prototype.constructor=J,Zn.prototype.clear=ti,Zn.prototype["delete"]=ei,Zn.prototype.get=ni,Zn.prototype.has=ii,Zn.prototype.set=ri,oi.prototype.clear=ai,oi.prototype["delete"]=si,oi.prototype.get=li,oi.prototype.has=ci,oi.prototype.set=ui,hi.prototype.clear=di,hi.prototype["delete"]=pi,hi.prototype.get=fi,hi.prototype.has=gi,hi.prototype.set=mi,vi.prototype.add=vi.prototype.push=_i,vi.prototype.has=bi,yi.prototype.clear=wi,yi.prototype["delete"]=ki,yi.prototype.get=xi,yi.prototype.has=Si,yi.prototype.set=Ci;var _d=Qo(rr),bd=Qo(ar,!0),yd=Ko(),wd=Ko(!0),kd=sd?function(t,e){return sd.set(t,e),t}:$u,xd=Fh?function(t,e){return Fh(t,"toString",{configurable:!0,enumerable:!1,value:ju(e),writable:!0})}:$u,Sd=oo,Cd=Lh||function(t){return nr.clearTimeout(t)},Td=rd&&1/W(new rd([,-0]))[1]==Ie?function(t){return new rd(t)}:Bu,Ed=sd?function(t){return sd.get(t)}:Bu,Dd=Wh?function(t){return null==t?[]:(t=hh(t),s(Wh(t),function(e){return Oh.call(t,e)}))}:Wu,Id=Wh?function(t){for(var e=[];t;)h(e,Dd(t)),t=Ah(t);return e}:Wu,Pd=wr;(ed&&Pd(new ed(new ArrayBuffer(1)))!=sn||nd&&Pd(new nd)!=Ve||id&&Pd(id.resolve())!=Ge||rd&&Pd(new rd)!=Ze||od&&Pd(new od)!=rn)&&(Pd=function(t){var e=wr(t),n=e==Ye?t.constructor:Z,i=n?rs(n):"";if(i)switch(i){case cd:return sn;case ud:return Ve;case hd:return Ge;case dd:return Ze;case pd:return rn}return e});var Ad=_h?oc:qu,jd=es(kd),Od=zh||function(t,e){return nr.setTimeout(t,e)},$d=es(xd),Rd=Qa(function(t){var e=[];return In.test(t)&&e.push(""),t.replace(Pn,function(t,n,i,r){e.push(i?r.replace(Bn,"$1"):n||t)}),e}),Md=oo(function(t,e){return Jl(t)?Yi(t,ir(e,1,Jl,!0)):[]}),Nd=oo(function(t,e){var n=Cs(e);return Jl(n)&&(n=Z),Jl(t)?Yi(t,ir(e,1,Jl,!0),Ca(n,2)):[]}),Fd=oo(function(t,e){var n=Cs(e);return Jl(n)&&(n=Z),Jl(t)?Yi(t,ir(e,1,Jl,!0),Z,n):[]}),Ld=oo(function(t){var e=u(t,Co);return e.length&&e[0]===t[0]?Tr(e):[]}),Bd=oo(function(t){var e=Cs(t),n=u(t,Co);return e===Cs(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?Tr(n,Ca(e,2)):[]}),zd=oo(function(t){var e=Cs(t),n=u(t,Co);return e="function"==typeof e?e:Z,e&&n.pop(),n.length&&n[0]===t[0]?Tr(n,Z,e):[]}),Ud=oo(Ds),Hd=ya(function(t,e){var n=null==t?0:t.length,i=Ni(t,e);return eo(t,u(e,function(t){return Fa(t,n)?+t:t}).sort(No)),i}),Wd=oo(function(t){return _o(ir(t,1,Jl,!0))}),qd=oo(function(t){var e=Cs(t);return Jl(e)&&(e=Z),_o(ir(t,1,Jl,!0),Ca(e,2))}),Vd=oo(function(t){var e=Cs(t);return e="function"==typeof e?e:Z,_o(ir(t,1,Jl,!0),Z,e)}),Qd=oo(function(t,e){return Jl(t)?Yi(t,e):[]}),Kd=oo(function(t){return xo(s(t,Jl))}),Yd=oo(function(t){var e=Cs(t);return Jl(e)&&(e=Z),xo(s(t,Jl),Ca(e,2))}),Gd=oo(function(t){var e=Cs(t);return e="function"==typeof e?e:Z,xo(s(t,Jl),Z,e)}),Jd=oo(Gs),Xd=oo(function(t){var e=t.length,n=e>1?t[e-1]:Z;return n="function"==typeof n?(t.pop(),n):Z,Js(t,n)}),Zd=ya(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Ni(e,t)};return!(e>1||this.__actions__.length)&&i instanceof J&&Fa(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:nl,args:[r],thisArg:Z}),new G(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Z),t})):this.thru(r)}),tp=qo(function(t,e,n){yh.call(t,n)?++t[n]:Mi(t,n,1)}),ep=ta(gs),np=ta(ms),ip=qo(function(t,e,n){yh.call(t,n)?t[n].push(e):Mi(t,n,[e])
}),rp=oo(function(t,e,i){var r=-1,o="function"==typeof e,a=Gl(t)?ah(t.length):[];return _d(t,function(t){a[++r]=o?n(e,t,i):Dr(t,e,i)}),a}),op=qo(function(t,e,n){Mi(t,n,e)}),ap=qo(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sp=oo(function(t,e){if(null==t)return[];var n=e.length;return n>1&&La(t,e[0],e[1])?e=[]:n>2&&La(e[0],e[1],e[2])&&(e=[e[0]]),Gr(t,ir(e,1),[])}),lp=Bh||function(){return nr.Date.now()},cp=oo(function(t,e,n){var i=de;if(n.length){var r=H(n,Sa(cp));i|=ve}return pa(t,i,e,n,r)}),up=oo(function(t,e,n){var i=de|pe;if(n.length){var r=H(n,Sa(up));i|=ve}return pa(e,i,t,n,r)}),hp=oo(function(t,e){return Ki(t,1,e)}),dp=oo(function(t,e,n){return Ki(t,Dc(e)||0,n)});Rl.Cache=hi;var pp=Sd(function(t,e){e=1==e.length&&yp(e[0])?u(e[0],P(Ca())):u(ir(e,1),P(Ca()));var i=e.length;return oo(function(r){for(var o=-1,a=Gh(r.length,i);++o<a;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),fp=oo(function(t,e){var n=H(e,Sa(fp));return pa(t,ve,Z,e,n)}),gp=oo(function(t,e){var n=H(e,Sa(gp));return pa(t,_e,Z,e,n)}),mp=ya(function(t,e){return pa(t,ye,Z,Z,Z,e)}),vp=ca(kr),_p=ca(function(t,e){return t>=e}),bp=Ir(function(){return arguments}())?Ir:function(t){return cc(t)&&yh.call(t,"callee")&&!Oh.call(t,"callee")},yp=ah.isArray,wp=lr?P(lr):Pr,kp=qh||qu,xp=cr?P(cr):Ar,Sp=ur?P(ur):$r,Cp=hr?P(hr):Nr,Tp=dr?P(dr):Fr,Ep=pr?P(pr):Lr,Dp=ca(Hr),Ip=ca(function(t,e){return e>=t}),Pp=Vo(function(t,e){if(Wa(e)||Gl(e))return void Uo(e,Wc(e),t);for(var n in e)yh.call(e,n)&&Ai(t,n,e[n])}),Ap=Vo(function(t,e){Uo(e,qc(e),t)}),jp=Vo(function(t,e,n,i){Uo(e,qc(e),t,i)}),Op=Vo(function(t,e,n,i){Uo(e,Wc(e),t,i)}),$p=ya(Ni),Rp=oo(function(t){return t.push(Z,fa),n(jp,Z,t)}),Mp=oo(function(t){return t.push(Z,ga),n(zp,Z,t)}),Np=ia(function(t,e,n){t[e]=n},ju($u)),Fp=ia(function(t,e,n){yh.call(t,e)?t[e].push(n):t[e]=[n]},Ca),Lp=oo(Dr),Bp=Vo(function(t,e,n){Qr(t,e,n)}),zp=Vo(function(t,e,n,i){Qr(t,e,n,i)}),Up=ya(function(t,e){var n={};if(null==t)return n;var i=!1;e=u(e,function(e){return e=Eo(e,t),i||(i=e.length>1),e}),Uo(t,ka(t),n),i&&(n=zi(n,se|le|ce,ma));for(var r=e.length;r--;)bo(n,e[r]);return n}),Hp=ya(function(t,e){return null==t?{}:Jr(t,e)}),Wp=da(Wc),qp=da(qc),Vp=Jo(function(t,e,n){return e=e.toLowerCase(),t+(n?lu(e):e)}),Qp=Jo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Kp=Jo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Yp=Go("toLowerCase"),Gp=Jo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Jp=Jo(function(t,e,n){return t+(n?" ":"")+Zp(e)}),Xp=Jo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Zp=Go("toUpperCase"),tf=oo(function(t,e){try{return n(t,Z,e)}catch(i){return ic(i)?i:new lh(i)}}),ef=ya(function(t,e){return r(e,function(e){e=is(e),Mi(t,e,cp(t[e],t))}),t}),nf=ea(),rf=ea(!0),of=oo(function(t,e){return function(n){return Dr(n,t,e)}}),af=oo(function(t,e){return function(n){return Dr(t,n,e)}}),sf=oa(u),lf=oa(a),cf=oa(f),uf=la(),hf=la(!0),df=ra(function(t,e){return t+e},0),pf=ha("ceil"),ff=ra(function(t,e){return t/e},1),gf=ha("floor"),mf=ra(function(t,e){return t*e},1),vf=ha("round"),_f=ra(function(t,e){return t-e},0);return S.after=Dl,S.ary=Il,S.assign=Pp,S.assignIn=Ap,S.assignInWith=jp,S.assignWith=Op,S.at=$p,S.before=Pl,S.bind=cp,S.bindAll=ef,S.bindKey=up,S.castArray=Hl,S.chain=tl,S.chunk=ss,S.compact=ls,S.concat=cs,S.cond=Pu,S.conforms=Au,S.constant=ju,S.countBy=tp,S.create=jc,S.curry=Al,S.curryRight=jl,S.debounce=Ol,S.defaults=Rp,S.defaultsDeep=Mp,S.defer=hp,S.delay=dp,S.difference=Md,S.differenceBy=Nd,S.differenceWith=Fd,S.drop=us,S.dropRight=hs,S.dropRightWhile=ds,S.dropWhile=ps,S.fill=fs,S.filter=hl,S.flatMap=dl,S.flatMapDeep=pl,S.flatMapDepth=fl,S.flatten=vs,S.flattenDeep=_s,S.flattenDepth=bs,S.flip=$l,S.flow=nf,S.flowRight=rf,S.fromPairs=ys,S.functions=Lc,S.functionsIn=Bc,S.groupBy=ip,S.initial=xs,S.intersection=Ld,S.intersectionBy=Bd,S.intersectionWith=zd,S.invert=Np,S.invertBy=Fp,S.invokeMap=rp,S.iteratee=Ru,S.keyBy=op,S.keys=Wc,S.keysIn=qc,S.map=_l,S.mapKeys=Vc,S.mapValues=Qc,S.matches=Mu,S.matchesProperty=Nu,S.memoize=Rl,S.merge=Bp,S.mergeWith=zp,S.method=of,S.methodOf=af,S.mixin=Fu,S.negate=Ml,S.nthArg=zu,S.omit=Up,S.omitBy=Kc,S.once=Nl,S.orderBy=bl,S.over=sf,S.overArgs=pp,S.overEvery=lf,S.overSome=cf,S.partial=fp,S.partialRight=gp,S.partition=ap,S.pick=Hp,S.pickBy=Yc,S.property=Uu,S.propertyOf=Hu,S.pull=Ud,S.pullAll=Ds,S.pullAllBy=Is,S.pullAllWith=Ps,S.pullAt=Hd,S.range=uf,S.rangeRight=hf,S.rearg=mp,S.reject=kl,S.remove=As,S.rest=Fl,S.reverse=js,S.sampleSize=Sl,S.set=Jc,S.setWith=Xc,S.shuffle=Cl,S.slice=Os,S.sortBy=sp,S.sortedUniq=Bs,S.sortedUniqBy=zs,S.split=bu,S.spread=Ll,S.tail=Us,S.take=Hs,S.takeRight=Ws,S.takeRightWhile=qs,S.takeWhile=Vs,S.tap=el,S.throttle=Bl,S.thru=nl,S.toArray=Sc,S.toPairs=Wp,S.toPairsIn=qp,S.toPath=Gu,S.toPlainObject=Ic,S.transform=Zc,S.unary=zl,S.union=Wd,S.unionBy=qd,S.unionWith=Vd,S.uniq=Qs,S.uniqBy=Ks,S.uniqWith=Ys,S.unset=tu,S.unzip=Gs,S.unzipWith=Js,S.update=eu,S.updateWith=nu,S.values=iu,S.valuesIn=ru,S.without=Qd,S.words=Iu,S.wrap=Ul,S.xor=Kd,S.xorBy=Yd,S.xorWith=Gd,S.zip=Jd,S.zipObject=Xs,S.zipObjectDeep=Zs,S.zipWith=Xd,S.entries=Wp,S.entriesIn=qp,S.extend=Ap,S.extendWith=jp,Fu(S,S),S.add=df,S.attempt=tf,S.camelCase=Vp,S.capitalize=lu,S.ceil=pf,S.clamp=ou,S.clone=Wl,S.cloneDeep=Vl,S.cloneDeepWith=Ql,S.cloneWith=ql,S.conformsTo=Kl,S.deburr=cu,S.defaultTo=Ou,S.divide=ff,S.endsWith=uu,S.eq=Yl,S.escape=hu,S.escapeRegExp=du,S.every=ul,S.find=ep,S.findIndex=gs,S.findKey=Oc,S.findLast=np,S.findLastIndex=ms,S.findLastKey=$c,S.floor=gf,S.forEach=gl,S.forEachRight=ml,S.forIn=Rc,S.forInRight=Mc,S.forOwn=Nc,S.forOwnRight=Fc,S.get=zc,S.gt=vp,S.gte=_p,S.has=Uc,S.hasIn=Hc,S.head=ws,S.identity=$u,S.includes=vl,S.indexOf=ks,S.inRange=au,S.invoke=Lp,S.isArguments=bp,S.isArray=yp,S.isArrayBuffer=wp,S.isArrayLike=Gl,S.isArrayLikeObject=Jl,S.isBoolean=Xl,S.isBuffer=kp,S.isDate=xp,S.isElement=Zl,S.isEmpty=tc,S.isEqual=ec,S.isEqualWith=nc,S.isError=ic,S.isFinite=rc,S.isFunction=oc,S.isInteger=ac,S.isLength=sc,S.isMap=Sp,S.isMatch=uc,S.isMatchWith=hc,S.isNaN=dc,S.isNative=pc,S.isNil=gc,S.isNull=fc,S.isNumber=mc,S.isObject=lc,S.isObjectLike=cc,S.isPlainObject=vc,S.isRegExp=Cp,S.isSafeInteger=_c,S.isSet=Tp,S.isString=bc,S.isSymbol=yc,S.isTypedArray=Ep,S.isUndefined=wc,S.isWeakMap=kc,S.isWeakSet=xc,S.join=Ss,S.kebabCase=Qp,S.last=Cs,S.lastIndexOf=Ts,S.lowerCase=Kp,S.lowerFirst=Yp,S.lt=Dp,S.lte=Ip,S.max=Xu,S.maxBy=Zu,S.mean=th,S.meanBy=eh,S.min=nh,S.minBy=ih,S.stubArray=Wu,S.stubFalse=qu,S.stubObject=Vu,S.stubString=Qu,S.stubTrue=Ku,S.multiply=mf,S.nth=Es,S.noConflict=Lu,S.noop=Bu,S.now=lp,S.pad=pu,S.padEnd=fu,S.padStart=gu,S.parseInt=mu,S.random=su,S.reduce=yl,S.reduceRight=wl,S.repeat=vu,S.replace=_u,S.result=Gc,S.round=vf,S.runInContext=yr,S.sample=xl,S.size=Tl,S.snakeCase=Gp,S.some=El,S.sortedIndex=$s,S.sortedIndexBy=Rs,S.sortedIndexOf=Ms,S.sortedLastIndex=Ns,S.sortedLastIndexBy=Fs,S.sortedLastIndexOf=Ls,S.startCase=Jp,S.startsWith=yu,S.subtract=_f,S.sum=rh,S.sumBy=oh,S.template=wu,S.times=Yu,S.toFinite=Cc,S.toInteger=Tc,S.toLength=Ec,S.toLower=ku,S.toNumber=Dc,S.toSafeInteger=Pc,S.toString=Ac,S.toUpper=xu,S.trim=Su,S.trimEnd=Cu,S.trimStart=Tu,S.truncate=Eu,S.unescape=Du,S.uniqueId=Ju,S.upperCase=Xp,S.upperFirst=Zp,S.each=gl,S.eachRight=ml,S.first=ws,Fu(S,function(){var t={};return rr(S,function(e,n){yh.call(S.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),S.VERSION=te,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){S[t].placeholder=S}),r(["drop","take"],function(t,e){J.prototype[t]=function(n){n=n===Z?1:Yh(Tc(n),0);var i=this.__filtered__&&!e?new J(this):this.clone();return i.__filtered__?i.__takeCount__=Gh(n,i.__takeCount__):i.__views__.push({size:Gh(n,Oe),type:t+(i.__dir__<0?"Right":"")}),i},J.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Te||n==De;J.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ca(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");J.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");J.prototype[t]=function(){return this.__filtered__?new J(this):this[n](1)}}),J.prototype.compact=function(){return this.filter($u)},J.prototype.find=function(t){return this.filter(t).head()},J.prototype.findLast=function(t){return this.reverse().find(t)},J.prototype.invokeMap=oo(function(t,e){return"function"==typeof t?new J(this):this.map(function(n){return Dr(n,t,e)})}),J.prototype.reject=function(t){return this.filter(Ml(Ca(t)))},J.prototype.slice=function(t,e){t=Tc(t);var n=this;return n.__filtered__&&(t>0||0>e)?new J(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Z&&(e=Tc(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},J.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},J.prototype.toArray=function(){return this.take(Oe)},rr(J.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=S[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(S.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof J,l=a[0],c=s||yp(e),u=function(t){var e=r.apply(S,h([t],a));return i&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,p=!!this.__actions__.length,f=o&&!d,g=s&&!p;if(!o&&c){e=g?e:new J(this);var m=t.apply(e,a);return m.__actions__.push({func:nl,args:[u],thisArg:Z}),new G(m,d)}return f&&g?t.apply(this,a):(m=this.thru(u),f?i?m.value()[0]:m.value():m)})}),r(["pop","push","shift","sort","splice","unshift"],function(t){var e=gh[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);S.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(yp(r)?r:[],t)}return this[n](function(n){return e.apply(yp(n)?n:[],t)})}}),rr(J.prototype,function(t,e){var n=S[e];if(n){var i=n.name+"",r=ld[i]||(ld[i]=[]);r.push({name:e,func:n})}}),ld[na(Z,pe).name]=[{name:"wrapper",func:Z}],J.prototype.clone=Ln,J.prototype.reverse=Jn,J.prototype.value=Xn,S.prototype.at=Zd,S.prototype.chain=il,S.prototype.commit=rl,S.prototype.next=ol,S.prototype.plant=sl,S.prototype.reverse=ll,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=cl,S.prototype.first=S.prototype.head,Mh&&(S.prototype[Mh]=al),S},br=_r();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nr._=br,define(function(){return br})):rr?((rr.exports=br)._=br,ir._=br):nr._=br}.call(this),/* ========================================================================
 * Bootstrap: alert.js v3.2.0
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.2.0
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),i[r](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.2.0
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&"show"==e&&(e=!e),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;e.call(i,"hide"),r||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=t(this),o=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),a=t(o),s=a.data("bs.collapse"),l=s?"toggle":r.data(),c=r.attr("data-parent"),u=c&&t(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(r).addClass("collapsed"),r[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(a,l)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.2.0
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){e&&3===e.which||(t(r).remove(),t(o).each(function(){var i=n(t(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0",a.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),a=r.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.divider):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery),function(t){var e="ArrowUp",n="ArrowDown",i="Tab",r=t.fn.dropdown.Constructor,o=window.BCHeaderConfig&&window.BCHeaderConfig.is_externally_rendered,a=t(o?".bc_core_external":document);a.on("shown.bs.dropdown",function(o,a){function s(t){if([i,n,e].indexOf(t.key)>-1)if(t.key===i)setTimeout(function(){c.hasClass("open")&&document.activeElement&&0===h.find(document.activeElement).length&&r.prototype.toggle.call(u)},10);else if(h.is("ul")||h.data("listbox")){var o=h.find(":tabbable");if(o.length>1){t.preventDefault();var a=o.index(h.find(":focus")),s=o.length-1;if(t.key===n)var l=o.eq(a===s?0:a+1);else var l=o.eq(0===a?s:a-1);l.focus()}}}function l(){u.attr("aria-expanded",!1),h.attr("aria-hidden",!0),c.off("hidden.bs.dropdown",l),h.off("keydown.bs.dropdown",s);var t=c.datajs("sr-only-dropdown-toggle");t.html(t.data("text-collapsed"))}if(o.target&&a.relatedTarget){var c=t(o.target),u=t(a.relatedTarget),h=c.find(".dropdown-menu"),d=u.attr("data-focus"),p=null,f=c.datajs("sr-only-dropdown-toggle");f.html(f.data("text-expanded")),u.attr("aria-expanded",!0),h.attr("aria-hidden",!1),d&&(p=h.find(d).first()),p&&0!==p.length||(p=h.find("h2:first, label:first, :focusable:first").first()),p.length&&(p.is(":focusable")||p.attr("tabIndex",-1),p.focus()),c.on("hidden.bs.dropdown",l),h.on("keydown.bs.dropdown",s)}})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.2.0
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(a);l&&(a=a.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),u=r[0].offsetWidth,h=r[0].offsetHeight;if(l){var d=a,p=this.$element.parent(),f=this.getPosition(p);a="bottom"==a&&c.top+c.height+h-f.scroll>f.height?"top":"top"==a&&c.top-f.scroll-h<0?"bottom":"right"==a&&c.right+u>f.width?"left":"left"==a&&c.left-u<f.left?"right":a,r.removeClass(d).addClass(a)}var g=this.getCalculatedOffset(a,c,u,h);this.applyPlacement(g,a);var m=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=u.left?2*u.left-r+l:2*u.top-o+c,d=u.left?"left":"top",p=u.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][p],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?t(window).width():e.outerWidth(),height:i?t(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=e.left-o,u=e.left+o+n;c<a.left?r.left=a.left-c:u>a.width&&(r.left=a.left+a.width-u)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.2.0
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.2.0
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&t.support.transition&&o.hasClass("fade");a?o.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.2.0
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(t){"use strict";function e(e){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(n,function(){e=e.replace(this.re,this.ch)}),e}function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(e).join("|")+")",i=new RegExp(n),r=new RegExp(n,"g"),o=null==t?"":""+t;return i.test(o)?o.replace(r,function(t){return e[t]}):o}function i(e,n){var i=arguments,o=e,a=n;[].shift.apply(i);var s,l=this.each(function(){var e=t(this);if(e.is("select")){var n=e.data("selectpicker"),l="object"==typeof o&&o;if(n){if(l)for(var c in l)l.hasOwnProperty(c)&&(n.options[c]=l[c])}else{var u=t.extend({},r.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),l);u.template=t.extend({},r.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,l.template),e.data("selectpicker",n=new r(this,u,a))}"string"==typeof o&&(s=n[o]instanceof Function?n[o].apply(n,i):n.options[o])}});return"undefined"!=typeof s?s:l}String.prototype.includes||!function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(i){}return n}(),n="".indexOf,i=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var r=i.length,o=String(e),a=o.length,s=arguments.length>1?arguments[1]:void 0,l=s?Number(s):0;l!=l&&(l=0);var c=Math.min(Math.max(l,0),r);return a+c>r?!1:-1!=n.call(i,o,l)};e?e(String.prototype,"includes",{value:i,configurable:!0,writable:!0}):String.prototype.includes=i}(),String.prototype.startsWith||!function(){var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(i){}return n}(),e={}.toString,n=function(t){if(null==this)throw new TypeError;var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var i=n.length,r=String(t),o=r.length,a=arguments.length>1?arguments[1]:void 0,s=a?Number(a):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),i);if(o+l>i)return!1;for(var c=-1;++c<o;)if(n.charCodeAt(l+c)!=r.charCodeAt(c))return!1;return!0};t?t(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(t,e,n){n=[];for(e in t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?("function"==typeof Event?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(t,!0,!1)),n.dispatchEvent(e)):(n.fireEvent&&(e=document.createEventObject(),e.eventType=t,n.fireEvent("on"+t,e)),this.trigger(t))},t.expr[":"].icontains=function(e,n,i){var r=t(e),o=(r.data("tokens")||r.text()).toUpperCase();return o.includes(i[3].toUpperCase())},t.expr[":"].ibegins=function(e,n,i){var r=t(e),o=(r.data("tokens")||r.text()).toUpperCase();return o.startsWith(i[3].toUpperCase())},t.expr[":"].aicontains=function(e,n,i){var r=t(e),o=(r.data("tokens")||r.data("normalizedText")||r.text()).toUpperCase();return o.includes(i[3].toUpperCase())},t.expr[":"].aibegins=function(e,n,i){var r=t(e),o=(r.data("tokens")||r.data("normalizedText")||r.text()).toUpperCase();return o.startsWith(i[3].toUpperCase())};var r=function(e,n,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=r.prototype.val,this.render=r.prototype.render,this.refresh=r.prototype.refresh,this.setStyle=r.prototype.setStyle,this.selectAll=r.prototype.selectAll,this.deselectAll=r.prototype.deselectAll,this.destroy=r.prototype.remove,this.remove=r.prototype.remove,this.show=r.prototype.show,this.hide=r.prototype.hide,this.init()};r.VERSION="1.7.2",r.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},r.prototype={constructor:r,init:function(){var e=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof n&&(this.$button.attr("data-id",n),t('label[for="'+n+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",r=this.autofocus?" autofocus":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+"></div>":"",s=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",c='<div class="btn-group bootstrap-select'+e+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+r+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+o+a+s+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return t(c)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menuInner[0].innerHTML=t},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var i=this,r=[],o=0,a=document.createElement("option"),s=-1,l=function(t,e,n,i){return"<li"+("undefined"!=typeof n&""!==n?' class="'+n+'"':"")+("undefined"!=typeof e&null!==e?' data-original-index="'+e+'"':"")+("undefined"!=typeof i&null!==i?'data-optgroup="'+i+'"':"")+">"+t+"</li>"},c=function(t,r,o,a){return'<a tabindex="0"'+("undefined"!=typeof r?' class="'+r+'"':"")+("undefined"!=typeof o?' style="'+o+'"':"")+(i.options.liveSearchNormalize?' data-normalized-text="'+e(n(t))+'"':"")+("undefined"!=typeof a||null!==a?' data-tokens="'+a+'"':"")+">"+t+'<span class="'+i.options.iconBase+" "+i.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(s--,!this.$element.find(".bs-title-option").length)){var u=this.$element[0];a.className="bs-title-option",a.appendChild(document.createTextNode(this.options.title)),a.value="",u.insertBefore(a,u.firstChild),void 0===t(u.options[u.selectedIndex]).attr("selected")&&(a.selected=!0)}return this.$element.find("option").each(function(e){var n=t(this);if(s++,!n.hasClass("bs-title-option")){var a=this.className||"",u=this.style.cssText,h=n.data("content")?n.data("content"):n.html(),d=n.data("tokens")?n.data("tokens"):null,p="undefined"!=typeof n.data("subtext")?'<small class="text-muted">'+n.data("subtext")+"</small>":"",f="undefined"!=typeof n.data("icon")?'<span class="'+i.options.iconBase+" "+n.data("icon")+'"></span> ':"",g=this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled;if(""!==f&&g&&(f="<span>"+f+"</span>"),i.options.hideDisabled&&g)return void s--;if(n.data("content")||(h=f+'<span class="text">'+h+p+"</span>"),"OPTGROUP"===this.parentElement.tagName&&n.data("divider")!==!0){var m=" "+this.parentElement.className||"";if(0===n.index()){o+=1;var v=this.parentElement.label,_="undefined"!=typeof n.parent().data("subtext")?'<small class="text-muted">'+n.parent().data("subtext")+"</small>":"",b=n.parent().data("icon")?'<span class="'+i.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"";v=b+'<span class="text">'+v+_+"</span>",0!==e&&r.length>0&&(s++,r.push(l("",null,"divider",o+"div"))),s++,r.push(l(v,null,"dropdown-header"+m,o))}r.push(l(c(h,"opt "+a+m,u,d),e,"",o))}else n.data("divider")===!0?r.push(l("",e,"divider")):n.data("hidden")===!0?r.push(l(c(h,a,u,d),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(s++,r.push(l("",null,"divider",o+"div"))),r.push(l(c(h,a,u,d),e)));i.liObj[e]=s}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),r.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var n,i=this;e!==!1&&this.$element.find("option").each(function(t){var e=i.findLis().eq(i.liObj[t]);i.setDisabled(t,this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled,e),i.setSelected(t,this.selected,e)}),this.tabIndex();var r=this.$element.find("option").map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled))return;var e,n=t(this),r=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return e=i.options.showSubtext&&n.data("subtext")&&!i.multiple?' <small class="text-muted">'+n.data("subtext")+"</small>":"","undefined"!=typeof n.attr("title")?n.attr("title"):n.data("content")&&i.options.showContent?n.data("content"):r+n.html()+e}}).toArray(),o=this.multiple?r.join(this.options.multipleSeparator):r[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&r.length>a[1]||1==a.length&&r.length>=2){n=this.options.hideDisabled?", [disabled]":"";var s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+n).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r.length,s):this.options.countSelectedText;o=l.replace("{0}",r.length.toString()).replace("{1}",s.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",t.trim(o.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=t?t:this.options.style;"add"==e?this.$button.addClass(n):"remove"==e?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(e){if(e||this.options.size!==!1&&!this.sizeInfo){var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("ul"),o=document.createElement("li"),a=document.createElement("li"),s=document.createElement("a"),l=document.createElement("span"),c=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null,u=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,d=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",n.className=this.$menu[0].parentNode.className+" open",i.className="dropdown-menu open",r.className="dropdown-menu inner",o.className="divider",l.appendChild(document.createTextNode("Inner text")),s.appendChild(l),a.appendChild(s),r.appendChild(a),r.appendChild(o),c&&i.appendChild(c),u){var p=document.createElement("span");u.className="bs-searchbox",p.className="form-control",u.appendChild(p),i.appendChild(u)}h&&i.appendChild(h),i.appendChild(r),d&&i.appendChild(d),n.appendChild(i),document.body.appendChild(n);var f=s.offsetHeight,g=c?c.offsetHeight:0,m=u?u.offsetHeight:0,v=h?h.offsetHeight:0,_=d?d.offsetHeight:0,b=t(o).outerHeight(!0),y="function"==typeof getComputedStyle?getComputedStyle(i):!1,w=y?null:t(i),k=parseInt(y?y.paddingTop:w.css("paddingTop"))+parseInt(y?y.paddingBottom:w.css("paddingBottom"))+parseInt(y?y.borderTopWidth:w.css("borderTopWidth"))+parseInt(y?y.borderBottomWidth:w.css("borderBottomWidth")),x=k+parseInt(y?y.marginTop:w.css("marginTop"))+parseInt(y?y.marginBottom:w.css("marginBottom"))+2;document.body.removeChild(n),this.sizeInfo={liHeight:f,headerHeight:g,searchHeight:m,actionsHeight:v,doneButtonHeight:_,dividerHeight:b,menuPadding:k,menuExtras:x}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var e,n,i,r,o=this,a=this.$menu,s=this.$menuInner,l=t(window),c=this.$newElement[0].offsetHeight,u=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,f=this.sizeInfo.doneButtonHeight,g=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,v=this.sizeInfo.menuExtras,_=this.options.hideDisabled?".disabled":"",b=function(){i=o.$newElement.offset().top-l.scrollTop(),r=l.height()-i-c};if(b(),"auto"===this.options.size){var y=function(){var l,c=function(e,n){return function(i){return n?i.classList?i.classList.contains(e):t(i).hasClass(e):!(i.classList?i.classList.contains(e):t(i).hasClass(e))}},g=o.$menuInner[0].getElementsByTagName("li"),_=Array.prototype.filter?Array.prototype.filter.call(g,c("hidden",!1)):o.$lis.not(".hidden"),y=Array.prototype.filter?Array.prototype.filter.call(_,c("dropdown-header",!0)):_.filter(".dropdown-header");b(),e=r-v,o.options.container?(a.data("height")||a.data("height",a.height()),n=a.data("height")):n=a.height(),o.options.dropupAuto&&o.$newElement.toggleClass("dropup",i>r&&n>e-v),o.$newElement.hasClass("dropup")&&(e=i-v),l=_.length+y.length>3?3*u+v-2:0,a.css({"max-height":e+"px",overflow:"hidden","min-height":l+h+d+p+f+"px"}),s.css({"max-height":e-h-d-p-f-m+"px","overflow-y":"auto","min-height":Math.max(l-m,0)+"px"})};y(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",y),l.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",y)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(_).length>this.options.size){var w=this.$lis.not(".divider").not(_).children().slice(0,this.options.size).last().parent().index(),k=this.$lis.slice(0,w+1).filter(".divider").length;e=u*this.options.size+k*g+m,o.options.container?(a.data("height")||a.data("height",a.height()),n=a.data("height")):n=a.height(),o.options.dropupAuto&&this.$newElement.toggleClass("dropup",i>r&&n>e-v),a.css({"max-height":e+h+d+p+f+"px",overflow:"hidden","min-height":""}),s.css({"max-height":e-m+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,n=t.children(".dropdown-menu").outerWidth(),i=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(n,i)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var e,n,i=this,r=t('<div class="bs-container" />'),o=function(t){r.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),n=t.hasClass("dropup")?0:t[0].offsetHeight,r.css({top:e.top+n,left:e.left,width:t[0].offsetWidth})};this.$newElement.on("click",function(){i.isDisabled()||(o(t(this)),r.appendTo(i.options.container),r.toggleClass("open",!t(this).hasClass("open")),r.append(i.$menu))}),t(window).on("resize scroll",function(){o(i.$newElement)}),this.$element.on("hide.bs.select",function(){i.$menu.data("height",i.$menu.height()),r.detach()})},setSelected:function(t,e,n){if(!n)var n=this.findLis().eq(this.liObj[t]);n.toggleClass("selected",e)},setDisabled:function(t,e,n){if(!n)var n=this.findLis().eq(this.liObj[t]);e?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var e=this,n=t(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),n.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))}),this.$newElement.on("click",function(){e.setSize(),e.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||e.options.size===!1)return;var n=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;n=n-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=n}}else e.$menuInner.find(".selected a").focus()})}),this.$menuInner.on("click","li a",function(n){var i=t(this),r=i.parent().data("originalIndex"),o=e.$element.val(),a=e.$element.prop("selectedIndex");if(e.multiple&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!i.parent().hasClass("disabled")){var s=e.$element.find("option"),l=s.eq(r),c=l.prop("selected"),u=l.parent("optgroup"),h=e.options.maxOptions,d=u.data("maxOptions")||!1;if(e.multiple){if(l.prop("selected",!c),e.setSelected(r,!c),i.blur(),h!==!1||d!==!1){var p=h<s.filter(":selected").length,f=d<u.find("option:selected").length;if(h&&p||d&&f)if(h&&1==h)s.prop("selected",!1),l.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(r,!0);else if(d&&1==d){u.find("option:selected").prop("selected",!1),l.prop("selected",!0);var g=i.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+g+'"]').removeClass("selected"),e.setSelected(r,!0)}else{var m="function"==typeof e.options.maxOptionsText?e.options.maxOptionsText(h,d):e.options.maxOptionsText,v=m[0].replace("{n}",h),_=m[1].replace("{n}",d),b=t('<div class="notify"></div>');m[2]&&(v=v.replace("{var}",m[2][h>1?0:1]),_=_.replace("{var}",m[2][d>1?0:1])),l.prop("selected",!1),e.$menu.append(b),h&&p&&(b.append(t("<div>"+v+"</div>")),e.$element.trigger("maxReached.bs.select")),d&&f&&(b.append(t("<div>"+_+"</div>")),e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(r,!1)},10),b.delay(750).fadeOut(300,function(){t(this).remove()})}}}else s.prop("selected",!1),l.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(r,!0);e.multiple?e.options.liveSearch&&e.$searchbox.focus():e.$button.focus(),(o!=e.$element.val()&&e.multiple||a!=e.$element.prop("selectedIndex")&&!e.multiple)&&(e.$element.triggerNative("change"),e.$element.trigger("changed.bs.select",[r,l.prop("selected"),c]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll(),e.$element.triggerNative("change")}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var i=this,r=t('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){i.$menuInner.find(".active").removeClass("active"),i.$searchbox.val()&&(i.$searchbox.val(""),i.$lis.not(".is-hidden").removeClass("hidden"),r.parent().length&&r.remove()),i.multiple||i.$menuInner.find(".selected").addClass("active"),setTimeout(function(){i.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(i.$searchbox.val()){var o=i.$lis.not(".is-hidden").removeClass("hidden").children("a");o=o.not(i.options.liveSearchNormalize?":a"+i._searchStyle()+'("'+e(i.$searchbox.val())+'")':":"+i._searchStyle()+'("'+i.$searchbox.val()+'")'),o.parent().addClass("hidden"),i.$lis.filter(".dropdown-header").each(function(){var e=t(this),n=e.data("optgroup");0===i.$lis.filter("[data-optgroup="+n+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),i.$lis.filter("[data-optgroup="+n+"div]").addClass("hidden"))});var a=i.$lis.not(".hidden");a.each(function(e){var n=t(this);n.hasClass("divider")&&(n.index()===a.first().index()||n.index()===a.last().index()||a.eq(e+1).hasClass("divider"))&&n.addClass("hidden")}),i.$lis.not(".hidden, .no-results").length?r.parent().length&&r.remove():(r.parent().length&&r.remove(),r.html(i.options.noneResultsText.replace("{0}",'"'+n(i.$searchbox.val())+'"')).show(),i.$menuInner.append(r))}else i.$lis.not(".is-hidden").removeClass("hidden"),r.parent().length&&r.remove();i.$lis.filter(".active").removeClass("active"),i.$searchbox.val()&&i.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),t(this).focus()})},_searchStyle:function(){var t="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":t="ibegins";break;case"contains":}return t},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"),this.render(!1)},keydown:function(n){var i,r,o,a,s,l,c,u,h,d=t(this),p=d.is("input")?d.parent().parent():d.parent(),f=p.data("this"),g=":not(.disabled, .hidden, .dropdown-header, .divider)",m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=d.parent().parent()),f.options.container&&(p=f.$menu),i=t("[role=menu] li",p),h=f.$menu.parent().hasClass("open"),!h&&(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=65&&n.keyCode<=90)&&(f.options.container?f.$newElement.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),h=!0),f.$searchbox.focus()),f.options.liveSearch&&(/(^9$|27)/.test(n.keyCode.toString(10))&&h&&0===f.$menu.find(".active").length&&(n.preventDefault(),f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()),i=t("[role=menu] li"+g,p),d.val()||/(38|40)/.test(n.keyCode.toString(10))||0===i.filter(".active").length&&(i=f.$menuInner.find("li"),i=i.filter(f.options.liveSearchNormalize?":a"+f._searchStyle()+"("+e(m[n.keyCode])+")":":"+f._searchStyle()+"("+m[n.keyCode]+")"))),i.length){if(/(38|40)/.test(n.keyCode.toString(10)))r=i.index(i.find("a").filter(":focus").parent()),a=i.filter(g).first().index(),s=i.filter(g).last().index(),o=i.eq(r).nextAll(g).eq(0).index(),l=i.eq(r).prevAll(g).eq(0).index(),c=i.eq(o).prevAll(g).eq(0).index(),f.options.liveSearch&&(i.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),r=i.index(i.filter(".active")),a=i.first().data("index"),s=i.last().data("index"),o=i.eq(r).nextAll().eq(0).data("index"),l=i.eq(r).prevAll().eq(0).data("index"),c=i.eq(o).prevAll().eq(0).data("index")),u=d.data("prevIndex"),38==n.keyCode?(f.options.liveSearch&&r--,r!=c&&r>l&&(r=l),a>r&&(r=a),r==u&&(r=s)):40==n.keyCode&&(f.options.liveSearch&&r++,-1==r&&(r=0),r!=c&&o>r&&(r=o),r>s&&(r=s),r==u&&(r=a)),d.data("prevIndex",r),f.options.liveSearch?(n.preventDefault(),d.hasClass("dropdown-toggle")||(i.removeClass("active").eq(r).addClass("active").children("a").focus(),d.focus())):i.eq(r).children("a").focus();else if(!d.is("input")){var v,_,b=[];i.each(function(){t(this).hasClass("disabled")||t.trim(t(this).children("a").text().toLowerCase()).substring(0,1)==m[n.keyCode]&&b.push(t(this).index())}),v=t(document).data("keycount"),v++,t(document).data("keycount",v),_=t.trim(t(":focus").text().toLowerCase()).substring(0,1),_!=m[n.keyCode]?(v=1,t(document).data("keycount",v)):v>=b.length&&(t(document).data("keycount",0),v>b.length&&(v=1)),i.eq(b[v-1]).children("a").focus()}if((/(13|32)/.test(n.keyCode.toString(10))||/(^9$)/.test(n.keyCode.toString(10))&&f.options.selectOnTab)&&h){if(/(32)/.test(n.keyCode.toString(10))||n.preventDefault(),f.options.liveSearch)/(32)/.test(n.keyCode.toString(10))||(f.$menuInner.find(".active a").click(),d.focus());else{var y=t(":focus");y.click(),y.focus(),n.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(n.keyCode.toString(10))&&h&&(f.multiple||f.options.liveSearch)||/(27)/.test(n.keyCode.toString(10))&&!h)&&(f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var o=t.fn.selectpicker;t.fn.selectpicker=i,t.fn.selectpicker.Constructor=r,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=o,this},t(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',r.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){bc_datajs_selector=function(t,e){return"undefined"==typeof e&&(e=t,t=""),t+"[data-js~="+e+"]"},t.fn.datajs=function(t,e){return this.find(bc_datajs_selector(t,e))},t.datajs=function(e,n){return t(bc_datajs_selector(e,n))}}(jQuery),function(t){var e=["biblionav_my_account_login","biblionav_my_account_dashboard","biblionav_my_account_checkedout","biblionav_my_account_holds","biblionav_my_account_recentlyreturned","biblionav_my_account_fines","biblionav_my_account_shelves_future","biblionav_my_account_shelves_past","biblionav_my_account_shelves_present","biblionav_my_account_lists","biblionav_my_account_myprofile","biblionav_my_account_purchases","biblionav_my_account_mysettings","biblionav_my_account_nav_item","biblionav_my_account_logout","biblionav_my_account_messages","biblionav_my_account_notifications","biblionav_my_account_switch_account","circwidget","item","header_top_level_nav","header_sub_level_nav","header_help_link","header_help_dropdown","header_help_nav_item","header_locations_link","header_locations_dropdown","header_locations_geo_search","header_locations_nav_item","header_preferred_locations_edit","header_preferred_locations_add","header_preferred_locations_branch_name","header_saved_searches","list_item","mobile_header_main_nav","mobile_header_events_nav","outbound","printing","third_party_recommendations","user","user_card"],n="click.ga-data-api submit.ga-data-api show.bs.dropdown show.bc.modal ga-send.ga-data-api";t("body").on(n,"[data-ga-category]",function(n){var i=t(this),r=i.data("ga-event");if(r&&r!==n.type)return!0;var o=i.data("ga-category"),a=i.data("ga-action"),s=i.data("ga-label"),l=i.data("ga-value"),c=(i.attr("target"),i.attr("href")),u={nonInteraction:1};s||(s=i.text().trim()),c&&"outbound"===o&&(a=c),a||(a="ga-send"===n.type?"click":n.type),l=isNaN(parseInt(l,10))?void 0:parseInt(l,10),e.indexOf(o)>-1?BCGoogleAnalytics.sendAll("event",o,a,s,l,u):BCGoogleAnalytics.send("event",o,a,s,l,u)
})}(jQuery),function(t){var e="click submit";t("body").on(e,"[data-analytics]",function(){var e=t(this).data("analytics");if(window&&window.dataLayer&&e.event&&e.payload)try{for(var n=["gtmCategory","gtmAction","gtmLabel","gtmValue"],i=0;i<n.length;i++)e.payload.hasOwnProperty(n[i])||(e.payload[n[i]]=void 0);window.dataLayer.push(e)}catch(r){}})}(jQuery),function(t,e){function n(){r=t.grep(Object.keys(i.MIN_SIZES),function(t){return i.match(t)})}var i=e.BCViewport=e.BCViewport||{};i.MIN_SIZES={xs:0,sm:768,md:992,lg:1200},i.MAX_SIZES={xs:767,sm:991,md:1199},i.MEDIA_QUERIES={xs:"(max-width: "+i.MAX_SIZES.xs+"px)",sm:"(min-width: "+i.MIN_SIZES.sm+"px) and (max-width: "+i.MAX_SIZES.sm+"px)",md:"(min-width: "+i.MIN_SIZES.md+"px) and (max-width: "+i.MAX_SIZES.md+"px)",lg:"(min-width: "+i.MIN_SIZES.lg+"px)"};var r=null;i.match=function(n){var r,o,a,s,l;return"undefined"!=typeof e.matchMedia?e.matchMedia(i.MEDIA_QUERIES[n]).matches:(l=parseInt(1e3*Math.random(),10),o="mediaMatcher"+l,s=t('<style type="text/css">@media '+i.MEDIA_QUERIES[n]+" { #"+o+" { width: 1px; } }</style>"),r=t("<div></div>",{id:o,style:"display: none;"}),s.appendTo("head"),r.appendTo("body"),a=1===r.width(),s.remove(),r.remove(),a)},i.getMatchingViewports=function(t){return null===r&&n(),t.filter(function(t){return r.indexOf(t)>=0})},i.matchAny=function(e){var n;return n=t.isArray(e)?e:Array.prototype.slice.call(arguments),i.getMatchingViewports(n).length>0},t(e).on("resize",n)}(jQuery,window);var FollowIgnoreCookieHandler={cookie_for_followed:"users_followed",cookie_for_ignored:"users_ignored",users_ignored_array:function(){return $.cookie(this.cookie_for_ignored)?JSON.parse($.cookie(this.cookie_for_ignored)):[]},update_ignored_cookie:function(t){$.cookie(this.cookie_for_ignored,t,{path:"/"})},users_followed_array:function(){return $.cookie(this.cookie_for_followed)?JSON.parse($.cookie(this.cookie_for_followed)):[]},update_followed_cookie:function(t){$.cookie(this.cookie_for_followed,t,{path:"/"})}};!function(t,e,n){function i(t){return t}function r(t){return decodeURIComponent(t.replace(o," "))}var o=/\+/g,a=t.cookie=function(o,s,l){if(s!==n){if(l=t.extend({},a.defaults,l),null===s&&(l.expires=-1),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+c)}return s=a.json?JSON.stringify(s):String(s),e.cookie=[encodeURIComponent(o),"=",a.raw?s:encodeURIComponent(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=a.raw?i:r,d=e.cookie.split("; "),p=0,f=d.length;f>p;p++){var g=d[p].split("=");if(h(g.shift())===o){var m=h(g.join("="));return a.json?JSON.parse(m):m}}return null};a.defaults={},t.removeCookie=function(e,n){return null!==t.cookie(e)?(t.cookie(e,null,n),!0):!1}}(jQuery,document),function(t){var e={init:function(n){return this.each(function(){var i={hasParent:!1,obj:t(this),obj_label:null,filter:t.cookie("filter"),filter_top_level:t.cookie("filter_top_level"),cookie_o:{expires:1}};o=t.extend(i,n);var r=window.location.href;r.indexOf("collection")>0,o.obj_label||(o.obj_label=o.obj.attr("param")),o.filter_top_level||(o.filter_top_level="format"),0==o.hasParent?o.obj.bind("click",function(){ev_obj=t(this),e.toggle_facet_top_level(ev_obj,!0,o)}):1==o.hasParent&&o.obj.bind("click",function(){ev_obj=t(this),e.toggle_facet_group_level(ev_obj,!0,o)})})},set_up_filter_key:function(){if(currentQuery)window.location.href.indexOf("search")>0&&window.location.search.indexOf("q=")>0?t.cookie("filter_key",currentQuery.q[0]):window.location.href.indexOf("search")>0&&window.location.search.indexOf("custom_query=")>0?t.cookie("filter_key",currentQuery.custom_query[0]):window.location.href.indexOf("collection")>0&&t.cookie("filter_key",window.location.pathname);else if(window.location.href.indexOf("search")>0&&window.location.search.indexOf("q=")>0){var e=window.location.search;e=e.split("q="),e=e[1].split("&"),e=e[0],t.cookie("filter_key",e)}else if(window.location.href.indexOf("search")>0&&window.location.search.indexOf("custom_query=")>0){var e=window.location.search;e=e.split("custom_query="),e=e[1].split("&"),e=e[0],t.cookie("filter_key",e)}else t.cookie("filter_key",window.location.pathname)},check_fav:function(){if(window.location.href.indexOf("search")>0||window.location.href.indexOf("/collection")>0){var n=e.has_fav();if(n&&0==at_local_branch.length)if(t.cookie("filter_key")){var i=window.location.href;if(i.indexOf("/search")>0){var r=window.location.search;r.indexOf("q="+t.cookie("filter_key"))<0&&e.open_fav(n)}else if(i.indexOf("/collection")>0){var r=window.location.pathname;r.indexOf(t.cookie("filter_key"))<0&&e.open_fav(n)}}else e.open_fav(n)}},open_fav:function(e){"format"!=e.key&&0==at_local_branch.length&&(t('.collapseTrigger[param="format"]').hasClass("collapsed")||(t('.collapseTrigger[param="format"]').parent().find(".collapseTarget").slideUp(250).end().find(".collapseTrigger").addClass("collapsed"),t('.collapseTrigger[param="'+e.key+'"]').parent().removeClass("collapsed").find(".collapseTarget").slideDown(250),t('.collapseTrigger[param="'+e.key+'"]').parent("li.facetGroup").length>0&&t('.collapseTrigger[param="'+e.key+'"]').parent().parent().parent().parent().parent().removeClass("collapsed").find(".collapseTarget").slideDown(250)))},has_fav:function(){return t.cookie("frequent_facets")&&0==at_local_branch.length?(global_facets=fake_parse(t.cookie("frequent_facets")),obj_size(global_facets)>0?get_largest(global_facets,10):null):null},close_tl:function(t){t.obj.parent().hasClass("collapsed")||t.obj.trigger("click")},slide_up_top_level:function(t){t.obj_label==t.filter_top_level&&null!=t.filter_top_level&&t.obj.parent().hasClass("collapsed")&&t.obj.trigger("click")},slide_up_group_level:function(t){t.obj_label==t.filter&&null!=t.filter?t.obj.parent().hasClass("collapsed")&&t.obj.trigger("click"):0==t.obj.parent().hasClass("collapsed")&&t.obj.trigger("click")},add_cookie_top_level:function(e,n){e.attr("param")&&(global_facets[e.attr("param")]=global_facets[e.attr("param")]?global_facets[e.attr("param")]+1:1,t.cookie("filter_top_level",e.attr("param"),n.cookie_o),t.cookie("filter",null))},add_cookie_group_level:function(e,n){if(e.attr("param")){global_facets[e.attr("param")]=global_facets[e.attr("param")]?global_facets[e.attr("param")]+1:1,console.debug(global_facets),t.cookie("filter",e.attr("param"),n.cookie_o);var i=e.parent("div").parent("li").parent("ul").parent("div").parent("div").find(".collapseTrigger:first").attr("param");t.cookie("filter_top_level",i,n.cookie_o)}},clear_cookies:function(){t.cookie("filter_top_level",null),t.cookie("filter",null)},toggle_facet_top_level:function(t,n,i){t.parent().find(".collapseTarget").not(".facetGroup .collapseTarget").slideToggle(250),t.parent().toggleClass("collapsed"),1==n&&(t.parent().hasClass("collapsed")?e.clear_cookies():e.add_cookie_top_level(t,i))},toggle_facet_group_level:function(t,n,i){t.parent().find(".collapseTarget").slideToggle(250),t.parent().toggleClass("collapsed"),1==n&&(t.parent().hasClass("collapsed")?e.clear_cookies():e.add_cookie_group_level(t,i))}};t.fn.toggle_facets=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)},t.toggle_facets=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){var n={width:750,height:600,resizable:!1,toolbar:!1,menubar:!1,status:"",scrollbars:!0};settings=t.extend(n,e);var i="height="+settings.height+",width="+settings.width+",toolbar="+(settings.toolbar?"yes":"no")+",scrollbars="+(settings.scrollbars?"yes":"no")+",status="+settings.status+",resizable="+(settings.resizable?"yes":"no")+",location="+settings.location+",menuBar="+(settings.menubar?"yes":"no"),r=t(this);return r.bind("click",function(e){var n=t(this);e.preventDefault(),link=settings.windowURL||!n.is("img")&&n.attr("href")||n.parent("a").attr("href"),console.debug(i),window.open(link,"",i)}),r}};t.fn.popupWindow=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),function(t){var e,n,i,r,o,a={init:function(){return this.each(function(){e=t(this),n=e.find("select"),i=e.find("textarea"),r=i.attr("data-message"),o=e.find("input"),"default"==n.val()&&a.disable_form(),n.bind("keyup.inline_form",a.show_form).bind("change.inline_form",a.show_form),e.bind("submit.inline_form",a.submit_form),i.bind("keyup.inline_form",a.send_toggle)})},submit_form:function(n){n.preventDefault();var i=e.serialize(),r=e.attr("action");t.ajax({url:r,data:i,dataType:"json",success:function(){a.disable_form()}})},show_form:function(){var s=n.val();t("#lib_feedback_"+s+"_link").length?(e.children(".feedback_element").hide(),o.hide(),t("#lib_feedback_"+s+"_link").show()):i.parent("div:hidden")&&(e.children(".feedback_element").hide(),i.parent("div").show(),o.show()),"default"!=s?(i.val()==r&&i.val("").removeAttr("disabled"),a.send_toggle()):a.disable_form()},send_toggle:function(){i.val().length>0&&i.val()!=r?o.removeAttr("disabled"):o.attr("disabled","disabled")},disable_form:function(){i.val(r).attr("disabled","disabled"),a.send_toggle()}};t.fn.inline_form=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:a.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){var n={width:15},e=t.extend(n,e),i=t(this);i.bind("mouseenter",function(){var e=t(this).find("li.currentRating"),n=t(this).find("img.unrateBtn");e.css("display","none"),n&&n.css("display","block")}),i.bind("mouseleave",function(){var e=t(this).find("li.currentRating"),n=t(this).find("img.unrateBtn");e.css("display","block"),n&&n.css("display","none")}),i.bind("click",function(e){{var n=t(this),i=t(this).find("li.currentRating");t(this).find("img.unrateBtn")}e.preventDefault();var r=t(e.target).attr("class").replace(/[^0-9]/g,""),o=n.attr("param").replace(/[^0-9]/g,""),a="/usercontent/update/"+o,s="part_name=rating&rating="+r;t.ajax({url:a,dataType:"json",data:s,cache:!1,success:function(e){e.success&&i.css("width",10*r+"%"),CHECK_FOR_BADGES===!0&&t.notify_badges(),"undefined"!=typeof ga&&ga("send","event","item","rate",o,i)}})})}};t.fn.rating=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),function(t){var e,n,i,r={init:function(){i=t("#badge_image"),n=t(this).find("img.preview_image"),e=t(this).find("img.selected"),n.bind("click",r.select_image)},select_image:function(n){e.removeClass("selected"),t(n.target).addClass("selected"),e=t(n.target),i.val(t(n.target).attr("src"))}};t.fn.image_picker=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:r.init.apply(this,arguments)}}(jQuery),function(t){t.notify_badges=function(){CHECK_FOR_BADGES&&t.get("/badge/badge_earned.json",function(e){var n=t(".modal-box");e.error||t.modal("show",{content:e.html,top:"15%",width:40,callback:function(){n.addClass("modal-badges"),e.scroll_me&&n.addClass("scroll-me"),"undefined"!=typeof BCShareButton&&BCShareButton.init()},close_callback:function(){n.removeClass("modal-badges"),n.removeClass("scroll-me")}})})}}(jQuery);var Messages=function(){var t=15e3,e=!1,n=function(t,e,n){return $("<p/>").addClass(n).attr("data-test-id","top-message").attr("data-message-type",e.toUpperCase()).html(t)};return{show:function(i){if(i&&i.length>0){Messages.clear(),e&&clearTimeout(e);for(var r=0;r<i.length;r++){var o=i[r],a=!1;if("object"==typeof o&&"undefined"!=typeof o.space)for(var s=o.space.length;s>=0&&!a;s--){for(var l=jQuery.makeArray(o.space.slice(0,s)),c=registered_messages.length-1;c>=0&&!a;c--)if(registered_messages[c].key.join("/")==l.join("/")&&jQuery.inArray(o.type,jQuery.makeArray(registered_messages[c].type))>-1&&$("#"+registered_messages[c].element).length>0){var u=$("#"+registered_messages[c].element).parent(".messageContent").parent(".messaging"),h=!0,d=u.parent(),h="none"!=d.css("display")&&"hidden"!=d.css("visibility");if(u.length>0&&h){var p=o.key?o.key:registered_messages[c].default_message,f=p.strip_scripts(),g=n(f,o.type,"message-text");$("#"+registered_messages[c].element).append(g),u.addClass("displayMessage"),u.addClass(o.type),a=!0}else"suppress"==registered_messages[c].mode&&(a=!0)}if(!a){var u=$(".top_message").parent(".messageContent").parent(".messaging"),h=!0,d=u.parent(),h="none"!=d.css("display")&&"hidden"!=d.css("visibility");if(u.length>0&&h){var p=o.key?o.key:registered_messages[c].default_message,f=p.strip_scripts(),g=n(f,o.type);$(".top_message").append(g),u.addClass("displayMessage"),u.addClass(o.type),a=!0}else"suppress"==registered_messages.mode&&(a=!0)}}}e=setTimeout(function(){Messages.clear()},t)}},clear:function(){for(var t=0;t<registered_messages.length;t++)if($("#"+registered_messages[t].element)&&$("#"+registered_messages[t].element).parent(".messageContent").parent(".messaging")){var e=$("#"+registered_messages[t].element);e.parent(".messageContent").parent(".messaging").removeClass("displayMessage error message warning info"),e.html("")}}}}();!function(t){var e,n,i,r,o,a,s,l=/[&()+;:_\-.,'#|]/g,c=/[^\x00-\x7F]/g,u={init:function(){o=1300,e=t(this),a=t(".removeFilter").not(".locations .removeFilter").on("click",{setTimer:!1},u.removeFilter),i=t("li.conjunctive a").not(".locations li.conjunctive a, #expander_author_more li.conjunctive a"),e.find("li.conjunctive a").not(".locations li.conjunctive a, #expander_author_more li.conjunctive a").on("click",{setTimer:!1},u.addFilter),n=e.find("li.disjunctive input[type=checkbox], .boolean input[type=checkbox]").not(".locations input[type=checkbox]"),n.on("change",{setTimer:!0},u.toggleFilter),t("input#_anywhere_").on("change",function(e){u.available_anywhere(e,t(this),!0)}),t("li.languageToggle input[type=checkbox]").on("change",function(e){u.swapLanguageFieldType(e,t(this))}),t(".locations input[type=checkbox]").on("change",function(e){u.select_branch(e,t(this),!0)}),t.datajs("clear_all_filters").on("click",u.clear_all_filters),u.initializeCurrentQuery(),u.show_filter_count()},swapLanguageFieldType:function(e,n){n||(n=t(e.target)),1==n.prop("checked")?currentQuery.plang&&(currentQuery.lang=currentQuery.plang,delete currentQuery.plang,u.constructQuery(0)):currentQuery.lang&&(currentQuery.plang=currentQuery.lang,delete currentQuery.lang,u.constructQuery(0)),currentQuery.lang||currentQuery.plang||(t(".lang").toggle(),t(".plang").toggle())},initializeCurrentQuery:function(){currentQuery=u.parseCurrentQuery(),console.debug("constructing initial state..."),console.debug(currentQuery)},parseCurrentQuery:function(){if(parsedCurrentQuery={},s=t(".initialFilterValue"))for(var e=0;e<s.length;e++)key=t(s[e]).attr("param"),_value=t(s[e]).val(),parsedCurrentQuery[key]=_value.split("|");if(initialQueryString=window.location.search.replace("?","").replace(/[+]/gim,"%20"),""!=initialQueryString){initialQueryString=initialQueryString.split("&");for(var e=0;e<initialQueryString.length;e++)initialQueryString[e]&&(element=initialQueryString[e].toString().split("=")),"undefined"!=typeof element&&element[1]&&(parsedCurrentQuery[element[0]]=decodeURIComponent(element[1].toString()).split("|"))}return s.length>0&&"smart"==parsedCurrentQuery.t[0]&&(parsedCurrentQuery.t[0]="catalogue"),parsedCurrentQuery},toggleFilter:function(e,n){n||(n=t(e.target)),1==n.prop("checked")?u.addFilter(e,n,e.data.setTimer):u.removeFilter(e,n,e.data.setTimer)},removeFilter:function(e,n,i){if(n||(n=t(e.target)),key=n.attr("param"),_value=n.val().length>0?n.val():n.data("value")||n.attr("id"),console.debug("removing "+_value),null!=currentQuery[key]){var r=currentQuery[key];-1!=r.indexOf(_value)&&r.splice(r.indexOf(_value),1),0==r.length?delete currentQuery[key]:currentQuery[key]=r}null!==i||0!==i.length?u.constructQuery(i,n):u.constructQuery(e.data.setTimer,n)},addFilter:function(e,n,i){n||(n=t(e.target)),n.is("input")||e.preventDefault(),key=n.attr("param").toLowerCase(),_value=n.val().length>0?n.val():n.data("value")||n.attr("id"),null==currentQuery[key]||0==currentQuery[key].length||n.is("select")?currentQuery[key]=[_value]:(tmpArray=currentQuery[key],-1==tmpArray.indexOf(_value)&&(tmpArray.push(_value),currentQuery[key]=tmpArray)),null!==i||0!==i.length?u.constructQuery(i,n):u.constructQuery(e.data.setTimer,n)},constructQuery:function(t,e){if(Spinner.show(),null!=r&&clearTimeout(r),t){if("#slow_facets"==window.location.hash)var n=2e3;else var n=200;r=setTimeout(u.sendRequest,n),e&&e.closest("li").mouseleave(function(){clearTimeout(r),r=setTimeout(u.sendRequest,o-200)})}else u.sendRequest()},disableInputs:function(){n.each(function(e,n){t(n).attr("disabled","disabled")}),i.each(function(e,n){t(n).attr("disabled","disabled")}),t(".locations input").attr("disabled","disabled"),t("#popout-box-content input").attr("disabled","disabled")},sendRequest:function(){u.disableInputs();var e=fake_stringify(global_facets);t.cookie("frequent_facets",e,{expires:99999}),terms=[];for(var n in currentQuery)"page"!=n&&(currentQuery[n]=currentQuery[n].clean(""),console.debug("field => "+n),console.debug("_value => "+currentQuery[n]),terms.push(n+"="+currentQuery[n].join("|")));t.each(terms,function(t,e){terms[t]=e.toString().replace(l,encodeURIComponent).replace(c,encodeURIComponent)}),window.location.search="?"+terms.join("&")},available_anywhere:function(){currentQuery.f_status=["_anywhere_"],u.constructQuery(o)},select_branch:function(t,e,n){if(n||(n=!1),1==e.prop("checked")){if(key="f_status",_value="_anywhere_",null!=currentQuery[key]&&currentQuery[key].length>0){var i=currentQuery[key];-1!=i.indexOf(_value)&&(i.splice(i.indexOf(_value),1),currentQuery[key]=i)}u.addFilter(t,e,n)}else u.removeFilter(t,e,n)},clear_all_filters:function(n){n.preventDefault();var i={};t.each(currentQuery,function(t,n){0===e.find('[param="'+t+'"]').length&&(i[t]=n)}),currentQuery=i,u.constructQuery(0)},show_filter_count:function(){var n=Object.keys(currentQuery),i=0,r=n.filter(function(t){return e.find('[param="'+t+'"]').length>0}).map(function(t){return currentQuery[t].length});r.length>0&&(i=r.reduce(function(t,e){return t+e})),t.datajs("facet-filtered-count").text(i)}};t.fn.filterList=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:u.init.apply(this,arguments)},t.filterList=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:u.init.apply(this,arguments)}}(jQuery),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},BC_MESSAGE_TYPE_TO_BOOTSTRAP_MAP={info:"info",error:"danger",warning:"warning",message:"success"},BC_MESSAGE_TYPE_TO_ICON_MAP={info:"icon-info-circled",error:"icon-attention-circled",warning:"icon-attention",message:"icon-ok-circled"};var Spinner=function(){return{show:function(){var t={"z-index":"210000"};$("#globalSpinner").css(t).addClass("activeSpinner").attr("data-test-id","active-spinner")},hide:function(){$("#globalSpinner").removeClass("activeSpinner").removeAttr("style").removeAttr("data-test-id")}}}(),delay=function(){var t=0;return function(e,n){clearTimeout(t),t=setTimeout(e,n)}}(),click_through_batch_actions=function(){var t="click-through-batch-action";$(document).on("click",bc_datajs_selector("click-through-batch-action"),function(){var e=$(this),n=(e.data("event"),{event:$(this).data("event"),pathname:this.pathname});$.cookie(t,JSON.stringify(n),{expires:1,path:"/"})});var e=$.cookie(t);if(e){e=JSON.parse(e);var n=e.event,i=e.pathname;if($.removeCookie(t,{path:"/"}),window.location.pathname!==i)return;$.datajs("batch-action-master-checkbox").prop("checked",!0).trigger("change");var r=$.datajs("batch-action-button").filter('[data-event="'+n+'"]');if(r.is("[disabled]")){var o=r.parent(bc_datajs_selector("batch-action-tooltip-wrapper"));o.length&&(o.focus().tooltip("show"),setTimeout(function(){o.tooltip("hide")},6e3))}else r.click()}},validate_jacket_image=function(t){if(t.attr("src")!==t.attr("fallback")){var e=new Image;e.onerror=function(){t.attr("src",t.attr("fallback"))},e.onload=function(){t.attr("src")!==t.attr("fallback")&&(e.width<=1||e.height<=1)&&t.attr("src",t.attr("fallback"))},e.src=t.attr("src")}};String.prototype.strip_scripts=function(){var t=this.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");return t},String.prototype.splice=function(t,e){return this.slice(0,t)+s+this.slice(t+Math.abs(e))},String.prototype.get_val=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+t+"=([^&#]*)",n=new RegExp(e),i=n.exec(this);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))},Array.prototype.in_array=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return!0;return!1},Array.prototype.associate=function(t){for(var e={},n=Math.min(this.length,t.length),i=0;n>i;i++)e[t[i]]=this[i];return e},String.prototype.capitalize=function(){return this.toLowerCase().replace(/(^|\s)([a-z])/g,function(t,e,n){return e+n.toUpperCase()})},"undefined"!=typeof $.validator&&($.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||t.length>9&&t.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid US phone number."),$.validator.addMethod("validUsername",validUsername,localized_validator_messages.user_name.matchesPattern),$.validator.addMethod("s4pYearRange",function(t,e,n){return/^\d+$/.test(t)&&4==t.length&&t>=1901&&n>=t},jQuery.validator.format(localized_validator_messages.s4pYearRange)),$.validator.addMethod("twitterhandle",function(t){if(""==t)return!0;var e=/^\w{1,32}$/,n=e.test(t);return n},jQuery.validator.format(localized_validator_messages.twitterusername)));var init_more_actions_overlay=function(t){window.BC_TEMPLATES=window.BC_TEMPLATES||{},BC_TEMPLATES.MORE_ACTIONS_TMPL=window.BC_TEMPLATES.MORE_ACTIONS_TMPL,!BC_TEMPLATES.MORE_ACTIONS_TMPL&&$("#list_more_actions_tmpl").length&&(BC_TEMPLATES.MORE_ACTIONS_TMPL=Handlebars.compile($("#list_more_actions_tmpl").html())),$.datajs("more-actions-btn").bc_inline_overlay({animation:!1,classes:"more_actions_overlay",content:function(){var t=BC_TEMPLATES.MORE_ACTIONS_TMPL(this.$trigger.data()),e=$("<div></div>").html(t),n=this.$container.datajs("action-link").clone().removeClass("btn-link pull-right pull-left text-right text-left").addClass("list-group-item"),i=this.$container.datajs("more_actions_info").clone();return e.datajs("more_actions_info_container").append(i),e.datajs("append-links").append(n),e.datajs("append-links").find("span[data-toggle~=tooltip]").each(function(){var t=$(this);t.html(t.data("title"))}),e.html()},open_callback:function(e){return t(),init_shelf_inline_overlay(),e.$element.datajs("action-link").one("show.bc.inline_overlay",function(t,n){n.data("bc.inline_overlay").$container=e.$container,e.close()}),e.$element.datajs("single-click-list-action").on("ajax:success",function(t,n){var i=$('<div class="col-xs-12"></div>').html(n.messages);e.$element.datajs("more_actions_info_container").append(i),e.$element.datajs("append-links").hide(),setTimeout(window.location.reload.bind(window.location),2e3)}),!0},close_callback:function(t){t.$element.html("")}})},init_shelf_inline_overlay=function(){$.datajs("shelf-inline-overlay").bc_inline_overlay({classes:"cp_shelf_inline_overlay",container:null,open_callback:function(t){var e=null,n=t.$trigger.data("bs.tooltip");n&&(n.options.title=t.$trigger.data("on-shelf-text")),t.$element.on("change.bc.shelf_dropdown",bc_datajs_selector("shelf-actions"),function(e,i){var r=t.$element.datajs("shelf_message");if(r.parent()&&r.parent().parent()){var o=r.parent().parent();o.addClass("alert-success cp_alert").find("strong").show(),o.find(".alert_icon").removeClass("hidden")}r.html(r.data(i?"deleted":"moved")),i?(t.$element.fadeOut(1500,function(){t.close()}),n&&(n.options.title=t.$trigger.data("default-tooltip-text"))):n&&(n.options.title=t.$trigger.data("on-shelf-text")),t.$trigger.toggleClass("on_shelf",!i)}),t.$trigger.addClass("on_shelf"),t.$element.on("click.bc.shelf_dropdown",bc_datajs_selector("privacy-toggle"),function(t){e&&(clearTimeout(e),e=null),t.preventDefault();var n=$(this),i=!n.data("private"),r={id:n.data("bib-id"),is_private_check:!0,no_reload:!0};i&&(r.is_private=!0),e=setTimeout(function(){$.ajax({type:"POST",dataType:"json",url:"/usercontent/update",data:r,inline_messaging:!0,show_spinner:!1}).always(function(){e&&(clearTimeout(e),e=null)})},300);var o=n.data((i?"private":"public")+"-text");n.datajs("privacy_label").html(o),n.data("private",i),n.find("i").removeAttr("class").addClass(i?"icon-lock":"icon-lock-open")})},close_callback:function(t){t.$element.css("display","").css("opacity",""),t.$element.off(".shelf_dropdown")}})};!function(t){t.fn.simple_post=function(){return this.each(function(){this_link=t(this),this_link.bind("click",function(e){e.preventDefault(),t.post(this_link.attr("href"),null,null,"json")})})}}(jQuery);var addWindowEvent=window.addEventListener||window.attachEvent;addWindowEvent("beforeunload",function(){window.dont_spin||Spinner.show(),window.dont_spin=!1}),addWindowEvent("unload",function(){"undefined"!=typeof Spinner&&Spinner.hide()}),function(t){t.fn.setFocus=function(){return this.each(function(){var e=t(this);e.is(":visible")&&e.focus()})}}(jQuery),function(t){t.fn.enterkey=function(e,n){n&&e&&t(this).keydown(function(t){return t.which==e?(n(),!1):void 0})}}(jQuery),function(t){t.fn.triggerDisable=function(e){return this.each(function(){var n=t(this),i=e.triggers;i.bind("click",function(){var e=!0;i.each(function(){t(this).attr("checked")&&(e=!1)}),1==e?n.attr("disabled","disabled"):n.removeAttr("disabled"),t(".selectpicker").selectpicker("refresh")})})}}(jQuery),Array.prototype.clean=function(t){for(var e=0;e<this.length;e++)this[e]==t&&(this.splice(e,1),e--);return this},Array.prototype.set=function(t,e){return(!this[t]||this.hasOwnProperty(t))&&(this[t]=e),this},String.prototype.contains=function(t,e){return-1!=this.indexOf(t,e)},toQueryString=function(t){var e=[];return $.each(t,function(t,n){var i=t+"="+encodeURIComponent(n);e.push(i)}),e.join("&")};var BCPrint={print_without_jacket_covers:function(){$.datajs("title-heading").attr("colspan",1),$.datajs("item-image").hide()},print_with_jacket_covers:function(){$.datajs("title-heading").attr("colspan",2),$.datajs("item-image").show()}};String.prototype.parseQueryString=function(){var t=this.split(/[&;]/),e={};return t.length&&$.each(t,function(t,n){var i=n.split("=");i.length&&2==i.length&&(e[decodeURIComponent(i[0])]=decodeURIComponent(i[1].replace(/\+/g,"%20")))}),e},"msie"===$.browser&&"7.0"==$.browser.version&&$("#mainNav .dropDownContent a").hover(function(){$(this).parent("li").parent("ul").parent("div.dropDownContent").css("visibility","visible"),$(this).parent("li").parent("ul").parent("li.navColumn").parent("ul").parent("div.dropDownContent").css("visibility","visible"),$(this).parent("li").parent("ul").parent("li.navColumn").parent("ul").parent("li").parent("ul").parent("div.dropDownContent").css("visibility","visible")},function(){$(this).parent("li").parent("ul").parent("div.dropDownContent").css("visibility","hidden"),$(this).parent("li").parent("ul").parent("li.navColumn").parent("ul").parent("div.dropDownContent").css("visibility","hidden"),$(this).parent("li").parent("ul").parent("li.navColumn").parent("ul").parent("li").parent("ul").parent("div.dropDownContent").css("visibility","hidden")}),$.ajaxPrefilter(function(t,e,n){!t.crossDomain&&window.AUTH_TOKEN&&"undefined"!=typeof DOAUTH&&DOAUTH===!0&&n.setRequestHeader("X-CSRF-Token",AUTH_TOKEN),is_responsive_page()&&!t.crossDomain&&n.setRequestHeader("X-RESPONSIVE-PAGE",!0),e.inline_messaging&&n.setRequestHeader("X-SKIP-BC-GLOBAL-MESSAGING",!0)}),$.ajaxSetup({dataFilter:function(t,e){if("json"===e){var n;try{n=$.parseJSON(t)}catch(i){return t}return"object"!=typeof n||null===n?t:(n.messages&&n.skip_global_messaging===!0&&n.skip_message_conversion!==!0&&(n.messages=n.messages.map(function(t){var e=BC_MESSAGE_TYPE_TO_BOOTSTRAP_MAP[t.type];return'<div class="cp_alert alert alert-'+e+'" role="alert" data-test-id="alert-'+e+'"><div class="alert_icon"><i class="'+BC_MESSAGE_TYPE_TO_ICON_MAP[t.type]+'"></i></div><div class="alert_text">'+t.key+"</div></div>"}).join("")),JSON.stringify(n))}return t}}),$(document).ajaxSend(function(t,e,n){"script"!=n.dataType&&"undefined"!=typeof Spinner&&0!=n.show_spinner&&Spinner.show()}),$(document).ajaxSuccess(function(t,e,n){if(!n.from_login&&"script"!==n.dataType&&"json"===n.dataType){var i=n,r=jQuery.parseJSON(e.responseText),n=$.extend({},n,r);if(n.success&&n.analytics&&push_gtm_events(n.analytics),"authentication"==n.error){if(!n.redirect)return void window.location.reload();window.is_responsive_registration?bc_feature.Redirects?BCLogin.show_modal(null,{url:n.redirect,success:function(t){var e=i.data?[i.data]:[];e.unshift("retain_messages=true"),$.ajax({from_login:t.from_login,contentType:i.contentType,dataType:i.dataType,method:i.method,url:i.url,data:e.join("&"),type:i.type}).always(function(){window.location.href=t.redirect?t.redirect:window.location.href})}}):BCLogin.show_modal(null,{url:n.redirect}):$.modal("show",{source_url:n.redirect,fixed_width:"400px",send_forms:!0,aria_describedby:"aria_log_in",close_callback:auth_modal_close})}else if(window.is_responsive_registration&&n.is_registration)BCReg.settings.back_link=n.after_registration_redirect,BCReg.start();else if(n.custom_ils_error){var o=r.messages;custom_ils_error_popup(o[0].key),Messages.clear(),$.fn.popout("hide_content")}else{if(n.reload){var a=window.location.href,s=a.indexOf("#");return-1!=s&&(a=a.substring(0,s)),void(window.location.href=a)}if(n.static_html){var l={content:n.static_html,send_forms:!0,marked_for_reload:!0};$.modal("show",l)}else if(n.html&&n.render_as_popup){var c="undefined"!=typeof n.marked_for_reload?n.marked_for_reload:!0,l={content:n.html,send_forms:!0,marked_for_reload:c};n.width&&(l.width=n.width),$.modal("show",l)}else if(n.redirect){if(!n.render_as_popup)return void(window.location.href=n.redirect);var l={source_url:n.redirect,send_forms:!0,marked_for_reload:n.marked_for_reload};$.modal("show",l)}}}"undefined"==typeof Messages||n.custom_ils_error||n.skip_global_messaging||Messages.show(n.messages),n.success&&"undefined"!=typeof r&&r&&"undefined"!=typeof r.silent_login&&null!==r.silent_login&&($("#"+r.j_callback).length>0&&trigger_j_callback(r.j_callback),BC_USER_ID=r.bc_id,BC_USERNAME=r.bc_username,$(".silent_login_listener").trigger("contentchange")),"undefined"!=typeof Spinner&&Spinner.hide(),$(this).trigger("contentchange")}),$(document).ajaxError(function(t,e,n){0!=n.show_spinner&&"undefined"!=typeof Spinner&&Spinner.hide(),e.status>=500&&console.error("Request Failed For: "+n.url)}),$.browser.msie&&parseInt($.browser.version)<9&&!function(t,e,n){function i(e,n){return n=t.call(n,2),function(){"object"!=typeof e.apply&&"function"!=typeof e.apply||null===e.apply||e.apply(null,n)}}window.setTimeout=function(t,n){return e(i(t,arguments),n)},window.setInterval=function(t,e){return n(i(t,arguments),e)}}([].slice,setTimeout,setInterval);var scrapes=0,disabled=!1;!function(t){t.fn.click_n_sub=function(){return this.each(function(){t(this).bind("click",function(e){var n=t(this);e.preventDefault(),0==disabled&&(scrapes++,scrapes>=3&&(disabled=!0,t(".click_n_sub:not(.fetching)").html(od_localizations.wait_message),t(".digital_request span").html(od_localizations.wait_message)),n.html(od_localizations.fetch_message),n.addClass("fetching"),t.getJSON(t(this).attr("href"),function(e){e.success&&e.html&&(n.replaceWith(e.html),e.available&&t("#request_link_"+n.attr("id").split("_")[2]+" span").html(od_localizations.checkout),scrapes--,2>=scrapes&&1==disabled&&(disabled=!1,t(".click_n_sub:not(.fetching)").html(od_localizations.request_available),t(".digital_request span").html(od_localizations.digital_request)))}))})})}}(jQuery),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&1/0!=i&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1}),$(document).on("input keydown","textarea[maxlength]",function(t){var e=$(this),n=e.attr("maxlength");
if(n){var i=e.val(),r=$("#"+e.attr("id")+"_character_count");r.length>0&&r.text(n-i.length),i.length>n&&(e.val(i.substring(0,n)),t.preventDefault())}}),function(t){t.fn.serializeObject=function(){var e={},n=this.serializeArray();return t.each(n,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e}}(jQuery),function(t){t.fn.doubleTapDropdown=function(){var e="ontouchstart"in window||navigator.msMaxTouchPoints;if(e){var n=this;t(document).on("click.doubleTapDropdown",function(e){var i=t(e.target);t.inArray(e.target,n)>-1&&!i.data("tapped")?(e.preventDefault(),n.removeData("tapped"),i.data("tapped",!0)):n.removeData("tapped")})}return this}}(jQuery),function(t){var e,n,r,o,a,s,l,c,u,h,d=new Array,p=new Array,f={init:function(i){return this.each(function(){u=i,o=t(this),e=t(this).find(".carousel"),a=o.find("select"),s=e.find(".navButton_right"),l=e.find(".navButton_left"),c=e.find("img.lazy");var d={start_position:2,width:e.find(".viewer").width(),ul_obj:e.find("ul"),padding:9,speed:200,info_partial:null,img_height:135,controller:"dashboard/slider_list",list_type:"recently_reviewed_bibs",make_circular:!0,pointer_arrow:!1,text_list:!0,disable_ajax_load:!1,callback:!1};n=t.extend(d,i),h=c.size();var p=c.size();if(o.find("form select").attr("disabled","disabled"),t(".js_ada_switch").enterkey(13,function(){setTimeout(function(){t(".carouselContainer .viewSelector .view-small").click(),t(".carouselContainer .listView .listItem a").first().focus()},200)}),isNaN(n.start_position)&&p>5)n.start_position=Math.floor(p/2),start=n.start_position-2,end=n.start_position+2;else if(p>=5)p-1<n.start_position&&(n.start_position=c.size()-1),start=n.start_position-2>0?n.start_position-2:0,end=n.start_position+2<p-1?n.start_position+2:p-1;else{if(0==p)return a.removeAttr("disabled"),void a.bind("change.carousel",f.switch_formats);start=0,end=p-1,n.start_position=Math.floor(p/2),n.make_circular=!1}if(r=n.start_position,1==n.disable_ajax_load)f.slide(n.start_position,5*n.speed,!0),s.bind("click.carousel",function(){f.make_circular("right")}),l.bind("click.carousel",function(){f.make_circular("left")});else if(f.load_images(start,end,!0),s.bind("click.carousel",function(){f.slide("right")}),l.bind("click.carousel",function(){f.slide("left")}),n.pointer_arrow){var g;t("li.carousel_item").hover(function(){var e=t(this).index();g=window.setInterval(function(t){f.slide(t),window.clearInterval(g)},600,e)},function(){window.clearInterval(g)})}})},switch_formats:function(){filters=o.find("form select, input#f_on_order").not('select[value*="any"]').serialize();var i=o.find('input[name="bib"]').attr("value");f.destroy(),t.cookie("back_to",baseURL()+document.location.pathname+"?view=VIEWCOVERS&bib="+i+"&format_html=true&"+filters,{path:"/"}),t.get(baseURL()+"/"+n.controller+"/"+n.list_type+".partial?view=VIEWCOVERS&bib="+i+"&"+filters,function(r){e.html(r.html),-1==r.html.indexOf("no_items")?(r.filters_html?(o.find(".widget_filters").html(r.filters_html),a=o.find("select")):a.removeAttr("disabled"),o.carousel(u)):(r.filters_html?(o.find(".widget_filters").html(r.filters_html),a=o.find("select"),a.on("change.carousel",f.switch_formats)):a.removeAttr("disabled"),o.carousel(u)),1==n.text_list&&t.get(baseURL()+"/dashboard/slider_list/"+n.list_type+".partial?view=VIEWLIST&bib="+i+"&"+filters,function(e){t("div.listView").html(e.html)})})},get_this_position:function(e){var i=0;return c.each(function(){t("img.lazy").index(t(this))<=e&&(i=i+t(this).width()+2*n.padding)}),i},load_images:function(t,e,o){function a(t){"object"==typeof p[t]&&(d[t].attr("src","//cor-cdn-static.bibliocommons.com/assets/default_covers/icon-book-93409e4decdf10c55296c91a97ac2653.png").removeAttr("imagedata").removeAttr("fallback").attr("width","96px").siblings(".lazy_loader").remove(),delete p[t]),l(t)}function s(t){"object"==typeof p[t]&&(p[t].width<20?(d[t].attr("src","//cor-cdn-static.bibliocommons.com/assets/default_covers/icon-book-93409e4decdf10c55296c91a97ac2653.png").removeAttr("imagedata").removeAttr("fallback").attr("width","96px").siblings(".lazy_loader").remove(),delete p[t]):(d[t].attr("src",p[t].src).addClass(d[t].attr("imagesize")).removeAttr("imagedata").removeAttr("fallback").attr("width",Math.round(n.img_height/p[t].height*p[t].width)+"px").siblings(".lazy_loader").remove(),delete p[t])),l(t)}function l(t){t==e&&(1==o?(f.slide(n.start_position,5*n.speed,!0),setTimeout(f.load_remaining_images,5*n.speed)):t==e&&f.align(r))}for(i=t;e>=i;i++)d[i]=c.eq(i),"true"!=d[i].attr("bumper")?"undefined"!=d[i].attr("imagedata")&&(p[i]=new Image,p[i].onerror=function(t){return function(){a(t)}}(i),p[i].onabort=function(t){return function(){a(t)}}(i),p[i].onload=function(t){return function(){s(t)}}(i),p[i].src=d[i].attr("imagedata")):!function(t){l(t)}(i)},load_queue:function(){t.each(p,function(t){d[t]&&p[t]&&d[t].attr("src",p[t].src).removeAttr("imagedata").removeAttr("fallback").attr("width",Math.round(135/p[t].height*p[t].width)+"px").siblings(".lazy_loader").remove()}),f.slide(r,0,!1)},align:function(t){var e=f.calculate_movement(t);n.ul_obj.css("left",e)},calculate_movement:function(t){var i=e.find("li.carousel_item").eq(t),r=f.get_this_position(t),o=-1*Math.round(r-(i.width()/2+n.padding)-n.width/2);return o+=0>o?"px":"px"},slide:function(i,o){if(o||(o=n.speed),isNaN(i)?"left"==i?i=r-1:"right"==i&&(i=r+1):i||0==i||(i=i=r+1),i>=0&&i<=e.find("li.carousel_item").size()-1){var a=e.find("li.carousel_item").eq(i),s=f.calculate_movement(i);if(n.pointer_arrow){var l=360-(a.width()/2-24);t(".bibInfoBlock .slider_pointer").animate({left:l},o)}n.ul_obj.animate({left:s},o,function(){a.find("img").addClass("current"),t(".container li").not(a).find("img").removeClass("current"),r=i,f.show_info(a),n.callback&&n.callback(a)})}},make_circular:function(t){if("left"==t?(go_to=r-1,t=-1):"right"==t&&(go_to=r+1,t=1),0>t)var i=go_to-2;else var i=go_to+3;if(i>0&&i<e.find("li.carousel_item").size())f.slide(go_to);else if(3>go_to){var o=(e.find("li.carousel_item").eq(i),e.find("li.carousel_item").last());o.remove(),o.prependTo(n.ul_obj),go_to+=1,f.slide(go_to)}else{var o=e.find("li.carousel_item").first();o.remove(),o.appendTo(n.ul_obj),go_to-=1,f.slide(go_to)}},start_to_end_slide:function(t){"left"==t?(go_to=r-1,t=-1):"right"==t&&(go_to=r+1,t=1);var n=e.find("li.carousel_item").size();f.slide(0>go_to?n-1:go_to>=n?0:go_to)},show_info:function(e){var n=e.attr("param");t(".carouselContainer .bibInfoBlock div").hide().removeAttr("testid"),t(".carouselContainer .bibInfoBlock").find(".info_"+n).show().attr("testid","current_info_block")},load_remaining_images:function(){function e(){g--,0>=g&&clearInterval(i),n.start_position+d<=u&&(f.load_images(n.start_position+d,n.start_position+d),d++),n.start_position+p>=0&&(f.load_images(n.start_position+p,n.start_position+p),p--),n.start_position+d>u&&n.start_position+p<0&&(s.unbind("click.carousel"),l.unbind("click.carousel"),1==n.make_circular?(s.bind("click.carousel",function(){f.make_circular("right")}),l.bind("click.carousel",function(){f.make_circular("left")})):(s.bind("click.carousel",function(){f.start_to_end_slide("right")}),l.bind("click.carousel",function(){f.start_to_end_slide("left")})),o.find(".view-medium").bind("click.carousel",function(){setTimeout(function(){f.slide(r)},100)}),a.removeAttr("disabled"),a.bind("change.carousel",f.switch_formats),n.ul_obj.find(".item_bumper")&&n.ul_obj.find(".item_bumper").bind("click.carousel",function(){o.find('input[name="bib"]').attr("value",t(this).attr("id").replace("bib_","")),f.switch_formats()}),clearInterval(i))}var i=setInterval(e,100),u=c.size()-1,d=3,p=-3,g=h-6},destroy:function(){a.unbind("change.carousel"),s.unbind("click.carousel"),l.unbind("click.carousel"),d.length=0,p.length=0,a.attr("disabled","disabled"),o.find(".view-medium").unbind("click.carousel"),n.ul_obj.find(".item_bumper")&&n.ul_obj.find(".item_bumper").unbind("click.carousel")},lite_load:function(){filters=o.find("form select, input#f_on_order").serialize();var i=o.find('input[name="bib"]').attr("value");f.destroy(),t.cookie("back_to",baseURL()+document.location.pathname+"?view=VIEWCOVERS&bib="+i+"&format_html=true&"+filters,{path:"/"}),t.get(baseURL()+"/"+n.controller+"/"+n.list_type+".partial?view=VIEWCOVERS&bib="+i+"&"+filters,function(r){e.html(r.html),-1==r.html.indexOf("no_items")?(r.filters_html?(o.find(".widget_filters").html(r.filters_html),a=o.find("select")):a.removeAttr("disabled"),o.carousel(u)):(r.filters_html?(o.find(".widget_filters").html(r.filters_html),a=o.find("select"),a.on("change.carousel",f.switch_formats)):a.removeAttr("disabled"),o.carousel(u)),1==n.text_list&&t.get(baseURL()+"/dashboard/slider_list/"+n.list_type+".partial?view=VIEWLIST&bib="+i+"&"+filters,function(e){t("div.listView").html(e.html)})})}};t.fn.carousel=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:f.init.apply(this,arguments)}}(jQuery),function(t){t.widget("ui.combobox",{options:{autocomplete:!1},_create:function(){var e,n=this,i=this.element.hide(),r=i.children(":selected"),o=r.val()?r.text():"",a=this.wrapper=t("<span>").addClass("ui-combobox").insertAfter(i);e=t("<input>").appendTo(a).val(o).addClass("ui-state-default ui-combobox-input").autocomplete({delay:0,minLength:0,source:function(e,n){var r=new RegExp(t.ui.autocomplete.escapeRegex(e.term),"i");n(i.children("option").map(function(){var n=t(this).text();return!this.value||e.term&&!r.test(n)?void 0:{label:n.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.ui.autocomplete.escapeRegex(e.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:n,option:this}}))},select:function(e,r){r.item.option.selected=!0,n._trigger("selected",e,{item:r.item.option}),t(i).trigger("change")},change:function(n,r){if(!r.item){var o=new RegExp("^"+t.ui.autocomplete.escapeRegex(t(this).val())+"$","i"),a=!1;if(i.children("option").each(function(){return t(this).text().match(o)?(this.selected=a=!0,!1):void 0}),!a)return t(this).val(""),i.val(""),e.data("autocomplete").term="",!1}}}).addClass("ui-widget ui-widget-content ui-corner-left"),1!=this.option("autocomplete")&&e.attr("disabled","disabled"),e.data("autocomplete")._renderItem=function(e,n){return t("<li></li>").data("item.autocomplete",n).append("<a>"+n.label+"</a>").appendTo(e)},t("<a>").attr("tabIndex",-1).attr("title","Show All Items").appendTo(a).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-combobox-toggle").click(function(){return e.autocomplete("widget").is(":visible")?void e.autocomplete("close"):(t(this).blur(),e.autocomplete("search",""),void e.focus())})},destroy:function(){this.wrapper.remove(),this.element.show(),t.Widget.prototype.destroy.call(this)}})}(jQuery),$(function(){}),function(t){var e={init:function(n){return this.each(function(){var i={event:null,callback:!1};t(this).length>0?t(this).bind("change",function(r){setTimeout(function(){i.event=r,n=t.extend(i,n),e.load(n)},300)}):n=t.extend(i,n)})},load:function(t){if(ev=t.event,1==t.target_modal||t.callback||Spinner.show(),t.target_value)var e=t.target_value.split("!");else var e=ev.target.value.split("!");var n=e[0],i=e[1],r=e[2];if(""!=n){if(t.url)var o=parseUri(decodeURI(t.url));else var o=parseUri(decodeURI(window.location.href));var a={};o.query&&(a=o.query.parseQueryString()),a["sort[field]"]=i,a["sort[type]"]=n,a["sort[direction]"]=r,delete a.page;var s=toQueryString(a);if(t.callback)t.callback("?"+s);else{if(1==t.target_modal)return o.path+"?"+s;window.location.href=o.path+"?"+s}}}};t.fn.sort_selector=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(n){return this.each(function(){var i=t(this),r={wrapper:i,save_trigger:i.find(".save_search"),close_trigger:i.find(".close_button"),form:i.find(".enter_name")},o=t.extend(r,n);e.toggle_save_form(o),t(document).on("submit","#duplicate_save_search",function(n){o.callback=function(){t.modal("hide"),o.duplicate=!1},o.duplicate=!0,e.perform_save(n,t(this),o)}),search_str=window.location.search.toString(),search_str.indexOf("page")&&(search_str=search_str.replace("&page="+search_str.get_val("page"),"&page=1")),o.form.find("form #search_string").val(search_str),o.form.find("form #commit_save").bind("click",function(n){e.perform_save(n,t(this),o)})})},toggle_save_form:function(e){e.save_trigger.bind("click",function(){e.form.slideDown(400)}),t("body").bind("click.saved_search",function(n){return t(n.target).closest(e.wrapper).length>0?!1:void e.form.slideUp(400)}),e.close_trigger.bind("click",function(t){t.preventDefault(),e.form.slideUp(400)})},get_title:function(e){saveQuery=t.filterList("parseCurrentQuery"),saveQueryString="",delete saveQuery.t,delete saveQuery.searchOpt,delete saveQuery.page,delete saveQuery.commit,t.each(saveQuery,function(t,e){"q"==t||"search_category"==t||(saveQueryString="search_meta["+t+"]["+e+"]")}),e.form.find(".search_meta").val(saveQueryString)},parse_search:function(){},perform_save:function(e,n,i){e.preventDefault(),form_data=i.duplicate?t("#duplicate_save_search").serialize():n.parent("form").serialize(),t.getJSON("/user/save_search.json?"+form_data,function(e){i.wrapper.find(".enter_name").slideUp(400),e.duplicate?t.modal("show",{content:e.html,fixed_width:"400px"}):"function"==typeof i.callback&&i.callback()})}};t.fn.save_search=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),$(".save_search_wrapper").save_search(),function(t){var e={init:function(n){return this.each(function(){var i={relativeTo:t(this),left:0,top:0,offset:null,height:"auto",content:null,hover_close:!0,callback:null,off_trigger:!1,aria_describedby:null,close_on_esc:!1,placement:!1,send_forms:!1,forms_callback:!1,keep_whitespace:!1},r=t.extend(i,n);r.keep_whitespace||(r.content=r.content.replace(/\n/g,"").replace(/\s/g," ").replace(/  ,/g," ")),r.hover_close&&e.hover_intent(r),e.set_content(r),e.position(r),n.send_forms&&e.send_forms(r),t("body").on("click",".popout-box a.cancel, [data-js~=close_button]",function(t){e.hide_content(r,t)}),window.BiblioCommons&&"function"==typeof window.BiblioCommons.SDK.updateWidgetDimensions&&window.BiblioCommons.SDK.updateWidgetDimensions(),n.callback&&n.callback.call(this)})},set_content:function(e){t("#popout-box-content").html('<a href="" class="close" testid="modal_close" style="margin-left:-10000px;position:absolute;"'+(e.aria_describedby?"aria-describedby="+e.aria_describedby+" aria-labelledby="+e.aria_describedby:"")+"></a>").append(e.content).trigger("contentchange"),t("#popout-box-content").data("last_focus",e.relativeTo),t("#popout-box-content .selectpicker").selectpicker(),setTimeout(function(){t("#popout-box-content .close").focus()},200)},position:function(e){t(".modal-wrap").css({background:"none","z-index":"10"}).show(),t(".popout-box").css({display:"block",visibility:"visible","z-index":"100"}),e.suppress_intent?t(".modal-wrap").hide().removeAttr("style"):t(".modal-wrap").show().css("background","none").css("z-index","10");var n;n=e.offset?e.offset:e.relativeTo.parent("li").parent("ul").parent("div").length>0?e.relativeTo.parent("li").parent("ul").parent("div").outerWidth(!0):0;var i=t(".popout-box").outerWidth(),r=i+30,o=t(window).width()-e.relativeTo.offset().left,a={left:"left",right:"right",bottom:"bottom"};e.placement||(e.placement=o>r?a.right:a.left);var s,l;switch(e.placement){case a.right:t("div.popout-box").position({my:"right center",at:"left center",offset:n+i+5+" 0",of:e.relativeTo}),t(".popout-box-border").position({my:"right center",at:"left top",offset:n+5+" 12",of:e.relativeTo}),t(".popout-box-arrow").position({my:"right center",at:"left top",offset:n+7+" 12",of:e.relativeTo}),l="transparent #FFF transparent transparent",s="transparent #CCC transparent transparent";break;case a.bottom:t("div.popout-box").position({my:"center top",at:"center bottom",offset:n+5+" 12",of:e.relativeTo,collision:"none"}),t(".popout-box-border").position({my:"center bottom",at:"center bottom",offset:n+" 12",of:e.relativeTo}),t(".popout-box-arrow").position({my:"center bottom",at:"center bottom",offset:n+" 14",of:e.relativeTo}),l="transparent transparent #FFF transparent",s="transparent transparent #CCC transparent";break;default:t("div.popout-box").position({my:"right center",at:"right center",offset:i+12+" 0",of:e.relativeTo}),t(".popout-box-border").position({my:"left center",at:"left top",offset:"-12 12",of:e.relativeTo}),t(".popout-box-arrow").position({my:"left center",at:"left top",offset:"-13 12",of:e.relativeTo}),l="transparent transparent transparent #FFF",s="transparent transparent transparent #CCC"}t(".popout-box-border").css("border-color",s),t(".popout-box-arrow").css("border-color",l)},send_forms:function(n){t(".popout-box").on("submit.popout","form",function(i){i.preventDefault(),t.post(t(this).attr("action")+".json",t(this).serialize(),function(t){t.close_popup&&e.hide_content(n),n.forms_callback&&n.forms_callback.call(this,t)},"json")})},hover_intent:function(n){t(".popout-box select").on("click",function(){t(".popout-box").data("hover",!0),clearTimeout(t(".popout-box").data("hoverInt"))}),n.close_on_esc?t(document).keydown(function(i){27===i.keyCode&&(t(".popout-box").data("hover",!1),e.hide_content(n))}):t(".modal-wrap").click(function(){t(".popout-box").data("hover",!1),e.hide_content(n)}),n.off_trigger&&(n.off_trigger.off(),n.off_trigger.mouseenter(function(){clearTimeout(t(".popout-box").data("hoverInt"))}).mouseleave(function(){var i=setTimeout(function(){t(".popout-box").data("hover")!==!0&&(t.removeData(".popout-box"),e.hide_content(n))},1500);t(".popout-box").data("hoverInt",i)})),window.BiblioCommons&&"function"==typeof window.BiblioCommons.SDK.updateWidgetDimensions&&window.BiblioCommons.SDK.updateWidgetDimensions()},hide_content:function(e,n){n&&n.preventDefault(),t(".popout-box").off(".popout"),t(".popout-box").css({visibility:"hidden",display:"none"}),t(".modal-wrap").hide().removeAttr("style");var i=t("#popout-box-content").data("last_focus");i&&e&&i==e.relativeTo.get()&&i.focus()}};t.fn.popout=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(){return this.each(function(){var e=t(this),n=e.find("a.expandBtn");n.unbind("click"),n.bind("click",function(t){t.preventDefault(),n.toggle(0),e.find(".extra").slideToggle(200,function(){})})})}};t.fn.bc_expander=function(){return e.init.apply(this,arguments)}}(jQuery),function(t){var e,n,i={init:function(r){return n=t(this),this.each(function(){var o={};e=t.extend(o,r),e.actions&&t.each(e.actions,function(t,e){switch(e.type){case"edit_details":e.offset||(e.offset=null),i.edit_details(".detailForm","edit","item",e.offset),i.hoverable(),i.add_other_triggers();break;case"quantity":i.quantity(e.trigger);break;case"hold_dates":i.setup_dates();break;case"pickup":i.pickup();break;case"suspend":i.suspend(e.trigger);break;case"payflow_submit":i.payflow_submit(e.trigger);break;case"payall_submit":i.payall_submit(e.trigger);break;case"sortable":e.items||(e.items=null),i.sortable(e.trigger,e.items,e.action);break;case"load_more":i.load_more(e.trigger,e.action);break;case"show_detail":i.show_detail(e.trigger,e.owner);break;case"load_new":setInterval(function(){i.load_new(e.action)},3e5);break;default:e.ga_category||(e.ga_category=""),e.extra_data||(e.extra_data=null),i.simple_action(e.trigger,e.action,e.ga,e.ga_category,e.extra_data)}}),i.select_all(n.find("a.selectAll")),i.select_none(n.find("a.selectNone"))})},simple_action:function(e,n,r,o,a){e.bind("click",function(s){s.preventDefault();var l=t(".itemsCheckbox").serialize();a&&null!=a&&(l=l+"&"+a);var c=i.isolate_item_ids(),u=t.ajax({type:"POST",url:n.replace("&amp;","&"),data:l,beforeSend:function(){e.addClass("disable"),e.attr("disabled","disabled"),$defined(ga)&&ga("send","event",o,r,c,c.length)},dataType:"json"});u.done(function(){}),u.fail(function(){}),u.always(function(){e.removeClass("disable"),e.removeAttr("disabled")})})},edit_details:function(e){t(".is_private").one("click",function(){t("#is_private_check").val("true")}),t(document).on("click",e,function(e){clicked_obj=t(this);var n=this;if("INPUT"==n.tagName||"A"==n.tagName){e.preventDefault();var i="";if("INPUT"==n.tagName){i=t(this).serialize(),("is_private"==t(n).attr("name")||"iown_this"==t(n).attr("name"))&&(i=t(n).parent("fieldset").find("input").serialize());{var r="/usercontent/update/"+clicked_obj.attr("class").replace(/[^0-9]/g,"");t.ajax({type:"POST",url:r,data:i,dataType:"json"})}}else if("A"==n.tagName){{var o=clicked_obj.attr("href"),a=t.ajax({type:"POST",url:o,dataType:"json"});"aria_"+clicked_obj.attr("href").split("section=").pop().replace(/[^\w_]/gi,"")||"",clicked_obj.parent("li").parent("ul").parent("div")}a.always(function(t){t.html&&clicked_obj.overlay({content:t.html,open_on_init:!0,close_selector:bc_datajs_selector("close_button")+",.js-close-trigger",close_on_outer_click:!1})})}}})},construct_action:function(){},get_selected:function(){n.find(".ratingBlock").rating()},add_other_triggers:function(){n.find(".ratingBlock:not(.read-only)").rating()},isolate_item_ids:function(){var e=[];return n.find("input[type=checkbox]").filter(":checked").each(function(n){e[n]=t(this).attr("value")}),e},select_all:function(e){e.bind("click",function(e){e.preventDefault(),t(".itemsCheckbox").attr("checked",!0)})},hoverable:function(){},select_none:function(e){e.bind("click",function(e){e.preventDefault(),t(".itemsCheckbox").attr("checked",!1)})},show_detail:function(e,n){var i,r;e.bind({mouseenter:function(){var e=t(this),r=t(this).parent("div").parent("div").parent("div.listItem").attr("id");r=r.replace(/[A-Za-z_]/g,""),i&&(clearTimeout(i),i=null),i=setTimeout(function(){t("#popout-box-content").data("last_focus",e);var i=t.ajax({type:"POST",url:"/usercontent/show/"+r+".json?section=all&readonly=true&owner="+encodeURIComponent(n),dataType:"json"});i.always(function(n){if(n&&n.html){var i=e.outerWidth(!1)+13;e.popout({content:n.html,offset:i,suppress_intent:!0}),t("#popout-box-content").parents(".popup-box-ie-position").css("z-index",100)}})},600)},mouseleave:function(){var e=t(this);r&&(clearTimeout(r),r=null),r=setTimeout(function(){e.popout("hide_content",{relativeTo:e})},1e3)}})},quantity:function(e){e.bind("change",function(){var e=parseUri(window.location.href),n={};e.query&&(n=e.query.parseQueryString()),n.display_quantity=t(this).val(),n.page=1,setTimeout(function(){window.location.href=e.path+"?"+t.param(n)},300)})},setup_dates:function(){t("a.suspend_end_editor_link, a.suspend_start_editor_link, a.expiry_editor_link").bind("click",function(){var e=t(this);if(e.hasClass("expiry_editor_link")){var n="expires_date";v_ga="change expiry date"}else if(e.hasClass("suspend_start_editor_link")){var n="suspend_start_date";v_ga="change suspend start date"}else if(e.hasClass("suspend_end_editor_link")){var n="suspend_end_date";v_ga="change suspend end date"}var i="/holds/edit/"+e.attr("id").replace(/[A-Za-z_]/g,"")+"/"+n,r=t.ajax({type:"POST",url:i,dataType:"json",beforeSend:function(){$defined(ga)&&ga("send","event","holds",v_ga,e.attr("id").replace(/[A-Za-z_]/g,""),1)}});r.always(function(t){e.popout({content:t.html,offset:e.outerWidth(!0)+10,callback:update_hold_dates})})})},pickup:function(){t(document).on("change",bc_datajs_selector("pickup_select"),function(){{var e=t(this);t.ajax({type:"POST",url:"/holds/update/"+e.attr("id").replace(/[A-Za-z_]/g,"")+"?pickup_location="+e.attr("value"),dataType:"json",beforeSend:function(){$defined(ga)&&ga("send","event","holds","change pickup location",e.attr("id").replace(/[A-Za-z_]/g,""),1)}})}})},suspend:function(t){var e=i.suspend_type(t);if("no_cal"!==e&&"no_suspend"!==e){i.suspend_cal(e,t)}else t.datajs("suspendBtn").on("click",function(t){t.preventDefault(),i.suspend_submit()})},suspend_type:function(t){return t.hasClass("no_cal")?"no_cal":t.hasClass("range")?"ranged_cal":t.datajs("suspendBtn").length>0?"cal":"no_suspend"},valid_date_range:function(t,e){if(t!=e){date1_split=t.split("-");var n=new Date(date1_split[2],date1_split[1],date1_split[0]);date2_split=e.split("-");var i=new Date(date2_split[2],date2_split[1],date2_split[0]);if(i>n)return!0;var n=new Date(Date.parse(t.replace(/-/g," ")));if(i>n)return!0}return!1},suspend_cal:function(e,n){n.each(function(){var n=t(this),r={dateFormat:"dd-mm-yy",minDate:1,showAnim:"slideDown"};if("ranged_cal"==e)n.daterangepicker({onClose:function(){var t=i.valid_date_range(n.find(".suspendBtn_input").attr("value"),n.find(".suspendBtn_input_end").attr("value"));t&&i.suspend_submit(t,e,n)}});else if("cal"==e)n.daterangepicker({onClose:function(){var t=n.find(".suspendBtn_input_end").attr("value");""!=t&&i.suspend_submit(t,e,n)}});else{var o={onSelect:function(t){i.suspend_submit(t,e)}};t.extend({},r,o)}})},suspend_submit:function(e,n,r){var o=t(".itemsCheckbox").serialize(),a=i.isolate_item_ids();if(e)if("ranged_cal"==n)var s={suspend_start_date:r.find(".suspendBtn_input").attr("value"),suspend_end_date:r.find(".suspendBtn_input_end").attr("value")};else var s={suspend_start_date:"null",suspend_end_date:e};else var s={suspend_start_date:"null",suspend_end_date:"null"};t.ajax({type:"POST",url:"/holds/suspend.json?"+o,data:s,dataType:"json",beforeSend:function(){$defined(ga)&&ga("send","event","holds","suspend",a,a.length)}})},payflow_submit:function(e){e.bind("click",function(e){e.preventDefault();{var n=t.datajs("batch-action-checkbox").serialize();t.ajax({type:"POST",url:"/fines/generatePaymentGateWayPost.json?"+n,dataType:"json",success:function(e){if(e.html){var n=t.datajs("payflow_invisible_form");n.html(e.html),n.find("form").trigger("submit")}}})}})},payall_submit:function(e){e.bind("click",function(e){e.preventDefault();t.ajax({type:"POST",url:"/fines/generatePaymentGateWayPost.json?pay_all=1",dataType:"json",success:function(e){if(e.html){var n=t.datajs("payflow_invisible_form");n.html(e.html),n.find("form").trigger("submit")}}})})},sortable:function(e,n,i){n||(n="div.listItem"),e.sortable({items:n,handle:"div.dragMe",stop:function(e,n){item_id=n.item.attr("id").replace("item",""),new_index=n.item.index(),data={item:item_id,position:new_index};t.ajax({type:"POST",url:i+".json",data:data,dataType:"json"})}})},load_new:function(e){t.ajax({type:"POST",url:e+".json",dataType:"json",show_spinner:!1}).done(function(e){e.success&&e.html&&e.count>0&&(t("#listContentUpdates").html(e.html),t("#listContentUpdates").css("opacity",1).css("visibility","visible"))})},load_more:function(e,n){e.on("click",function(){page_num=t("#listPaginationLoadArea").attr("class").replace(/[a-z\_]/g,""),data={page:page_num};t.ajax({type:"POST",url:n+".json",data:data,dataType:"json"}).done(function(e){e.success&&(t.each(e.items,function(e,n){t("#bibList #bib-medium").append(n)}),e.load_more?t("#listPaginationLoadArea").attr("class","page_num_"+ ++page_num).appendTo("#bibList #bib-medium"):t("#listPaginationLoadArea").remove())})})}};is_responsive_page()&&(i.legacy={suspend_cal:i.suspend_cal,setup_dates:i.setup_dates},i.suspend_cal=function(e,n){"cal"===e?n.each(function(){var n=t(this),r=new Date;r.setDate(r.getDate()+1),n.pickadate({formatSubmit:"dd-mm-yy",hiddenName:!0,min:r,onSet:function(){var t=this.get("select","dd-mm-yy");""!==t&&i.suspend_submit(t,e,n)}})}):"ranged_cal"===e?i.legacy.suspend_cal(e,n):i.legacy.suspend_cal(e,n)},i.setup_dates=function(){t(document).off(".setup_dates").on("click.setup_dates",bc_datajs_selector("date_editor"),function(e){e.stopPropagation();var n=t(this);if(n.data("date-initialized")!==!0){var i=n.data("date-prefix"),r=(n.data("date-ga"),"/holds/update/"+n.attr("id").replace(/[A-Za-z_]/g,""));n.data("date-initialized",!0),n.pickadate({container:"body",onStart:function(){"string"==typeof n.data("value")&&this.set("select",n.data("value"),{format:"yyyy-mm-dd"})},onSet:function(){if(this.get("select","yyyy-mm-dd")!==n.data("value")){var e={day:this.get("select","dd"),month:this.get("select","mm"),year:this.get("select","yyyy")},o={};t.each(e,function(t,e){o[i+t]=e}),e.day&&e.month&&e.year&&t.post(r,o,t.noop,"json")}},min:new Date})}})}),t.fn.list=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:i.init.apply(this,arguments)}}(jQuery),jQuery.fn.daterangepicker=function(t){function e(t){if(!t||!t.getDate())return"";{var e=(t.getDate(),t.getMonth());t.getFullYear()}e++;var n=a.datepickerOptions.dateFormat;return jQuery.datepicker.formatDate(n,t)}var n=$(this),i=1;if(n.find(".ils_timestamp").length>0){var r=new Date;r.setHours(0,0,0,0);var o=new Date(parseInt(n.find(".ils_timestamp").val()));o.setHours(0,0,0,0),o>r&&(i=2)}var a=jQuery.extend({inputs:n.find('input[type="text"]'),trigger:n.datajs("suspendBtn"),rangeStartTitle:START_DATE,rangeEndTitle:END_DATE,doneButtonText:DONE_BUTTON,onClose:function(){},datepickerOptions:{dateFormat:"dd-mm-yy",minDate:i,showAnim:"slideDown"},startDatepickerOptions:{dateFormat:"dd-mm-yy",minDate:i-1,showAnim:"slideDown"},locale:$.datajs("suspend_hold_locale").val()},t),s={onSelect:function(){var t=e(u.find(".range-start").datepicker("getDate"));t||(t=a.inputs.eq(0).val());var n=e(u.find(".range-end").datepicker("getDate"));2==a.inputs.length&&(a.inputs.eq(0).val(t),a.inputs.eq(1).val(n))},defaultDate:0};a.datepickerOptions=t?jQuery.extend(s,a.datepickerOptions,t.datepickerOptions):s;var l,c="0",u=jQuery('<div class="ui-daterangepicker ui-widget ui-helper-clearfix ui-widget-content ui-corner-all"></div>');jQuery.fn.restoreDateFromData=function(){return n.data("saveDate")&&n.datepicker("setDate",jQuery(this).data("saveDate")).removeData("saveDate"),this},jQuery.fn.saveDateToData=function(){return n.data("saveDate")||n.data("saveDate",jQuery(this).datepicker("getDate")),this},jQuery.clickActions=function(t,e,n){return n.hide(),e.show(),t.find(".title-start").text(a.rangeStartTitle),t.find(".title-end").text(a.rangeEndTitle),a.trigger.parent("span").hasClass("range")?t.find(".range-start").restoreDateFromData().show(400).parent("div").css("width","550px"):t.find(".range-start").restoreDateFromData(),t.find(".range-end").restoreDateFromData().show(400),setTimeout(function(){n.fadeIn()},400),!1};var h=$('<span class="range_overlay" style="width:100%; height:100%; display:none; z-index:1; position:absolute; top:0px; left:0px;"></span>');n.append(h);var d=jQuery('<div class="ranges ui-widget-header ui-corner-all ui-helper-clearfix"><div class="range-start"><span class="title-start">Start Date</span></div><div class="range-end"><span class="title-end">End Date</span></div></div>').appendTo(u);d.find(".range-end").datepicker($.extend({},$.datepicker.regional[a.locale],a.datepickerOptions)),d.find(".range-end").datepicker("setDate",c),d.find(".range-start").datepicker($.extend({},$.datepicker.regional[a.locale],a.startDatepickerOptions)),d.find(".range-start").datepicker("setDate",l);var p=jQuery('<button class="btnDone ui-state-default ui-corner-all">'+a.doneButtonText+"</button>").click(function(){u.find(".ui-datepicker-current-day").trigger("click"),u.slideUp(300),h.hide(),a.onClose()}).appendTo(d);return a.trigger.on("click",function(){return h.toggle(0),u.slideToggle(300),!1}),d.css("display","none").find(".range-start, .range-end, .btnDone").css("display","none"),n.append(u),u.wrap('<div class="ui-daterangepickercontain"></div>'),h.click(function(){u.is(":visible")&&(u.slideUp(300),h.hide(),a.onClose())}),u.click(function(){return!1}).hide(),jQuery.clickActions(u,d,p),this},$(function(){function t(t,e){var n=[];t.find("[data-section]").each(function(){var t=$(this);n.push($.getJSON("/dashboard/user_dashboard_status",{section:t.data("section"),libid:e},function(e){t.find(".dashboard_item").html(e.html),t.removeAttr("data-section")})),$.when.apply($,n).done(function(){n.splice(0,1),0==n.length&&($("#useraccount_accordion h3").show(),window.BiblioCommons&&"function"==typeof window.BiblioCommons.SDK.updateWidgetDimensions&&(window.BiblioCommons.SDK.updateWidgetDimensions(),Spinner.hide()))})})}var e=$("#useraccount_accordion");e.length>0&&(t($("#useraccount0"),""),$("#useraccount_accordion h3").one("click",function(n){n.preventDefault();var i=$(this).data("lib-id"),r=$(this).next("div.useraccount_status");t(r,i),e.accordion("resize"),window.BiblioCommons&&"function"==typeof window.BiblioCommons.SDK.updateWidgetDimensions&&window.BiblioCommons.SDK.updateWidgetDimensions()}),e.accordion({autoHeight:!1,collapsible:!1}),e.on("click",".alternative_login",function(t){t.preventDefault();
var e=$(this).data("lib-id");$.getJSON("/dashboard/user_status_pin_update?libid="+e)}),0==$("div#dashboardUserStatus").length&&$("#useraccount_accordion h3").show())}),function(t){var e={init:function(n){return this.each(function(){var i={obj:t(this),modal:null},r=t.extend(i,t(this).data(),n),o=t(".cp_bc_modal .content-body");r.overlay&&(o=t.datajs("overlay-container").datajs("popup_search_overlay"),o.off(".popup_search")),o.on("show.bs.dropdown.popup_search",function(){0===o.datajs("popup_search_table").length&&o.css("overflow","visible")}),o.on("hide.bs.dropdown.popup_search",function(){0===o.datajs("popup_search_table").length&&o.css("overflow","")}),o.on("click.popup_search",bc_datajs_selector("popup_search_add_result"),function(n){n.preventDefault(),e.add_button(r,t(this),o)}),o.on("click.popup_search",".pagination a",function(n){n.preventDefault(),e.nav_link(r,t(this),o)}),r.overlay&&o.on("submit.popup_search","form",function(e){e.preventDefault(),t.post(t(this).attr("action"),t(this).serialize(),function(t){o.parent().html(t.html)},"json")}),o.on("click.popup_search",bc_datajs_selector("popup_search_amazon"),function(n){n.preventDefault(),e.nav_link(r,t(this),o)})})},nav_link:function(e,n,i){var r=n.attr("href").toString();t.getJSON(r,function(t){t.html&&(e.modal?e.modal.add_content(t):e.overlay&&i.parent().html(t.html))})},add_button:function(e,n,i){n.off("click");var r=n.attr("href");t.getJSON(r,function(r){if(r.success===!0){var o=n.parents(bc_datajs_selector("popup_search_table_row")).find(bc_datajs_selector("popup_search_table_count"));if(o.length){var a=parseInt(o.html());isNaN(a)||o.html(a+1)}var s=e.itemAddedText?e.itemAddedText:ADDED;n.replaceWith(s),r.items_to_update&&t.each(r.items_to_update,function(t,e){var n=i.find('[data-item-id="'+e+'"]');n&&n.replaceWith(s)})}})}};t.fn.popup_search=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)},t(document).on("contentchange ready",function(){t.datajs("popup_search_overlay").popup_search({overlay:!0})})}(jQuery),function(t){var e={init:function(n){return this.each(function(){var i={uri:null,toggle_edit:!1,toggle_trigger:".editButton",on_submit:!1,validate:!1};n=t.extend(i,n),e.teardown(t(this),n);var r=t(this);n.validate&&(n.on_submit&&(n.validate.onSubmit=n.on_submit,n.validate.submitHandler=e.handle_form.bind(r,n)),r.validate(n.validate)),e.bind_each_element(r,n),n.toggle_edit&&e.bind_toggle(r,n)})},bind_each_element:function(t,n){var i=t.find("textarea, select, input");n.on_submit?n.validate&&n.validate.onSubmit||t.on("submit.editInPlace",e.handle_form.bind(t,n)):i.on("change.editInPlace",e.handle_form.bind(t,n))},bind_toggle:function(e,n){function i(){Messages.clear(),l.slideUp(300),s.show(),c.slideUp(300),o&&r.val(o)}var r,o,a,s=e.find(n.toggle_trigger),l=e.find("textarea, select, input"),c=e.find(".editorButtons");s.bind("click.editInPlace",function(n){n.preventDefault(),a=t(this).attr("for"),r=e.find('[name="'+a+'"]'),o=r.val(),r.show().focus(),s.hide(),c.slideDown(300).find("input").show()}),e.bind("edit_ajax_submit",function(i,r){if(r.html){var o=t(r.html[a]);e.replaceWith(o),o.editInPlace(n)}}),e.datajs("cancel_editor").bind("click.editInPlace",function(t){t.preventDefault(),i()}),e.bind("keyup.editInPlace",function(t){27==t.keyCode&&i()})},send_data:function(e,n){if(!n.valid())return!1;var i=n.serialize();t.ajax({url:e.uri,data:i,dataType:"json",cache:!1,success:function(t){n.trigger("edit_ajax_submit",[t])}})},teardown:function(t,e){t.unbind(".editInPlace"),t.find("textarea, select, input").unbind(".editInPlace"),e.trigger&&(t.find(e.toggle_trigger).unbind(".editInPlace"),t.datajs("cancel_editor").unbind(".editInPlace"),t.unbind(".editInPlace"))},handle_form:function(t,n){n.preventDefault(),t.uri||(t.uri=this.attr("action")),e.send_data(t,this)}};t.fn.editInPlace=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),function(t){t.fn.placeholder=function(){return void 0==document.createElement("input").placeholder?this.each(function(){t(this).val(t(this).attr("placeholder")).css("color","#999"),t(this).bind("focus",function(){t(this).val()==t(this).attr("placeholder")&&t(this).val("").removeAttr("style")}),t(this).bind("blur",function(){""==t(this).val()&&t(this).val(t(this).attr("placeholder")).css("color","#999")})}):void 0}}(jQuery),function(t){var e={init:function(n){return this.each(function(){var i={threshold:154,less_string:'<span class="less">'+less+' <i class="icon-up-dir"></i></span>',more_string:'<span class="more">'+more+' <i class="icon-down-dir"></i></span>',default_gradient_template:'<span class="overflow-gradient gradient"></span>',default_template:'<div class="bottom-edge-gradient expand clearfix"></div>'},r=t(this),o=r.height(),a=t.extend(i,n);o>a.threshold&&(r.css({"max-height":a.threshold+"px",overflow:"hidden",position:"relative"}),r.addClass("cp_overflow_toggle"),r.data("open-height",o),r.data("closed-height",a.threshold),r.data("open",!1),r.append(t(a.default_gradient_template)),r.after(t(a.default_template).html(a.more_string)),r.find("p").first().css("margin-top","0px"),r.next().bind("click",function(t){t.preventDefault(),r.data("open")?e.close(r,a):e.open(r,a)}))})},open:function(t,e){t.animate({"max-height":t.data("open-height")},{easing:"linear",duration:300,complete:function(){t.css("margin-bottom","5px"),t.data("open",!0),t.find(".overflow-gradient").fadeOut(),t.next().html(e.less_string),t.next().addClass("open")}})},close:function(t,e){t.animate({"max-height":t.data("closed-height")},{easing:"linear",duration:300,complete:function(){t.css("margin-bottom","0px"),t.data("open",!1),t.find(".overflow-gradient").fadeIn(),t.next().html(e.more_string),t.next().removeClass("open")}})}};t.fn.overflowToggle=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),function(t){var e=25,n={init:function(i,r){var o=t(this);if(0!==o.find(".third_party_recommendations").length)return o.show(),i=o.data("bib-id")||i||bib_id,t.each(THIRD_PARTY_RECOMMENDATIONS,function(a,s){var l,c;return l=o.find("#"+a+"_recommendations"),c=n.get_isbns(l,n.service_supports_frbr(a)&&r),s[n.service_isbn_param_name(a)]=c,"number"==typeof THIRD_PARTY_RECOMMENDATIONS.MAX_ISBNS_TO_EXTRACT&&(e=THIRD_PARTY_RECOMMENDATIONS.MAX_ISBNS_TO_EXTRACT),c&&l.length>0?n.get_recommendations_from_service(a,s).done(t.proxy(n.get_bibs_from_isbns,o,l,a,i,t.proxy(n.populate_bibs,o,l,a))).fail(function(){n.remove_service_div(o,l,a)}):void(l.length>0&&n.remove_service_div(o,l,a))})},remove_service_div:function(e,n,i){n.remove(),"novelist"===i&&t("#standalone_novelist_link").length&&(e.after(Handlebars.compile(t("#standalone_novelist_link").html())),t(document).trigger("contentchange.bc.modal")),0===e.find(".third_party_recommendations").length&&e.remove()},get_bibs_from_isbns:function(i,r,o,a,s){if(s.length>0){i.find(".preloader").show();var l=n.extract_isbns_from_recommendations(s,e,r),c={isbns:l,service:r,bib_id:o};t.cookie("invalidate_cache")?c.invalidate_cache="true":t.cookie("bypass_cache")&&(c.bypass_cache="true"),t.post("/item/bibs_from_isbns",c).always(a)}else n.remove_service_div(t(this),i,r)},get_recommendations_from_service:function(e,i){var r=n.get_service_url(e)+t.param(i);return"novelist"===e?send_json_request(r):crossDomainAjax(r)},populate_bibs:function(e,i,r){var o;e.find(".preloader").hide(),r.bibs&&r.bibs.length>0?(o=Handlebars.compile(t("#"+i+"_recommendations_template").html()),e.html(o({recommendations:r.bibs})),e.find("img").each(function(){validate_jacket_image(t(this))}),e.trigger("loaded.recommendations."+i,[e]),n.bind_toggle(e,i),n.bind_copyright_popover(e,i),"novelist"==i&&t("#standalone_novelist_link").remove()):n.remove_service_div(this,e,i)},get_isbns:function(e,n){var i;return i=e.data("isbns")||"",n&&n.isbns&&(i=t.unique(i.toString().split(",").concat(n.isbns)).sort(function(t,e){return parseInt(t)<parseInt(e)?1:-1}).slice(0,4).join(",")),i},get_service_url:function(t){switch(t){case"bookish":return"//api-basic.zo.la/recapi/api/v1/recommendations?";case"library_thing":return"//www.librarything.com/api/recommendations.php?";case"novelist":return"//novselect.ebscohost.com/api/similartitles?callback=?&"}},extract_isbns_from_recommendations:function(e,i,r){var o=Math.ceil(i/e.length),a=[];return t.each(e,function(t,e){a.push(n.service_isbn_list_field(e,r).slice(0,o))}),a},service_isbn_list_field:function(t,e){switch(e){case"bookish":return t.basic.isbn13s;case"library_thing":return t.basic.isbn13list;case"novelist":return t.isbns}},service_isbn_param_name:function(t){return"novelist"===t?"isbns":"isbn13s"},service_supports_frbr:function(t){return"library_thing"!==t},bind_toggle:function(e,n){var i=e.find(".recommendation").slice(2).addClass("extra");i.length>0?(e.addClass("expand"),e.find("a.expandBtn").off("."+n),e.find("a.expandBtn").on("click."+n,function(e){e.preventDefault();var r=t(this);r.data("tracked")||(ga("send","event","item","toggle-recommendations",n,parseInt(bib_id)),r.data("tracked",!0)),i.slideToggle();var o=r.html();r.html(r.data("other-text")),r.data("other-text",o),r.blur()})):e.find("a.expandBtn").hide()},bind_copyright_popover:function(t){t.find('[data-toggle="popover"]').popover()}};t.fn.recommendations=function(t,e){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t&&"object"!=typeof e?void 0:n.init.apply(this,arguments)}}(jQuery),function(t){var e=null;window.BCFocusManager={restrict_focus:function(n,i){if(i=i||{},!e&&document.activeElement&&(e=document.activeElement,t("a,input,select,textarea,button,[tabIndex]").each(function(){if(!n.has(this).length){var e=t(this),i=e.attr("tabIndex");void 0!==i&&e.attr("data-orig-tabindex",i),e.attr("tabIndex",-1).addClass("bc_focus_disabled")}})),i.focus_element){var r="function"==typeof i.focus_element?i.focus_element(n):n.find(i.focus_element);r.trigger("focus")}else{var o=n.find("h2");o.length||(o=n),o.attr("tabIndex",-1).trigger("focus")}},restore_focus:function(){t(".bc_focus_disabled").each(function(){var e=t(this),n=e.data("orig-tabindex");void 0!==n?e.attr("tabIndex",n):e.removeAttr("tabIndex"),e.removeAttr("data-orig-tabindex").removeClass("bc_focus_disabled")}),e&&(e.focus(),e=null)}}}(jQuery),function(t,e){"use strict";var n=t(e),i=[],r=function(e,n){return this.$trigger=t(e),this.$container=n.container?t(n.container):t.datajs("overlay-container"),this.options=n,this.$body=t("body"),this.overlay_id=parseInt(1e3*Math.random(),10),n.remote===!1&&n.content===!1&&(n.remote=this.$trigger.attr("href")),this.$container?(n.open_on_init?this.open():this.$trigger.on("click.overlay",this.open.bind(this)),this):void t.error("The overlay container must be set")};r.DEFAULTS={container:null,css_effect:"simplegenie",close_selector:".js-close-trigger",content_selector:".overlay-body",content:!1,remote:!1,close_on_back:!0,close_on_outer_click:!0,close_on_esc:!0,focus_element:!1,open_on_init:!1,open_callback:t.noop,close_callback:t.noop,before_close:function(){return!0}},r.TRANSITION_DURATION=400,r.ESC_KEY_CODE=27,t.extend(r.prototype,{open:function(t){return t&&t.preventDefault(),this.teardown(),this.$container.hasClass("open")||(this.$container.attr("class",""),this.$container.addClass(this.options.css_effect)),i.push(this),this.get_content(function(t){this.$container.find(this.options.content_selector).html(t).end().addClass("open"),this.$body.addClass("overlay-is-open"),e.Messages&&Messages.clear&&Messages.clear(),this.transition(function(){BCFocusManager.restrict_focus(this.$container,{focus_element:this.options.focus_element}),this.setup_close_selector(),this.setup_close_on_esc(),this.setup_close_on_back(),this.setup_close_on_outer_click(),this.options.open_callback.apply(this),this.$container.attr("aria-hidden","false").find(this.options.content_selector).attr("data-test-id","overlay-body-ready")}.bind(this))}.bind(this)),this},close:function(t,n){return t&&t.preventDefault(),this.options.before_close()?n&&i.length>1?(i.pop(),void this.open_next_overlay()):(i=[],this.$container.removeClass("open").attr("aria-hidden","true"),BCFocusManager.restore_focus(),e.location.hash==="#overlay"+this.overlay_id&&(e.location.hash=""),this.$body.removeClass("overlay-is-open"),this.transition(function(){this.teardown(),this.options.close_callback.apply(this)}.bind(this)),this):void 0},teardown:function(){return this.$container.off(".overlay"),n.off(".close.overlay"),this},transition:function(e){var n="instant"!==this.options.css_effect&&t.support.transition;return n?this.$container.one("bsTransitionEnd",e).emulateTransitionEnd(r.TRANSITION_DURATION):e(),this},get_content:function(e){if(this.options.remote){var n=this.close.bind(this);t.post(this.options.remote,{},function(t){return t.html?void e(t.html):n()},"json")}else this.options.content&&e("function"==typeof this.options.content?this.options.content():this.options.content)},setup_close_on_back:function(){o()&&this.options.close_on_back&&(e.history.pushState({type:"overlay"},"","#overlay"+this.overlay_id),n.one("popstate.close.overlay",function(){this.close(null,!0)}.bind(this)))},setup_close_on_esc:function(){this.options.close_on_esc&&n.on("keydown.close.overlay",function(t){t.keyCode===r.ESC_KEY_CODE&&this.close()}.bind(this))},setup_close_on_outer_click:function(){return this.options.close_on_outer_click&&this.$container.on("click.overlay",function(e){0===t(e.target).closest(this.options.content_selector).length&&this.close(e)}.bind(this)),this},setup_close_selector:function(){this.options.close_selector&&this.$container.on("click.overlay",this.options.close_selector,this.close.bind(this))},open_next_overlay:function(){var t=i.pop();t&&t.open()}});var o=function(){return!(!e.history||!history.pushState)},a=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var i=t(this),o=i.data("bc.overlay"),a=t.extend({},r.DEFAULTS,i.data(),"object"==typeof n&&n);o?a.open_on_init&&"object"==typeof e&&o.open():i.data("bc.overlay",o=new r(this,a)),"string"==typeof e&&o[e](n)})};t.fn.overlay=a,t.fn.overlay.Constructor=r,t(function(){t(document).on("contentchange ready",function(){t.datajs("cp-overlay").overlay()})})}(jQuery,this),function(t){t.bc_shelf_dropdown=function(){t("body").on("show.bs.dropdown",bc_datajs_selector("add_to_shelf_dropdown"),function(){var e=t(this),n=e.datajs("add_to_shelf_dropdown_menu"),i=n.outerWidth(),r=e.find("[data-toggle=dropdown]").outerWidth();if(n.find("li").width(Math.max(i,r)),e.parents(".listItem").length>0){var o=e.parents(".listItem");o.css("z-index",o.css("z-index")+1),e.one("hide.bs.dropdown",function(){o.css("z-index","")})}}),t("body").on("click","a[with_hook=shelf_dropdown]",function(e){e.preventDefault();var n=t(this),i=n.parents(".cp_shelf_dropdown"),r=n.parents(".shelf_actions");t.getJSON(n.attr("href"),{shelf_popdown:!0}).done(function(t){t.html&&r.fadeOut(300,function(){r.trigger("change.bc.shelf_dropdown",[t.deleted===!0]),i.replaceWith(t.html).fadeIn(300)})})})}}(jQuery),function(t){"use strict";var e=function(e){this.$container=t(e),this.setup_toggle(),this.$container.on("ajax:success",bc_datajs_selector("disable_single_click_holds"),this.update.bind(this))};e.DEFAULTS={},t.extend(e.prototype,{setup_toggle:function(){this.$container.datajs("single_click_holds_toggle").bc_inline_overlay({classes:"scp_overlay",inline_messaging:!0,send_forms:!0,forms_callback:this.update.bind(this,null),container:this.$container,open_callback:function(t){t.adjust_height()}})},update:function(t,e){e.toggle&&(this.$container.datajs("single_click_holds_toggle").bc_inline_overlay("close"),this.$container.html(e.toggle),this.setup_toggle())}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.single_click_holds"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.single_click_holds",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_single_click_holds=n,t.fn.cp_single_click_holds.Constructor=e,t(function(){t.datajs("single_click_holds").cp_single_click_holds()})}(jQuery,this),function(t){t.bc_ajax_tabs=function(){t('[data-toggle="bc_ajax_tab"]').on("click",function(){var e=t(this),n=e.data("url")||e.attr("href"),i=e.data("target"),r=e.data("refresh"),o=e.data("loaded");return o&&r!==!0||t.ajax({url:n,dataType:"json",show_spinner:!1,success:function(n){t(i).html(n.html),ReactRailsUJS.mountComponents(),e.data("loaded",!0),e.trigger("loaded.bc.ajax_tab")}}),e.tab("show"),!1})}}(jQuery),function(t){t.bc_init_coppa_notification=function(){t(".coppa_notification").length>0&&(t(".coppa_notification .close_btn").on("click",function(e){e.preventDefault(),t(".coppa_notification").hide()}),t(".js_trigger_coppa_workflow").on("click",function(e){e.preventDefault();var n=t(this).data("step-to-show"),i=t(this).data("step-to-hide");n&&t(".coppa_notification").find("#coppa_step_"+n).show(),i&&(t(".coppa_notification").find("#coppa_step_"+i).hide(),t(".coppa_notification").find("#coppa_step_"+i).removeClass("show"))}),t(".js_coppa_print").popupWindow(),t("#email_instructions_form").on("submit",function(e){e.preventDefault();var n=t(this);Messages.clear(),t.ajax({type:"post",url:n.attr("action"),data:n.serialize(),dataType:"json",beforeSend:function(){return n.valid()}}).done(function(e){e.success&&(t(".coppa_notification").find("#coppa_step_email_instructions").hide(),t(".coppa_notification").find("#coppa_step_email_instructions_done").show())})}))}}(jQuery),function(t){"use strict";var e=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$modal=t(n.container),this.is_shown=null,this.$backdrop=null,this.options.source_url||(this.options.source_url=this.$element.attr("href")),this.options.elementless||this.$element.on("click.trigger.bc.modal",t.proxy(this.show,this))};e.DEFAULTS={send_forms:!1,callback:!1,close_callback:!1,source_url:!1,marked_for_reload:!1,forms_callback:!1,backdrop:!0,elementless:!1,keyboard:!0,container:"#master_modal",title:"",max_height:"80%",aria_describedby:"modal_label",aria_labelledby:"modal_label",form_bound:!1,focus_element:!1},e.TRANSITION_DURATION=300,e.BACKDROP_TRANSITION_DURATION=150,t.extend(e.prototype,{show:function(e){e&&e.preventDefault();var e=t.Event("show.bc.modal",{container:this.$container});this.$element.trigger(e,[this]),this.is_shown||e.isDefaultPrevented()||(this.is_shown=!0,window.Messages&&Messages.clear&&Messages.clear(),this.escape(),this.setup_ada(),this.$modal.on("click.dismiss.bc.modal",".close, .closeButton, [data-js~=close_button]",t.proxy(this.hide,this)),this.options.content?this.add_content({html:this.options.content}):this.options.source_url&&t.getJSON(this.options.source_url).done(t.proxy(this.add_content,this)))},escape:function(){this.is_shown&&this.options.keyboard?this.$body.on("keydown.dismiss.bc.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.is_shown||this.$body.off("keydown.dismiss.bc.modal")},add_content:function(e){e.error||e.ignore_modal||(-1===e.html.indexOf("content-body")&&(e.html='<div class="content-body">'+e.html+"</div>"),this.$modal.find(".modal-content").html(e.html),this.$element.trigger("loaded.bc.modal"),this.backdrop(t.proxy(function(){var e=t.support.transition&&this.$modal.hasClass("fade");this.options.send_forms&&!this.options.form_bound&&(this.send_forms(),this.options.form_bound=!0),"function"==typeof this.options.callback&&this.options.callback.call(this),this.$modal.datajs("popup_search").popup_search({modal:this}),this.$modal.show().scrollTop(0),this.calculate_height(),t(window).on("resize.bc.modal",t.proxy(this.calculate_height,this)),e&&this.$modal[0].offsetWidth,this.$modal.addClass("in").attr("aria-hidden",!1),this.$body.addClass("modal-open"),navigator&&navigator.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i)&&this.$body.addClass("ios_seven"),BCFocusManager.restrict_focus(this.$modal,{focus_element:this.options.focus_element})},this)))},hide:function(n){n&&n.preventDefault(),n=t.Event("hide.bc.modal"),this.$element.trigger(n),this.is_shown=!1,this.escape(),this.$body.removeClass("modal-open"),this.$modal.removeClass("in").attr("aria-hidden",!0).off(".bc.modal.shown").off(".dismiss.bc.modal"),BCFocusManager.restore_focus(),t.support.transition&&this.$modal.hasClass("fade")?this.$modal.one("bsTransitionEnd",t.proxy(this.hide_modal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hide_modal(),this.options.marked_for_reload&&window.location.reload()},hide_modal:function(){var t=this;this.$modal.hide(),this.backdrop(function(){t.$element.trigger("hidden.bc.modal"),t.options.close_callback&&t.options.close_callback()})},toggle:function(){return this.is_shown?this.hide():this.show()},send_forms:function(){var e=this;this.$modal.on("submit.bc.modal.shown","form",function(n){n.preventDefault(),t.post(t(this).attr("action"),t(this).serialize(),function(t){t.close_popup&&e.hide(),e.options.forms_replace_content&&e.add_content(t),e.options.forms_callback&&e.options.forms_callback.call(this,t)},"json")})},calculate_height:function(){var t=function(t,n,i){var r=i||n.toString().indexOf("%")>0;if(r){var o=parseFloat(n)/100;e.css(t,"calc(100vh * "+o+" - 70px)")}else e.css(t,n)},e=this.$modal.find(".content-body");this.options.fixed_height?t("height",this.options.fixed_height):this.options.max_height&&t("max-height",this.options.max_height,-1===this.options.max_height.toString().indexOf("px"))},backdrop:function(n){var i=this,r=this.$modal.hasClass("fade")?"fade":"";if(this.is_shown&&this.options.backdrop){var o=t.support.transition&&r;this.$backdrop||(this.$backdrop=t('<div class="modal-backdrop '+r+'" />').appendTo(this.$body)),this.$modal.on("click.dismiss.bc.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$modal[0].focus.call(this.$modal[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),n&&(o?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):n())}else if(!this.is_shown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.remove_backdrop(),n&&n()};t.support.transition&&this.$modal.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},remove_backdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},get_focus_element:function(){return this.options.focus_element?this.$modal.datajs(this.options.focus_element):this.$modal},setup_ada:function(){null!==this.options.aria_labelledby&&this.$modal.attr("aria-labelledby",this.options.aria_labelledby),null!==this.options.aria_describedby&&this.$modal.attr("aria-describedby",this.options.aria_describedby)}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.modal"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.modal",o=new e(this,a)),"string"==typeof n&&o[n]()})},i=function(e,i){return this.each(function(){t(document).on("contentchange.bc.modal",function(){t.proxy(n,t(this).find(e))(i)}),t.proxy(n,t(this).find(e))(i)})},r=function(n,i){var r=t.extend({},e.DEFAULTS,i,{elementless:!0}),o=new e(document,r);o.$backdrop=0===t("div.modal-backdrop").length?null:t("div.modal-backdrop"),o[n]()};t.fn.modal=n,t.modal=r,t.fn.live_modal=i,t.fn.modal.Constructor=e,t(document).on("contentchange, ready",function(){t.datajs("hook_modal").modal()})}(jQuery),function(t,e){var n=function(i){i=i||{};var r=t(this),o=r.find("[data-toggle=tab], [data-toggle=bc_ajax_tab]").parent(),a=i.max_tabs||n.DEFAULTS.MAX_TABS,s=i.more_text||e.more,l="tab_group_"+Math.floor(1e3*Math.random());if(o.length>a){var c=t('<li><a data-toggle="tab" data-target="#'+l+'" href="javascript:void(0);" testid="ugcMoreTab">'+s+"</a></li>"),u=t('<div id="'+l+'" class="tab-pane"></div>'),h=null,d=[],p=o.slice(a).detach(),f=t('<ul class="nav nav-tabs link_bar"></ul>'),g=t('<div class="tab-content"></div>');t.each(p,function(){var e=t(t(this).find("> a").data("target"));null===h&&(h=e.parent(".tab-content")),d.push(e.detach())}),r.append(c),f.append(p),u.append(f),u.append(g),h.append(u),t.each(d,function(){g.append(this)}),c.on("click.bc.linkbar",function(){f.find("li > a").first().click(),c.off("click.bc.linkbar")})}};n.DEFAULTS={MAX_TABS:3},t.fn.bc_tab_link_bar=n}(jQuery,BCLang),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Share=t()}}(function(){function t(t){return""+t.selector+"{width:92px;height:20px;-webkit-touch-callout:none;-khtml-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"+t.selector+" [class*=entypo-]:before{font-family:entypo,sans-serif}"+t.selector+" label{font-size:16px;cursor:pointer;margin:0;padding:5px 10px;border-radius:5px;background:#a29baa;color:#333;-webkit-transition:all .3s ease;transition:all .3s ease}"+t.selector+" label:hover{opacity:.8}"+t.selector+" label span{text-transform:uppercase;font-size:.9em;font-family:Lato,sans-serif;font-weight:700;-webkit-font-smoothing:antialiased;padding-left:6px}"+t.selector+" .social{opacity:0;-webkit-transition:all .4s ease;transition:all .4s ease;margin-left:-15px;visibility:hidden}"+t.selector+" .social.top{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;margin-top:-80px}"+t.selector+" .social.bottom{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;margin-top:5px}"+t.selector+" .social.middle{margin-top:-34px}"+t.selector+" .social.middle.right{-webkit-transform-origin:5% 50%;-ms-transform-origin:5% 50%;transform-origin:5% 50%;margin-left:105px}"+t.selector+" .social.middle.left{-webkit-transform-origin:5% 50%;-ms-transform-origin:5% 50%;transform-origin:5% 50%}"+t.selector+" .social.right{margin-left:14px}"+t.selector+" .social.load{-webkit-transition:none!important;transition:none!important}"+t.selector+" .social.networks-1{width:60px}"+t.selector+" .social.networks-1.center,"+t.selector+" .social.networks-1.left{margin-left:14px}"+t.selector+" .social.networks-1.middle.left{margin-left:-70px}"+t.selector+" .social.networks-1 ul{width:60px}"+t.selector+" .social.networks-2{width:120px}"+t.selector+" .social.networks-2.center{margin-left:-13px}"+t.selector+" .social.networks-2.left{margin-left:-44px}"+t.selector+" .social.networks-2.middle.left{margin-left:-130px}"+t.selector+" .social.networks-2 ul{width:120px}"+t.selector+" .social.networks-3{width:180px}"+t.selector+" .social.networks-3.center{margin-left:-45px}"+t.selector+" .social.networks-3.left{margin-left:-102px}"+t.selector+" .social.networks-3.middle.left{margin-left:-190px}"+t.selector+" .social.networks-3 ul{width:180px}"+t.selector+" .social.networks-4{width:240px}"+t.selector+" .social.networks-4.center{margin-left:-75px}"+t.selector+" .social.networks-4.left{margin-left:162px}"+t.selector+" .social.networks-4.middle.left{margin-left:-250px}"+t.selector+" .social.networks-4 ul{width:240px}"+t.selector+" .social.networks-5{width:300px}"+t.selector+" .social.networks-5.center{margin-left:-105px}"+t.selector+" .social.networks-5.left{margin-left:-225px}"+t.selector+" .social.networks-5.middle.left{margin-left:-320px}"+t.selector+" .social.networks-5 ul{width:300px}"+t.selector+" .social.active{opacity:1;-webkit-transition:all .4s ease;transition:all .4s ease;visibility:visible}"+t.selector+" .social.active.top{-webkit-transform:scale(1) translateY(-10px);-ms-transform:scale(1) translateY(-10px);transform:scale(1) translateY(-10px)}"+t.selector+" .social.active.bottom{-webkit-transform:scale(1) translateY(15px);-ms-transform:scale(1) translateY(15px);transform:scale(1) translateY(15px)}"+t.selector+" .social.active.middle.right{-webkit-transform:scale(1) translateX(10px);-ms-transform:scale(1) translateX(10px);transform:scale(1) translateX(10px)}"+t.selector+" .social.active.middle.left{-webkit-transform:scale(1) translateX(-10px);-ms-transform:scale(1) translateX(-10px);transform:scale(1) translateX(-10px)}"+t.selector+" .social ul{position:relative;left:0;right:0;height:46px;color:#fff;margin:auto;padding:0;list-style:none}"+t.selector+" .social ul li{font-size:20px;cursor:pointer;width:60px;margin:0;padding:12px 0;text-align:center;float:left;display:none;height:22px;position:relative;z-index:2;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-transition:all .3s ease;transition:all .3s ease}"+t.selector+" .social ul li:hover{color:rgba(0,0,0,.5)}"+t.selector+" .social li[class*=facebook]{background:#3b5998;display:"+t.networks.facebook.display+"}"+t.selector+" .social li[class*=twitter]{background:#6cdfea;display:"+t.networks.twitter.display+"}"+t.selector+" .social li[class*=gplus]{background:#e34429;display:"+t.networks.google_plus.display+"}"+t.selector+" .social li[class*=pinterest]{background:#c5282f;display:"+t.networks.pinterest.display+"}"+t.selector+" .social li[class*=paper-plane]{background:#42c5b0;display:"+t.networks.email.display+"}"}var e;"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var t,e,n;return n=function(t){return function(n){var i,r;i=e.className.split(/\s+/),r=i.indexOf(n),t(i,r,n),e.className=i.join(" ")}},e=this,t={add:n(function(t,e,n){~e||t.push(n)}),remove:n(function(t,e){~e&&t.splice(e,1)}),toggle:n(function(t,e,n){~e?t.splice(e,1):t.push(n)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}},Object.defineProperty(t,"length",{get:function(){return e.className.split(/\s+/).length}}),t}}),String.prototype.to_rfc3986=function(){var t;return t=encodeURIComponent(this),t.replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},e=function(){function t(){}return t.prototype.extend=function(t,e,n){var i,r;for(r in e)i=void 0!==t[r],i&&"object"==typeof e[r]?this.extend(t[r],e[r],n):(n||!i)&&(t[r]=e[r])},t.prototype.hide=function(t){return t.style.display="none"},t.prototype.show=function(t){return t.style.display="block"},t.prototype.has_class=function(t,e){return t.classList.contains(e)},t.prototype.add_class=function(t,e){return t.classList.add(e)},t.prototype.remove_class=function(t,e){return t.classList.remove(e)},t.prototype.is_encoded=function(t){return t=t.to_rfc3986(),decodeURIComponent(t)!==t},t.prototype.encode=function(t){return"undefined"==typeof t||this.is_encoded(t)?t:t.to_rfc3986()},t.prototype.popup=function(t,e){var n,i,r,o;return null==e&&(e={}),i={width:500,height:350},i.top=screen.height/2-i.height/2,i.left=screen.width/2-i.width/2,r=function(){var t;t=[];for(n in e)o=e[n],t.push(""+n+"="+this.encode(o));return t}.call(this).join("&"),r&&(r="?"+r),window.open(t+r,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+i.left+",top="+i.top+",width="+i.width+",height="+i.height)},t}();var n,i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};return n=function(e){function n(t,e){var n;return this.element=t,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:(n=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?n.getAttribute("content"):(n=document.querySelector("title"))?n.innerText:void 0,image:(n=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?n.getAttribute("content"):void 0,description:(n=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?n.getAttribute("content"):"",ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null}}},this.setup(t,e),this
}return r(n,e),n.prototype.setup=function(t,e){var n,i,r,o,a;for(r=document.querySelectorAll(t),this.extend(this.config,e,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.ui.icon_font&&this.inject_icons(),this.config.ui.button_font&&this.inject_fonts(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),n=o=0,a=r.length;a>o;n=++o)i=r[n],this.setup_instance(t,n)},n.prototype.setup_instance=function(t,e){var n,i,r,o,a,s,l,c,u=this;for(i=document.querySelectorAll(t)[e],this.hide(i),this.add_class(i,"sharer-"+e),i=document.querySelectorAll(t)[e],this.inject_css(i),this.inject_html(i),this.show(i),r=i.getElementsByTagName("label")[0],n=i.getElementsByClassName("social")[0],a=i.getElementsByTagName("li"),this.add_class(n,"networks-"+this.config.enabled_networks),r.addEventListener("click",function(){return u.event_toggle(n)}),u=this,c=[],e=s=0,l=a.length;l>s;e=++s)o=a[e],c.push(o.addEventListener("click",function(){return u.event_network(i,this),u.event_close(n)}));return c},n.prototype.event_toggle=function(t){return this.has_class(t,"active")?this.event_close(t):this.event_open(t)},n.prototype.event_open=function(t){return this.has_class(t,"load")&&this.remove_class(t,"load"),this.add_class(t,"active")},n.prototype.event_close=function(t){return this.remove_class(t,"active")},n.prototype.event_network=function(t,e){var n;return n=e.getAttribute("data-network"),this.hook("before",n,t),this["network_"+n](),this.hook("after",n,t)},n.prototype.open=function(){return this["public"]("open")},n.prototype.close=function(){return this["public"]("close")},n.prototype.toggle=function(){return this["public"]("toggle")},n.prototype["public"]=function(t){var e,n,i,r,o,a,s;for(a=document.querySelectorAll(this.element),s=[],n=r=0,o=a.length;o>r;n=++r)i=a[n],e=i.getElementsByClassName("social")[0],s.push(this["event_"+t](e));return s},n.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},n.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})},n.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},n.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},n.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description})},n.prototype.inject_icons=function(){return this.inject_stylesheet("https://www.sharebutton.co/fonts/v2/entypo.min.css")},n.prototype.inject_fonts=function(){return this.inject_stylesheet("http://fonts.googleapis.com/css?family=Lato:900&text="+this.config.ui.button_text)},n.prototype.inject_stylesheet=function(t){var e;return this.el.head.querySelector('link[href="'+t+'"]')?void 0:(e=document.createElement("link"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),this.el.head.appendChild(e))},n.prototype.inject_css=function(e){var n,i,r,o;return r="."+e.getAttribute("class").split(" ").join("."),this.el.head.querySelector("meta[name='sharer"+r+"']")?void 0:(this.config.selector=r,n=t(this.config),o=document.createElement("style"),o.type="text/css",o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n)),this.el.head.appendChild(o),delete this.config.selector,i=document.createElement("meta"),i.setAttribute("name","sharer"+r),this.el.head.appendChild(i))},n.prototype.inject_html=function(t){return t.innerHTML="<label class='entypo-export'><span>"+this.config.ui.button_text+"</span></label><div class='social load "+this.config.ui.flyout+"'><ul><li class='entypo-pinterest' data-network='pinterest'></li><li class='entypo-twitter' data-network='twitter'></li><li class='entypo-facebook' data-network='facebook'></li><li class='entypo-gplus' data-network='google_plus'></li><li class='entypo-paper-plane' data-network='email'></li></ul></div>"},n.prototype.inject_facebook_sdk=function(){var t,e;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:(e=document.createElement("script"),e.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",t=document.createElement("div"),t.id="fb-root",this.el.body.appendChild(t),this.el.body.appendChild(e))},n.prototype.hook=function(t,e,n){var i,r;i=this.config.networks[e][t],"function"==typeof i&&(r=i.call(this.config.networks[e],n),void 0!==r&&(r=this.normalize_filter_config_updates(r),this.extend(this.config.networks[e],r,!0),this.normalize_network_configuration()))},n.prototype.set_global_configuration=function(){var t,e,n,i,r,o;r=this.config.networks,o=[];for(e in r){i=r[e];for(n in i)null==this.config.networks[e][n]&&(this.config.networks[e][n]=this.config[n]);this.config.networks[e].enabled?(t="block",this.config.enabled_networks+=1):t="none",o.push(this.config.networks[e].display=t)}return o},n.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"number"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},n.prototype.normalize_filter_config_updates=function(t){return this.config.networks.facebook.app_id!==t.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete t.app_id),this.config.networks.facebook.load_sdk!==t.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete t.app_id),t},n}(e)});var BCShareButton=function(t,e){function n(){e.apply(this,arguments)}function i(){if(t.browser.msie){var e=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet.cssText=".share_button [class*=icon-]:before, .share_button [class*=icon-]:after{content:none !important",e.appendChild(n),setTimeout(function(){e.removeChild(n)},10)}}function r(){return t('meta[name="bc:email-text"]').attr("content")}function o(){var e={gmail:{"class":"gmail icon-gmail",title:"GMail"},yahoo:{"class":"yahoo icon-yahoo",title:"Yahoo! Mail"},mailto:{"class":"mailto icon-mail",title:"Native Email Client"}},n=0,i=t("<ul>");return t.each(e,function(e,r){n++,t("<li>",t.extend(r,{"data-network":e})).appendTo(i)}),t("<div>",{"class":"social networks-"+n+" email_share"}).append(i)}function a(t,e,n){var i={gmail:"https://mail.google.com/mail/u/0/?view=cm&su=|subject|&to&body=|body|&pli=1&fs=1&tf=1",yahoo:"http://compose.mail.yahoo.com/?&Subject=|subject|&To=&Body=|body|",mailto:"mailto:?subject=|subject|&body=|body|"};return i[n].replace("|subject|",encodeURIComponent(t)).replace("|body|",encodeURIComponent(e))}function s(){return t('meta[name="twitter:via"]').attr("content")}n.prototype=Object.create(e.prototype),n.DEFAULTS={ui:{button_text:"",flyout:"middle right",icon_font:!1,button_font:!1},networks:{linkedin:{enabled:!0,url:null,description:null,title:null},tumblr:{enabled:!0,url:null,description:null,title:null},email:{enabled:!0,url:null,description:null,title:null}},container:".share_button"};var l=!t.browser.msie,c=1;return t.extend(n.prototype,{network_tumblr:function(){var t=this.config.networks.tumblr;this.popup("http://www.tumblr.com/share/link",{url:encodeURIComponent(t.url),title:t.title,description:t.description})},network_linkedin:function(){var t=this.config.networks.linkedin;this.popup("http://www.linkedin.com/shareArticle",{mini:"true",url:t.url,title:t.title,summary:t.description,source:baseURL()})},network_email:function(e){var n=t(e).closest(".share_button"),i=n.find(".email_share"),s=this.config.networks.email,l=this;0===i.length&&(n.append(o()),i=n.find(".email_share"),i.addClass(this.config.ui.flyout),i.find("li").on("click",function(){var e=t(this),n=e.data("network"),o=r()+"\r\n"+s.description+"\r\n"+s.url;i.removeClass("active"),l.track(n,"click",s.url),window.dont_spin=!0,window.location.href=a(s.title,o,n)})),i.addClass("active")},network_twitter:function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url,via:encodeURIComponent(s())})},network_facebook:function(){function t(t){t&&!t.error_code&&e.track("facebook","share",n.link)}var e=this,n={method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description};return window.FB&&window.fbAsyncInit&&this.config.networks.facebook.image?void FB.ui(n,t):this.config.networks.facebook.load_sdk?window.FB?FB.ui(n,t):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},hide_disabled_networks:function(){var e=this;t.each(this.config.networks,function(n){e.config.socialNetworks&&(this.enabled=-1!==t.inArray(n,e.config.socialNetworks)),this.enabled||t(e.config.container).find("[data-network="+n+"]").hide()})},event_toggle:function(e){var n=(t(e),t(".email_share"));return n.hasClass("active")?void n.removeClass("active"):void(this.has_class(e,"active")?this.event_close(e):(this.event_open(e),l||(l=!0,i())))},normalize_network_configuration:function(){e.prototype.normalize_network_configuration.apply(this,arguments);var t=this.config.networks.pinterest.image;t&&(this.config.networks.pinterest.image=encodeURIComponent(t))},inject_css:function(){return!1},inject_fonts:function(){return!1},has_class:function(e,n){return t(e).hasClass(n)},add_class:function(e,n){return t(e).addClass(n)},remove_class:function(e,n){return t(e).removeClass(n)},setup_instance:function(e,n){var r,o,a,s,l,c,u,h,d=this;for(o=document.querySelectorAll(e)[n],this.hide(o),this.add_class(o,"sharer-"+n),o=document.querySelectorAll(e)[n],this.inject_html(o),this.show(o),a=o.getElementsByTagName("label")[0],r=t(o).find(".social")[0],l=o.getElementsByTagName("li"),this.add_class(r,"networks-"+this.config.enabled_networks),this.config.isActive&&this.add_class(r,"active"),t(a).on("click",function(){return d.event_toggle(r)}),d=this,h=[],n=c=0,u=l.length;u>c;n=++c)s=l[n],h.push(t(s).on("click",function(){return d.event_network(o,this),d.event_close(r)}));return i(),this.hide_disabled_networks(),h},inject_html:function(t){t.innerHTML="<label><i class='icon-export' aria-hidden='true'></i><span class='button_text'>"+this.config.ui.button_text+"</span></label><div class='social load "+this.config.ui.flyout+"'><ul><li class='icon-pinterest' data-network='pinterest'></li><li class='icon-twitter' data-network='twitter'></li><li class='icon-linkedin' data-network='linkedin'></li><li class='icon-facebook' data-network='facebook'></li><li class='icon-gplus' data-network='google_plus'></li><li class='icon-tumblr' data-network='tumblr'></li><li class='icon-paper-plane' data-network='email'></li></ul></div>"},event_network:function(t,e){var n=e.getAttribute("data-network");this.hook("before",n,t),this["network_"+n](e),this.hook("after",n,t),"email"!==n&&this.track(n,"click",this.config.networks[n].url)},track:function(t,e,n){var i={nonInteraction:1};BCGoogleAnalytics.sendAll("social",t,e,n,i)}}),n.init=function(){t(n.DEFAULTS.container).each(function(){var e=t(this);if(!e.data("share-button")){var i=c++;e.attr("data-js","share-button-"+i);var r=t.extend(!0,{},n.DEFAULTS,e.data()),o=new n(bc_datajs_selector("share-button-"+i),r);e.data("share-button",o)}})},n}(jQuery,Share);!function(t){t.bc_init_teacherset_results=function(){t.datajs("teacher_set_result_toggle").length>0&&t.datajs("teacher_set_result_toggle").on("click",function(e){e.preventDefault();var n=t(this);t.datajs("teacher_sets_content_"+n.attr("id")).toggle(),n.datajs("right-open").toggle(),n.datajs("down-open").toggle()})}}(jQuery),function(t,e,n,i){function r(e,n){this.element=t(e);if(this.options=t.extend({},o,n),this._defaults=o,this.options.action=this.element.data("url"),this.edit_type=this.element.data("type"),this.element.data("max-character-count")&&(this.options.max_character_count=parseInt(this.element.data("max-character-count"))),this.element.attr("data-edit-text")!==i||null!==this.options.edit_text){var r=this.element.data("edit-text");null!==r&&(this.options.edit_text=r),this.has_edit_text=!0}this.element.data("edit-title")&&(this.options.edit_title=this.element.data("edit-title")),this.element.data("target")||this.options.target||(this.options.target=this.element),this.appendEditForm(),this.bindEvents(),a++}var o={target:null,trigger:null,exceeded_class:"exceeded",max_character_count:0,complete_callback:null,editor_open:function(){},editor_close:function(){},submit_handler:null,error_callback:null,method:"POST",edit_text:null,data:{},allow_spaces:!0,placeholder:"",edit_title:null,validation:null,accept_charset:"UTF-8",editor_open:function(){},editor_close:function(){}},a=0;r.prototype={$edit_form:null,$edit_button:null,$edit_element:null,edit_type:null,bindEvents:function(){var e=this;this.$edit_button.on("click",function(t){t.preventDefault(),e.showEditor()}),this.$submit_button.on("click",function(e){t(this).hasClass("disabled")&&e.preventDefault()}),this.$cancel_button.on("click",function(t){t.preventDefault(),e.hideEditor(),e.clearEditor()}),this.options.max_character_count&&this.initializeWordCount(),this.initializeValidate()},showEditor:function(){var t;t=this.has_edit_text?this.options.edit_text:this.options.target.text(),this.$edit_button.hide(),this.$edit_form.find(".bc_edit_in_place_edit_element").val(t),this.options.target.addClass("bc_edit_in_place_hidden"),this.$edit_form.removeClass("bc_edit_in_place_hidden"),this.options.max_character_count&&this.countCharacters(this.$edit_element),this.options.editor_open(this)},hideEditor:function(){this.clearEditor(),this.$edit_button.show(),this.options.target.removeClass("bc_edit_in_place_hidden"),this.$edit_form.addClass("bc_edit_in_place_hidden"),this.options.editor_close(this)},clearEditor:function(){this.$edit_element.val(""),this.validator.resetForm(),this.$edit_element.removeClass("error")},submit:function(){var e=this,n=this.$edit_form.attr("action"),i=this.$edit_element.val(),r=this.options.data;return r.value=i,this.options.edit_text=i,t.ajax({type:this.options.method,url:n,data:r,dataType:"json"}).fail(function(t){e.options.error_callback&&e.options.error_callback(t,e)}).done(function(n){if(!n.success&&e.options.error_callback){var i=n.messages?n.messages[0].key:"",r=t("<label></label>",{"for":e.name,id:e.name+"-error","class":"error",text:i});e.$edit_element.addClass("error"),e.$edit_element.after(r),e.options.error_callback(n,e)}else e.options.submit_handler?e.options.submit_handler(n,e):e.handleServerResponse(n)}),!1},handleServerResponse:function(t){var e,n=!1;"string"==typeof t?(e=t,this.hideEditor()):t.success?e=t.text:n=!0,n||(this.has_edit_text&&(this.options.edit_text=e),this.options.target.html(e),this.hideEditor()),this.options.complete_callback&&this.options.complete_callback.call()},initializeWordCount:function(){var e,n,i=this;n=this.has_edit_text?this.options.edit_text?this.options.edit_text.length:0:this.options.target.text().length,e=parseInt(this.options.max_character_count-n),this.$character_count.text(e),this.wordCountStyle(e),this.$edit_element.on("keydown",function(){i.countCharacters(t(this))}),this.$edit_element.on("keyup",function(){i.countCharacters(t(this))})},countCharacters:function(t){var e=parseInt(t.val().length),n=this.options.max_character_count-e;this.$character_count.text(n),this.wordCountStyle(n)},wordCountStyle:function(t){0>t?(this.$character_count.addClass(this.options.exceeded_class),this.$submit_button.addClass("disabled")):(this.$character_count.removeClass(this.options.exceeded_class),this.$submit_button.removeClass("disabled"))},initializeValidate:function(){var e=this,n={submitHandler:function(t){e.submit(t)},rules:{}};n.rules[this.name]={},this.options.validation&&(n.rules[this.name]=t.extend({},n.rules[this.name],this.options.validation)),"url"===this.edit_type&&(n.rules[this.name].url=!0),"twitter"===this.edit_type&&(n.rules[this.name].twitterhandle=!0),this.validator=this.$edit_form.validate(n)},appendEditForm:function(){var e,n,i=t("<div></div>",{"class":"clearfix"});this.$edit_form=t("<form></form>",{"class":"bc_edit_in_place_form bc_edit_in_place_hidden",action:this.options.action,method:this.options.method,"accept-charset":this.options.accept_charset}),this.$submit_button=t("<input>",{type:"submit","class":"bc_edit_in_place_submit btn btn-sm btn-primary",value:BCLang.buttons.save,text:BCLang.buttons.save}),this.$cancel_button=t("<button></button>",{"class":"bc_edit_in_place_cancel btn btn-sm btn-secondary",type:"submit",text:BCLang.buttons.cancel}),this.$error_label=t("<label></label>",{"class":"error",generated:"true","for":"edit_field_"+a}),n=t("<div></div>",{"class":"bc_edit_in_place_form_controls"}),n.append(this.$error_label),n.append(this.$submit_button),n.append(this.$cancel_button),this.$edit_button=this.options.trigger?this.options.trigger:t("<span>",{"class":"bc_edit_in_place_edit_btn","data-js":"bc_edit_in_place_edit_btn",html:'<i class="icon-edit"></i>'}),this.options.max_character_count>0&&(this.$character_count=t("<span>",{"class":"bc_edit_in_place_character_count small",text:this.options.max_character_count})),this.name="edit_field_"+a,"textarea"===this.edit_type?this.$edit_element=t("<textarea>",{"class":"bc_edit_in_place_edit_element",name:this.name,placeholder:this.options.placeholder}):("input"===this.edit_type||"url"===this.edit_type||"twitter"===this.edit_type)&&(this.$edit_element=t("<input>",{type:"text",name:this.name,"class":"bc_edit_in_place_edit_element"}),this.$edit_element.attr("placeholder",this.options.placeholder),"url"===this.edit_type&&(this.options.allow_spaces=!1)),this.options.edit_title&&(e=t("<span>",{text:this.options.edit_title,"class":"bc_edit_in_place_edit_title"}),this.$edit_form.append(e)),this.options.max_character_count>0&&this.$edit_form.append(this.$character_count),this.$edit_form.append(i),this.$edit_form.append(this.$edit_element),this.$edit_form.append(n),this.options.target.after(this.$edit_form),this.options.trigger||this.options.target.after(this.$edit_button)}},t.fn.bc_edit_in_place=function(e){return this.each(function(){t.data(this,"plugin_bc_edit_in_place")||t.data(this,"plugin_bc_edit_in_place",new r(this,e))})}}(jQuery,window,document),function(t){"use strict";var e={init:function(n){return this.each(function(){var i=t(this),r={content_id:i.data("content-id"),user_id:i.data("user-id"),controller:"",java_content_class:i.data("java-content-class"),flag_options:{spoiler_show_option:i.data("flag-spoiler"),offensive_show_option:i.data("flag-offensive"),violates_appropriate_use_show_option:i.data("flag-violation")},offset:0},o=t.extend(r,n),a=Handlebars.compile(t("#discussion_flag_tpl").html()),s=a(o);t(this).data("bc.overlay")&&(t(this).data("bc.overlay").options.content=s),t(this).overlay({content:s,open_on_init:!0}),window.location!==window.parent.location&&parent.postMessage({action:"resize",height:t(document).height()},"*"),e.show_form(),e.submit_form(i),t(".types a").last().focusout(function(){t.datajs("close_button").focus()})})},show_form:function(){t(".flagging").find(".flag_selection").datajs("type_form_trigger").on("click",function(e){e.preventDefault();var n=t("#flag_form_"+t(this).data("type"));n.is(":visible")?n.hide():(t(".flag_form").hide(),n.toggle()),n.validate({errorPlacement:function(t,e){"accept"==e.attr("name")?t.appendTo(e.parent("label")):t.insertAfter(e)}})})},submit_form:function(n){var i=t(n);t(".flag_form").on("submit",function(r){r.preventDefault();var o=t(this),a=t(o).datajs("flag_type").val();o.valid()&&t.ajax({dataType:"json",url:o.attr("action"),data:o.serialize(),type:"POST",success:function(t){if(t.success){var r="VIOLATES_APPROPRIATE_USE"===a?"violation":a.toLowerCase();n.attr("data-flag-"+r,"false"),n.data("flag-"+r,!1),t.redirect||e.close_overlay(i),t.flag_link_replacement.length>0&&n.replaceWith(t.flag_link_replacement)}},error:function(){e.close_overlay(i)}})})},teardown:function(){t(".flagging").off(),t(".flag_form").off(),t(this).off()},close_overlay:function(e){e.overlay("close"),window.location!==window.parent.location&&parent.postMessage({action:"resize",height:t("body").height()},"*")}};t.fn.flagging=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)}}(jQuery),function(t){"use strict";var e={init:function(){e.flag_types=["spoiler","offensive"],e.show_more_info(),e.change_spoiler_visibility(),e.change_offensive_visibility(),e.save_user_settings(),e.hide_reported_content(),e.show_reported_content(),e.init_content_info_overlays()},show_more_info:function(){t(document).on("click",bc_datajs_selector("flag_info_trigger"),function(e){e.preventDefault(),t.datajs("flag_info_trigger").toggle(),t.datajs("ugc_content_info").toggle(),window.location!==window.parent.location&&parent.postMessage({action:"resize",height:t(document).height()},"*")})},change_spoiler_visibility:function(){t(document).on("click",bc_datajs_selector("ugc_flag_change_spoiler"),function(n){n.preventDefault(),t.ajax({url:"/ugc_flag_preference/update",data:{flag_type:"spoiler"},dataType:"json",success:e.render_flag_type_visibility})})},change_offensive_visibility:function(){t(document).on("click",bc_datajs_selector("ugc_flag_change_offensive"),function(n){n.preventDefault(),t.ajax({url:"/ugc_flag_preference/update",data:{flag_type:"offensive"},dataType:"json",success:e.render_flag_type_visibility})})},save_user_settings:function(){t(document).on("click",bc_datajs_selector("ugc_flag_save_settings"),function(){var n=t(this);t.ajax({url:t.datajs("ugc_save_settings").attr("action"),data:t.datajs("ugc_save_settings").serialize(),dataType:"json",success:function(i){i.logged_in&&i.success&&(n.prop("checked",!1),t.each(i.pref_list,function(t,n){e.render_flag_type_visibility(n)}))}})})},render_flag_type_visibility:function(n){t.datajs("ugc_content_status_"+n.flag_type).html(n.status_string),t.datajs("ugc_flag_change_"+n.flag_type).html(n.button_string),t.datajs("ugc_save_settings").find("[name=ugc_hidden_"+n.flag_type+"]").val(n.visible);var i=t.datajs("ugc_"+n.flag_type);t.each(i,function(i,r){var o=t(r).closest(bc_datajs_selector("ugc_container"));n.visible?(o.datajs("ugc_flagged_message_"+n.flag_type).hide(),e.is_hidden_by_other_type(o,n.flag_type)||(t(r).show(),o.datajs("ugc_flagged_show").hide(),t(o).datajs("ugc_flagged_hide").show())):(t(r).hide(),o.datajs("ugc_flagged_hide").hide(),o.datajs("ugc_flagged_show").show(),o.datajs("ugc_flagged_message_"+n.flag_type).show())})},hide_reported_content:function(){t(document).on("click",bc_datajs_selector("a","ugc_flagged_hide"),function(e){e.preventDefault();var n=t(this).closest(bc_datajs_selector("ugc_container"));n.datajs("ugc_spoiler").hide(),n.datajs("ugc_offensive").hide(),t(this).hide(),n.datajs("ugc_flagged_show").show(),n.datajs("spoiler_warning").length>0&&n.datajs("ugc_flagged_message_spoiler").show(),n.datajs("offensive_warning").length>0&&n.datajs("ugc_flagged_message_offensive").show()})},show_reported_content:function(){t(document).on("click",bc_datajs_selector("a","ugc_flagged_show"),function(e){e.preventDefault();var n=t(this).closest(bc_datajs_selector("ugc_container"));n.datajs("ugc_spoiler").show(),n.datajs("ugc_offensive").show(),t(this).hide(),n.datajs("ugc_flagged_hide").show(),n.datajs("ugc_flagged_message_spoiler").hide(),n.datajs("ugc_flagged_message_offensive").hide()})},init_content_info_overlays:function(){var e=["spoiler","offensive"];t.each(e,function(e,n){t(document).on("click",bc_datajs_selector(n+"_warning"),function(e){e.preventDefault();var i=Handlebars.compile(t("#ugc_flagged_content_"+n+"_info").html()),r=i();t(this).overlay({content:r}).overlay("open")})})},is_hidden_by_other_type:function(n,i){var r=t(e.flag_types).not([i]),o=!1;return t(r).each(function(e,i){t(n).datajs(i+"_warning").length>0&&"false"==t.datajs("ugc_save_settings").find("[name=ugc_hidden_"+i+"]").val()&&(o=!0)}),o}};t.bc_init_flagged_ugc_display=function(){e.init()},t.bc_flagged_ugc_display=function(t,n){e[t](n)}}(jQuery),function(t){"use strict";var e=function(e,n){this.$trigger=t(e),this.$container=n.container||this.$trigger.parents(".listItem"),this.options=n;var i=this.options.append_to_body?t("body"):this.$container;return this.$element=t("<div>",{"class":"cp_inline_overlay "+this.options.classes}).appendTo(i),this.$element.data("inline-overlay-trigger",e),this.opened=!1,this.marked_for_reload=!1,this.setup_animations().setup_ada(),n.open_on_init?this.open():this.$trigger.on("click",t.proxy(this.open,this)),this};e.DEFAULTS={source_url:null,content:null,container:null,animation:"fade",send_forms:!1,forms_replace_content:!1,before_open_callback:!1,open_callback:!1,close_callback:!1,forms_callback:!1,aria_describedby:"modal_label",aria_labelledby:"modal_label",open_on_init:!1,append_to_body:!1,classes:"",show_spinner:!0,inline_messaging:!1},e.TRANSITION_DURATION=400,e.CLOSE_AFTER_MESSAGING_DURATION=3e3,t.extend(e.prototype,{open:function(e){if(e&&e.preventDefault(),e=t.Event("show.bc.inline_overlay"),this.$trigger.trigger(e,[this.$trigger,this.$container,this.$element,self]),e.isDefaultPrevented())return this;if(this.options.before_open_callback&&this.options.before_open_callback(this)===!1)return this;this.opened=!0;var n=this.options.content;if(null!==n)this.add_content({html:"function"==typeof n?n.apply(this):n});else{var i=this.options.source_url||this.$trigger.data("source-url")||this.$trigger.attr("href");t.ajax({url:i,dataType:"json",show_spinner:this.options.show_spinner}).done(t.proxy(this.add_content,this))}return this},close:function(n){n&&n.preventDefault();var i=t.Event("hide.bc.inline_overlay");return this.options.close_callback&&this.options.close_callback(this)===!1?this:(this.$trigger.trigger(i,[this.$trigger,this.$container,this.$element,self]),i.isDefaultPrevented()?this:(this.opened=!1,this.$element.removeClass("active").attr("aria-hidden","true").removeAttr("data-test-id").off(".bc.inline_overlay"),this.$container.attr("style","").removeClass("inline_overlay_open"),this.options.open_on_init&&this.destroy(),this.marked_for_reload&&window.location.reload(),e.resizeInlineOverlays(),this))},send_forms:function(){var n=this;return this.$element.on("submit.bc.inline_overlay","form",function(i){i.preventDefault(),t.ajax({url:t(this).attr("action"),data:t(this).serialize(),dataType:"json",type:n.options.formSubmitMethod||"GET",inline_messaging:n.options.inline_messaging,success:function(t){n.options.inline_messaging&&n.$element.datajs("messaging").html(t.messages),t.close_popup&&(!n.options.inline_messaging||n.options.forms_replace_content&&t.html?n.close():(n.$element.find("a, button").not(bc_datajs_selector("close_button")).attr("disabled","disabled"),setTimeout(n.close.bind(n),e.CLOSE_AFTER_MESSAGING_DURATION))),!t.marked_for_reload||n.options.inline_messaging&&!t.success||(n.marked_for_reload=!0),n.options.forms_replace_content&&n.add_content(t),n.options.forms_callback&&n.options.forms_callback.call(n,t),n.adjust_height()}})}),this},setup_animations:function(){return this.options.animation&&t.support.transition?this.$element.addClass("animate").addClass(this.options.animation):this.$element.addClass("no_animate"),this},add_content:function(n){var i=this;if(!(n.error||n.ignore_modal||n.ignore_overlay)){if(n.html){this.$trigger.trigger("content_loaded.bc.inline_overlay",[i.$trigger,i.$container,i.$element,i]),this.$element.html(n.html),this.options.send_forms&&this.send_forms();var r=function(){var n=t.Event("shown.bc.inline_overlay");i.$element.trigger("focus"),i.$trigger.trigger(n,[i.$trigger,i.$container,i.$element,i]),i.adjust_height();var r=i.options.open_callback||i.options.callback;r&&r(i),e.resizeInlineOverlays()};this.$container.css("position","relative").addClass("inline_overlay_open"),this.adjust_height(),t(window).on("resize",t.proxy(this.adjust_height,this)),this.$element.addClass("active").attr("aria-hidden",!1).attr("data-test-id","inline-overlay-container-active"),t.support.transition&&this.options.animation?this.$element.one("bsTransitionEnd",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),this.$element.on("click.bc.inline_overlay",bc_datajs_selector("close_button"),t.proxy(this.close,this))}return this}},is_open:function(){return this.opened},setup_ada:function(){return null!==this.options.aria_labelledby&&this.$element.attr("aria-labelledby",this.options.aria_labelledby),null!==this.options.aria_describedby&&this.$element.attr("aria-describedby",this.options.aria_describedby),this},adjust_height:function(){return this.is_open()?(this.$element.add(this.$container).css("height","").css("width",""),this.options.append_to_body&&(this.$element.width(this.$container.innerWidth()),t.each(this.$container.offset(),function(t,e){this.$element.css(t,e)}.bind(this))),this.$element.outerHeight()>this.$container.outerHeight()?this.$container.css("height",this.$element.outerHeight()):this.$element.height(this.$container.innerHeight()),this):void 0},should_resize_automatically:function(){return this.is_open()&&this.options.append_to_body},destroy:function(){this.$element.remove(),this.$trigger.data("bc.inline_overlay",null)}}),e.resizeInlineOverlays=function(){t(".cp_inline_overlay").each(function(){var e=t(this).data("inlineOverlayTrigger"),n=t(e).data("bc.inline_overlay");n&&n.should_resize_automatically()&&setTimeout(function(){n.adjust_height()},0)})};var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.inline_overlay"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.inline_overlay",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.bc_inline_overlay=n,t.fn.bc_inline_overlay.Constructor=e,t(document).on("ready.bc.data-api contentchange.bc.data-api",function(){t.datajs("inline_overlay").bc_inline_overlay()})}(jQuery),function(t,e,n){"use strict";var i=function(e){this.$element=t(e),this.$dropdown_trigger=this.$element.find("[data-toggle=dropdown]"),this.$filter_links=this.$element.datajs("filter-option"),this.$dropdown_trigger.on("click.bc.dropdown_filter",t.proxy(this.overlay_hook,this)),this.$filter_links.on("click.bc.dropdown_filter",t.proxy(this.dropdown_hook,this))};t("#dropdown_filter_template").length&&(i.TEMPLATE=e.compile(t("#dropdown_filter_template").html())),t.extend(i.prototype,{update:function(e){var n=t.deparam(t.param(e));window.location.href=t.param.querystring(window.location.href,n)},open_overlay:function(e){if("function"!=typeof i.TEMPLATE)return void console.error("BCDropdownFilter.TEMPLATE must be a compiled Handlebars template");var n=this.$element.datajs("overlay-title").html(),r=this,o=t(e.target);o.overlay({open_on_init:!0,close_on_outer_click:!1,css_effect:"instant",content:i.TEMPLATE({title:n,options:r.filter_options()}),open_callback:function(){var e=t("#overlay").datajs("overlay-title").find("span").text();t("#overlay").datajs("overlay-title").find(".hidden-xs").removeClass("hidden-xs").text(e.trim()),t("#overlay").datajs("filter-option").on("click",function(e){e.preventDefault(),r.update(t(this).data("filter-attribute"))})}})},filter_options:function(){return this.$filter_links.map(function(){var e=t.extend({},t(this).data());
return e.filterAttribute=JSON.stringify(e.filterAttribute),e}).get()},overlay_hook:function(t){return n.matchAny("xs","sm")?(t.preventDefault(),this.open_overlay(t),!1):void 0},dropdown_hook:function(e){e.preventDefault();var n=t(e.target);return n.data("active")?!0:(this.update(n.data("filter-attribute")),void this.$element.datajs("selected").html(n.data("filter-label")))}});var r=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var n=t(this),r=n.data("bc.dropdown_filter");r||n.data("bc.dropdown_filter",r=new i(this)),"string"==typeof e&&r[e]()})};t.fn.bc_dropdown_filter=r,t.fn.bc_dropdown_filter.Constructor=i,t(document).on("ready contentchange",function(){t.datajs("dropdown-filter").bc_dropdown_filter()})}(jQuery,Handlebars,BCViewport),function(t,e){"use strict";var n=[],i=!1,r=function(e,n){this.$element=t(e),this.options=n,this.get_sections().filter(function(e,n){return t(n).data("section")!==this.options.activeSection}.bind(this)).each(function(e,n){this.load_borrowing(t(n).data("section"))}.bind(this)),this.sticky_active_section(),this.init_lib_toggle()};r.DEFAULTS={},r.REPLACE_ANIMATION_SPEED=200,t.extend(r.prototype,{init_lib_toggle:function(){this.$element.datajs("lib-toggle").on("click",function(t){t.preventDefault(),this.$element.datajs("lib-toggle-container").addClass("toggle_open")}.bind(this))},load_borrowing:function(t){var n=e.BC_MD5_USER,i="borrowing_info";t&&(i+="_"+t);var r=BCLocalCache.get({key:i,secret:n});return r.done(this.replace_templates.bind(this,!0)).always(this.retrieve_fresh_data.bind(this,t,i,n)),this},retrieve_fresh_data:function(e,r,o){var a=function(){return t.ajax({url:"/user_stats/borrowing",data:{section:e},show_spinner:!1,dataType:"json"}).done(function(t){BCLocalCache.set({key:r,secret:o,value:t})}).done(this.replace_templates.bind(this,!1)).done(function(){n.length>0&&(n.forEach(function(t){t()}),n=[])})}.bind(this);return i===!1?(i=!0,a()):n.push(a),this},replace_templates:function(e,n){this.get_sections(n.section).each(function(){var i=t(this),o=t("#"+i.data("template"));if(o.length){var a=t.extend(n,{stale:e}),s=Handlebars.compile(o.html()),l=s(a);if(l.trim().length>0){var c=t(l).hide().toggleClass("stale_state",e).data("template",i.data("template"));i.fadeOut(r.REPLACE_ANIMATION_SPEED,function(){i.replaceWith(c),c.fadeIn(r.REPLACE_ANIMATION_SPEED)})}else i.empty().attr("class","")}})},sticky_active_section:function(){var t=this.$element.data("active-section"),e=this.$element.datajs("borrowing-widget-section").filter("[data-section="+t+"]");e.length>0&&e.cp_position_sticky({top_spacing:function(){var t=this.$element.offset().top+this.$element.outerHeight(),n=e.offset().top;return n-t}.bind(this),disabled_viewports:["xs","sm","md"]})},get_sections:function(e){return this.$element.find("[data-section]").filter(function(){return!e||t(this).data("section")===e})}});var o=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var i=t(this),o=i.data("bc.borrowing_widget"),a=t.extend({},r.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bc.borrowing_widget",o=new r(this,a)),"string"==typeof e&&o[e](n)})};t.fn.cp_borrowing_widget=o,t.fn.cp_borrowing_widget.Constructor=r,t(document).on("ready",function(){var e=t.datajs(BCViewport.matchAny(["xs"])?"borrowing-widget-wrapper-mobile":"borrowing-widget-wrapper-desktop");e.length?e.datajs("borrowing-widget").cp_borrowing_widget():t.datajs("borrowing-widget").cp_borrowing_widget()})}($,this),function(t,e){"use strict";var n=function(e,n){this.$trigger=t(e),this.$element=t.datajs(n.drawer_datajs),this.options=n,this.open=!1,this.transitioning=!1,this.$element.after('<div class="drawer_backdrop"></div>'),this.$element.on("click",bc_datajs_selector("drawer_close"),this.hide.bind(this)),this.options.toggle&&this.$trigger.on("click",t.proxy(this.toggle,this))};n.DEFAULTS={toggle:!0,placement:"left",autohide:!0,disable_scrolling:!0,swipe_to_close:!0,open_callback:t.noop,drawer_datajs:"drawer-element",close_callback:t.noop},n.SLIDE_TRANSITION_DURATION=350,t.extend(n.prototype,{show:function(n){n&&n.preventDefault(),this.opened||this.transitioning||(this.transitioning=!0,this.$element.addClass("active"),this.$element.trigger("show.bc.drawer"),this.slide(function(){this.options.open_callback(this),this.opened=!0,this.$element.trigger("shown.bc.drawer"),this.transitioning=!1,this.options.disable_scrolling&&this.disable_scrolling(),this.options.autohide&&t(e.document).on("tap.bc.drawer click.bc.drawer",t.proxy(this.auto_hide,this)),this.options.swipe_to_close&&this.$element.on("swipe.bc.drawer",t.proxy(this.swipe_close,this))}))},hide:function(n){n&&n.preventDefault(),this.opened&&!this.transitioning&&(this.transitioning=!0,this.$element.removeClass("active").trigger("hide.bc.drawer"),this.slide(function(){this.options.close_callback(this),this.opened=!1,this.$element.trigger("hidden.bc.drawer"),this.transitioning=!1,this.enable_scrolling(),t(e.document).off(".bc.drawer"),this.$element.off(".bc.drawer")}))},auto_hide:function(e){function n(e){var n=e.parents().map(function(){return parseInt(t(this).css("z-index"))||0});return Math.max.apply(null,n)}var i=t(e.target),r=parseInt(i.css("z-index")),o=parseInt(this.$element.css("z-index"))||0,a=i.closest(this.$element).length>0,s=t.contains(document,i[0]);r=isNaN(r)?n(i):r,o>=r&&!a&&s&&this.hide()},swipe_close:function(t){t.direction===this.options.placement&&this.hide()},toggle:function(t){return t&&t.preventDefault(),this.opened?this.hide():this.show()},slide:function(e){var i=t.proxy(e,this);return t.support.transition?this.$element.one("bsTransitionEnd",i).emulateTransitionEnd(n.SLIDE_TRANSITION_DURATION):setTimeout(i,n.SLIDE_TRANSITION_DURATION),this},disable_scrolling:function(){t(e).on("touchmove.bc.drawer.scrolling",t.proxy(function(e){0===t(e.target).closest(this.$element).length&&e.preventDefault()},this)),t("body").addClass("drawer-open")},enable_scrolling:function(){this.$element.css("height",""),t(e).off(".bc.drawer.scrolling"),t("body").removeClass("drawer-open")}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.drawer"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.drawer",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_drawer=i,t.fn.cp_drawer.Constructor=n,t(function(){t.datajs("drawer-trigger").cp_drawer()})}(jQuery,this),$(document).ready(function(){Handlebars.registerHelper("liking_like_state",function(t,e){var n;return n=t?BCLang.liked:BCLang.like,e.hash.display_text||(n=n.toLowerCase()),n}),Handlebars.registerHelper("liking_like_status",function(t){var e;return e=t?"liked":"unliked",e.toLowerCase()}),Handlebars.registerHelper("liking_like_noun",function(t){return 1===t?BCLang.like:BCLang.likes}),Handlebars.registerHelper("liking_like_heart_icon",function(t){return new Handlebars.SafeString(t?"<i class='icon-heart'></i>":"<i class='icon-heart-empty'></i>")}),Handlebars.registerHelper("liking_liked_users_count",function(t){if(1===t)return"1 "+BCLang.person;var e=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return e+" "+BCLang.people}),Handlebars.registerHelper("liking_like_library_count",function(t){if(1===t.length)return"1 "+BCLang.library;var e=t.length.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return e+" "+BCLang.libraries}),Handlebars.registerHelper("liking_if_single_user_liked",function(t,e){return 1===t?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("liking_ifLibrariesExist",function(t,e){return t.length>0?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("liking_ifMultipleLibraries",function(t,e){return t.length>1?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("liking_ifContentHasLikes",function(t,e){return t>0?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("liking_unlessContentOnlyHasOneLike",function(t,e){return t>1&&t>0?e.fn(this):e.inverse(this)}),$.datajs("like_button_content").cp_like()}),function(t,e){"use strict";var n=function(e,n){this.$el=t(e),this.options=n,this.$like_button=this.$el.datajs("like_button"),this.$like_count_button=this.$el.datajs("like_count_button"),this.model={content_id:this.$like_button.data("content-id"),resource:this.$like_button.data("resource"),liked:this.$like_button.hasClass("liked"),like_count:this.$like_button.data("count")||0,like_count_button_enabled:this.$like_button.data("like-count-button-enabled")!==!1,liked_users:[],liked_libraries:[],liked_users_page_number:1,like_breakdown_loaded:!1,timeout:null},this.destination=this.$like_button.data("destination"),this.$like_breakdown_container=t.datajs("like_breakdown_"+this.model.content_id).last(),this.$like_breakdown=this.$like_breakdown_container.datajs("like_breakdown_content"),this.$like_breakdown_spinner=this.$like_breakdown_container.datajs("like_breakdown_spinner"),this.bind_event_listeners(),this.get_serverside_breakdown_info()};n.DEFAULTS={like_breakdown_enabled:!0,like_breakdown_username_page_size:10},n.LIKED_CLASS="liked",n.UNLIKED_CLASS="unliked",n.ACTIONS={LIKE:"like",UNLIKE:"unlike",BREAKDOWN:"like_breakdown",LIKED_USERS:"liked_users"},n.TEMPLATES={LIKE_BUTTON:t.datajs("like_button_template").html(),LIKE_BREAKDOWN:t.datajs("like_breakdown_template").html()},t.extend(n.prototype,{bind_event_listeners:function(){var e=this;this.$el.on("click",bc_datajs_selector("like_button"),function(t){t.preventDefault,e.clicked_like_button(e.model.liked?!1:!0)}),this.model.like_count_button_enabled&&(this.$el.on("click",bc_datajs_selector("like_count_button"),function(t){t.preventDefault(),e.toggle_like_breakdown()}),this.$like_breakdown.on("click",bc_datajs_selector("like_breakdown_close"),function(t){t.preventDefault(),e.close_like_breakdown()})),this.$el.on("like."+this.model.content_id,function(){e.update_like_state(!0),e.$like_breakdown.is(":visible")&&e.open_like_breakdown()}),this.$el.on("unlike."+this.model.content_id,function(){e.update_like_state(!1),e.$like_breakdown.is(":visible")&&e.open_like_breakdown()}),this.$like_breakdown.on("click",bc_datajs_selector("like_breakdown_see_more"),function(n){"#"==t(this).attr("href")&&(n.preventDefault(),t(this).addClass("hidden"),t(this).next(bc_datajs_selector("liked_users_spinner")).removeClass("hidden"),e.load_more_users())})},compiled_like_button_template:function(){var t=e.compile(n.TEMPLATES.LIKE_BUTTON),i=t(this.model);return i},compiled_like_breakdown_template:function(){var t=e.compile(n.TEMPLATES.LIKE_BREAKDOWN);this.model.url=this.$like_breakdown.data("url"),this.model.liked&&this.model.liked_users_page_number<=1&&this.model.liked_users.users.splice(0,1);var i=t(this.model);return i},update_like_state:function(t){this.model.liked=t,t?this.model.like_count+=1:this.model.like_count>0&&(this.model.like_count-=1);var e=this.compiled_like_button_template();this.$el.html(e)},clicked_like_button:function(t){var e=t?n.ACTIONS.LIKE:n.ACTIONS.UNLIKE,i=this;"true"===USER_PRESENT&&(this.update_like_state(t),this.trigger_event(e));var r=function(e){clearTimeout(i.model.timeout),e.success||"true"!==USER_PRESENT||i.update_like_state(!t),"true"===USER_PRESENT&&i.$like_breakdown.is(":visible")&&i.open_like_breakdown()},o=function(){clearTimeout(i.model.timeout),"true"===USER_PRESENT&&(i.update_like_state(!t),i.$like_breakdown.is(":visible")&&i.open_like_breakdown())};this.perform_liking_server_request(e,r,o)},trigger_event:function(e){var n=this;t('[data-content-id="'+this.model.content_id+'"]').not(function(e,i){return t(i)[0]===n.$el.datajs("like_button")[0]}).trigger(e+"."+this.model.content_id)},perform_liking_server_request:function(e,i,r){{var o="/"+this.model.resource+"/"+e+"/"+this.model.content_id,a={destination:this.destination},s=this;e===n.ACTIONS.LIKE}clearTimeout(s.model.timeout),s.model.timeout=setTimeout(function(){clearTimeout(s.model.timeout);t.ajax({url:o,data:a,dataType:"json",show_spinner:"true"===USER_PRESENT?!1:!0,success:function(t){i(t)},error:"true"===USER_PRESENT?r:"authentication"})},750)},toggle_like_breakdown:function(){this.$like_breakdown.is(":visible")?this.close_like_breakdown():this.open_like_breakdown()},open_like_breakdown:function(){var e=t.Event("likebreakdown.show");this.$el.trigger(e);var i="/"+this.model.resource+"/"+n.ACTIONS.BREAKDOWN+"/"+this.model.content_id,r=this;this.model.like_breakdown_loaded&&(this.$like_breakdown.html(""),this.$like_breakdown_spinner.removeClass("hidden")),this.$like_breakdown_container.slideDown(),this.model.like_breakdown_loaded=!0,t.ajax({url:i,dataType:"json",show_spinner:!1}).done(function(t){"undefined"==typeof t.success||t.success?(r.model.like_count=t.like_breakdown.like_count,r.model.liked_users=t.like_breakdown.liked_users,bc_feature.LikingLibraryBreakdown&&(r.model.liked_libraries=t.like_breakdown.liked_libraries),r.render_like_breakdown()):r.close_like_breakdown()})},render_like_breakdown:function(){var t=this.compiled_like_breakdown_template(),e=this;this.$like_breakdown_spinner.addClass("hidden"),this.$like_breakdown.html(t),bc_feature.LikingLibraryBreakdown&&setTimeout(function(){e.animate_library_breakdown()},50)},animate_library_breakdown:function(){t.each(this.$like_breakdown.datajs("like_library_percentage"),function(){t(this).css("width",t(this).data("percentage")+"%")})},close_like_breakdown:function(){var e=t.Event("likebreakdown.hide");this.$el.trigger(e),this.$like_breakdown_container.slideUp(),t.each(t.datajs("like_library_percentage"),function(){t(this).css("width",0)}),this.model.liked_users_page_number=1},load_more_users:function(){var e="/"+this.model.resource+"/"+n.ACTIONS.LIKED_USERS+"/"+this.model.content_id,i=this.options.like_breakdown_username_page_size,r=this.model.liked_users_page_number,o=this;if(100>i*r){var a=t.ajax({url:e,dataType:"json",show_spinner:!1,data:{page_size:i,page_number:r}});a.done(function(e){t.each(e.liked_users.users,function(){o.model.liked_users.users.push(this)}),o.model.liked_users.see_more=e.liked_users.see_more,o.model.liked_users_page_number+=1,o.render_like_breakdown()})}},get_serverside_breakdown_info:function(){if(t.datajs("like_breakdown_serverside").length>0){var e=[];t.datajs("like_username").each(function(){var n={id:t(this).data("id"),username:t(this).html().trim(),is_active:"undefined"!==t(this).attr("href")};e.push(n)}),this.model.liked_users.users=e,this.model.liked_users.see_more=t.datajs("like_breakdown_see_more").length>0,this.model.liked_users_page_number=1}}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("Like"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("Like",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_like=i,t.fn.cp_like.Contructor=n,function(){t.datajs("cp_like").cp_like()}()}(jQuery,Handlebars),function(t,e){"use strict";var n=function(e,n){this.options=n,this.$trigger=t(e),this.$element=this.append_element(),this.content_retrieved=!1,this.opened=!1,this.options.open_on_init&&this.show(),this.$trigger.on("click",t.proxy(this.show,this))};n.DEFAULTS={auto_hide:!0,destroy_on_close:!1,open_callback:t.noop,close_callback:t.noop,source_url:!1,content:!1,open_on_init:!1,relative_to:null},n.EXPAND_TRANSITION_DURATION=900,t.extend(n.prototype,{show:function(i){i&&i.preventDefault(),this.opened||(i=t.Event("show.bc.inline_expand",{element:this.$element}),this.$trigger.trigger(i),i.isDefaultPrevented()||(this.opened=!0,this.add_content(function(r){this.$element.html(r.html),this.$element.addClass("transitioning");var o=this.$element.outerHeight()+20;this.$element.removeClass("transitioning").addClass("in");var a=function(){this.options.open_callback.apply(this),this.options.auto_hide&&t(e.document).on("click.bc.inline_expand",t.proxy(this.auto_hide,this)),this.$element.datajs("close_button").on("click",t.proxy(this.hide,this)),i=t.Event("shown.bc.inline_expand",{element:this.$element}),this.$trigger.trigger(i)};this.$element.height(),this.animate(o),this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(n.EXPAND_TRANSITION_DURATION)})))},hide:function(i){if(i&&i.preventDefault(),i=t.Event("hide.bc.inline_expand",{element:this.$element}),this.$trigger.trigger(i),!i.isDefaultPrevented()){this.animate("");var r=function(){this.$element.removeClass("in"),this.options.close_callback.apply(this),t(e.document).off(".bc.inline_expand"),this.options.destroy_on_close&&this.destroy(),this.opened=!1,i=t.Event("hidden.bc.inline_expand",{element:this.$element}),this.$trigger.trigger(i)};this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.EXPAND_TRANSITION_DURATION)}},destroy:function(){this.$trigger.data("bc.inline_expand",null),this.$element.remove()},add_content:function(e){var n={html:this.content_retrieved?this.$element.html():this.options.content};this.content_retrieved||this.options.content?e.apply(this,[n]):(this.options.source_url=this.options.source_url||this.$trigger.attr("href"),t.getJSON(this.options.source_url,t.proxy(e,this))),this.content_retrieved=!0},animate:function(t){this.$element.css("max-height",t)},auto_hide:function(e){0===t(e.target).closest(this.$element).length&&this.hide()},append_element:function(){var e=this.options.relative_to||this.$trigger,n=t("<div></div>",{"class":"cp_inline_expand"});return n.insertAfter(e),n}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.inline_expand"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.inline_expand",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_inline_expand=i,t.fn.cp_inline_expand.Constructor=n,t(function(){t.datajs("inline_expand").cp_inline_expand()})}(jQuery,this),function(t,e){"use strict";var n=function(e,n){this.options=n,this.$container=t(e),this.$buttons=this.$container.datajs("batch-action-button"),this.$master_checkbox=this.$container.datajs("batch-action-master-checkbox"),this.$item_checkboxes=this.$container.datajs("batch-action-checkbox"),this.$item_checkboxes.on("change.bc.batch_list_actions",t.proxy(this.item_checkbox_changed,this)),this.$master_checkbox.on("change.bc.batch_list_actions",t.proxy(this.master_checkbox_changed,this)),this.$buttons.on("click.bc.batch_list_actions",t.proxy(this.button_action,this)),this.update_button_states()};n.DEFAULTS={},t.extend(n.prototype,{item_checkbox_changed:function(){return this.update_button_states(),this.toggle_checked_item_visiblity(),this.toggle_checked_classes(),this.update_num_items_selected(),this.$master_checkbox.prop("checked",this.is_all_items_checked()),this},master_checkbox_changed:function(){var t=this.$master_checkbox.is(":checked");return this.$item_checkboxes.not(":disabled").prop("checked",t).first().trigger("change.bc.batch_list_actions"),this},button_action:function(n){n&&n.preventDefault();var i=t(n.currentTarget),r=this,o=t('<i class="icon-spinner animate-spin" data-js="spin-icon"></i>');if(i.data("action")&&!(i.datajs("spin-icon").length>0)){this.uncheck_unapplicable_items(i.data("event")),this.disable_buttons([i.data("event")]),i.datajs("item-count").hide(),i.append(o);var a=this.get_unchecked_list_items(),s=this.$container,l=s.datajs("list-batch-actions"),c=this.$item_checkboxes,u=c.parents(bc_datajs_selector("checkbox-container")),h=i.data("delayed-close"),d=s.datajs("bib_list_show_more_pagination"),p=l.data("bc.position_sticky");i.on("content_loaded.bc.inline_overlay",function(){p.unstick(),p.disable(),a.addClass("faded_item");var e=parseInt(s.offset().top);"function"==typeof t.bccmsHeaderJSAPI&&(e-=t.bccmsHeaderJSAPI("getHeight")),t("body").animate({scrollTop:e})});var f=t.extend(!0,t.deparam(this.$item_checkboxes.serialize()),{bib_ids:this.bib_ids_for_checked_items()});return i.bc_inline_overlay({source_url:t.param.querystring(i.data("action"),f),open_on_init:!0,container:l,send_forms:i.data("send-forms")!==!1,show_spinner:!1,forms_replace_content:!0,classes:i.data("overlay-classes")||"",inline_messaging:!0,before_open_callback:function(){u.hide(),d.hide()},open_callback:function(e){t.datajs("utility_bar").hide(),i.datajs("spin-icon").remove(),i.datajs("item-count").show(),i.data("event")&&s.trigger(i.data("event")+".bc.batch_list_actions",[e,i]),h&&setTimeout(function(){e&&e.is_open()&&e.$element.fadeOut(500,function(){e.close()})},h)},close_callback:function(){t.datajs("utility_bar").show(),d.show(),p.enable(),p.scroll_check(),r.item_checkbox_changed(),u.show(),a.removeClass("faded_item"),i.data("reload-after-close")&&e.location.reload()}}),this}},is_all_items_checked:function(){return this.get_checked_item_checkboxes().length===this.$item_checkboxes.length},is_all_items_unchecked:function(){return 0===this.get_checked_item_checkboxes().length},get_checked_item_checkboxes:function(){return this.$item_checkboxes.filter(function(){return this.checked})},get_unchecked_item_checkboxes:function(){return this.$item_checkboxes.filter(function(){return!this.checked})},get_unchecked_list_items:function(){return this.get_unchecked_item_checkboxes().parents(bc_datajs_selector("batch-action-item"))},toggle_checked_classes:function(){this.$item_checkboxes.each(function(){t(this).parents(bc_datajs_selector("batch-action-item")).toggleClass("bc_checked_item",this.checked)})},toggle_checked_item_visiblity:function(){var t=this.is_all_items_unchecked()?"visible":"hidden";this.$container.datajs("hide-when-batch-item-checked").css("visibility",t)},disable_buttons:function(e){var n=this,i=this.$buttons.not("[data-no-style=true]").not(t.proxy(this.button_has_events,this,e));i.attr("disabled","disabled"),i.datajs("item-count").css("visibility","hidden").html("(0)"),i.each(function(){var e=t(this),r=e.data("active-button-class")||"btn-primary";i.removeClass(r).addClass("btn-default");var o=e.parent(bc_datajs_selector("batch-action-tooltip-wrapper"));if(o){var a=o.data("inactive-title"),s=-1===n.get_all_checkbox_events().indexOf(e.data("event"))&&n.get_checked_item_checkboxes().length;o.data("title",a),o.data("bs.tooltip")&&(o.data("bs.tooltip").options.title=s?o.data("no-items-title"):a)}})},enable_buttons:function(e){var n=this,i=this.$buttons.not("[data-no-style=true]").filter(t.proxy(this.button_has_events,this,e));i.removeAttr("disabled"),i.each(function(){var e=t(this),i=e.data("active-button-class")||"btn-primary";e.removeClass("btn-default").addClass(i);var r=e.parent(bc_datajs_selector("batch-action-tooltip-wrapper"));if(e.datajs("item-count").css("visibility","visible").html("("+n.get_applicable_checked_count_for_action(e.data("event"))+")"),r){var o=r.data("active-title");r.data("title",o),r.data("bs.tooltip")&&(r.data("bs.tooltip").options.title=o)}})},button_has_events:function(e,n,i){var r=t(i),o=!1;return e.forEach(function(t){r.is('[data-event~="'+t+'"]')&&(o=!0)}),o},get_applicable_checked_count_for_action:function(e){return this.get_checked_item_checkboxes().filter(function(){return t(this).is("[data-applicable-batch-actions~="+e+"]")}).length},uncheck_unapplicable_items:function(e){this.get_checked_item_checkboxes().not(function(){return t(this).is("[data-applicable-batch-actions~="+e+"]")}).prop("checked",!1),this.item_checkbox_changed()},update_button_states:function(){var e=[];this.get_checked_item_checkboxes().each(function(){var n=t(this).data("applicable-batch-actions").split(" ");e=e.concat(n)}),e=t.unique(e),this.disable_buttons(e),this.enable_buttons(e)},rebind_item_checkboxes:function(){this.$item_checkboxes.off("change.bc.batch_list_actions"),this.$item_checkboxes=this.$container.datajs("batch-action-checkbox"),this.$item_checkboxes.on("change.bc.batch_list_actions",t.proxy(this.item_checkbox_changed,this)),this.update_button_states()},bib_ids_for_checked_items:function(){return this.get_checked_item_checkboxes().map(function(){return t(this).data("bib-id")}).filter(function(t,e){return e>0}).toArray()},get_all_checkbox_events:function(){return this.$item_checkboxes.map(function(){return t(this).data("applicable-batch-actions").split(" ")}).toArray().filter(function(t,e,n){return n.lastIndexOf(t)===e})},update_num_items_selected:function(){if(this.$container.datajs("num_selected_items").length>0){var e=this.get_checked_item_checkboxes().length;t.datajs("num_selected").html(e)}}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.batch_list_actions"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.batch_list_actions",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_batch_list_actions=i,t.fn.cp_batch_list_actions.Constructor=n,t(function(){t.datajs("batch-list-actions-container").cp_batch_list_actions()})}(jQuery,this),function(t,e){"use strict";var n=[],i=t(e),r=(t(e.document),function(){return{window_height:i.height(),window_width:i.width()}}),o=i.scrollTop(),a=r(),s=function(e,i){return this.$element=t(e),this.$padded=t("<div></div>"),this.options=i,this.sticky_top=null,this.enabled=!0,this.$element.after(this.$padded),this.calculate_dimensions(),this.update_padded_element(),n.push(this),this};s.DEFAULTS={top_spacing:0,class_name:"cp_position_sticky",padding_class:"cp_position_sticky_padding",disabled_viewports:["xs"]},s.CHECK_AFTER_SCROLL_STOP_TIME=250,t.extend(s.prototype,{stick:function(){this.$element.addClass(this.options.class_name).css({width:this.width,height:this.height}).trigger("sticky-start.bc.position_sticky")},unstick:function(){this.$element.removeClass(this.options.class_name).css({width:"",height:"",top:""}).trigger("sticky-end.bc.position_sticky"),this.sticky_top=null},scroll_check:function(){if(this.enabled&&!BCViewport.matchAny(this.options.disabled_viewports)){var t=e.pageYOffset,n=this.$element.get(0).getBoundingClientRect().top+t,i=document.documentElement.offsetHeight-document.documentElement.clientHeight,r=t>=i?i-t:0,o="function"==typeof this.options.top_spacing?this.options.top_spacing():this.options.top_spacing,a=this.sticky_top||n-o-r,s=this.$element.hasClass(this.options.class_name),l=t>a&&t>0;s&&!l?this.unstick():!this.sticked&&l&&(this.stick(),this.sticky_top=a)}},calculate_dimensions:function(){this.height=this.$element.outerHeight(),this.width=this.$element.outerWidth()},update_padded_element:function(){var t={height:this.height,width:this.width,"float":this.$element.css("float"),"border-color":"transparent"};["top","left","right","bottom"].forEach(function(e){["margin","padding","border"].forEach(function(n){var i=n+"-"+e;t[i]=this.$element.css(i)}.bind(this))}.bind(this)),this.$padded.css(t).addClass(this.options.padding_class)},handle_resize:function(){var t=null!==this.sticky_top;t&&this.unstick(),this.calculate_dimensions(),this.update_padded_element(),t&&this.stick()},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0}});var l=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var i=t(this),r=i.data("bc.position_sticky"),o=t.extend({},s.DEFAULTS,i.data(),"object"==typeof n&&n);r||i.data("bc.position_sticky",r=new s(this,o)),"string"==typeof e&&r[e](n)})},c=debounce(function(){h()},s.CHECK_AFTER_SCROLL_STOP_TIME),u=function(){t.each(n,function(){this.handle_resize()})},h=function(){t.each(n,function(){this.scroll_check()}),c()};t.fn.cp_position_sticky=l,t.fn.cp_position_sticky.Constructor=s;var d=function(){if(0===n.length)return e.requestAnimationFrame(d),!1;{var t=r(),s=i.scrollTop(),l=n.filter(function(t){return null!==t.sticky_top}).map(function(t){return t.sticky_top});Math.min.apply(null,l)}p(a,t)||u(),s!==o&&h(),a=t,s=o,e.requestAnimationFrame(d)},p=function(e,n){var i=!0;return t.each(e,function(t){e[t]!==n[t]&&(i=!1)}),i};t(function(){t.datajs("position_sticky").cp_position_sticky(),d()})}(jQuery,this),function(t){"use strict";var e=function(e,n){if(this.$checkbox=t(e),this.options=n,!this.$checkbox.parents(".cp_pretty_checkbox").length){this.$checkbox.addClass("sr-only");var i=this.$checkbox.parent("label").length>0;i||this.$checkbox.wrap("<label></label>");var r=this.$checkbox.parent("label").length?this.$checkbox.parent("label"):this.$checkbox;r.wrap('<div class="cp_pretty_checkbox"></div>'),this.$container=this.$checkbox.parents(".cp_pretty_checkbox"),this.$container.addClass(this.options.container_classes),this.$checkbox.after('<span class="pretty_checkbox_'+this.options.variation+'"><span class="check"></span></span>'),this.options.animation!==!0&&this.$container.addClass("no_animate"),this.$checkbox.trigger("shown.bc.pretty-checkbox",this)}};e.DEFAULTS={animation:!1,container_classes:"",variation:"primary"},t.extend(e.prototype,{});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.pretty_checkbox"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.pretty_checkbox",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_pretty_checkbox=n,t.fn.cp_pretty_checkbox.Constructor=e,t(document).on("ready contentchange",function(){t.datajs("pretty-checkbox").cp_pretty_checkbox()})}(jQuery,this),function(t){"use strict";var e=function(e,n){return this.$element=t(e),this.options=n,this.$teaser=this.$element.datajs("feedback_teaser"),this.$collapsable=this.$element.datajs("feedback_collapsable"),this.$trigger=this.$element.datajs("feedback_collapsable_trigger"),this.$close=this.$element.datajs("feedback_close"),this.$form=this.$element.datajs("feedback_form"),this.$messaging=this.$element.datajs("messaging"),this.$trigger.on("click",t.proxy(this.open,this)),this.$close.on("click",t.proxy(this.close,this)),this};e.DEFAULTS={},t.extend(e.prototype,{open:function(e){e&&e.preventDefault(),t("html, body").animate({scrollTop:this.$trigger.offset().top},1500),this.$teaser.hide(),this.$collapsable.show(),this.$messaging.empty(),this.handle_submit()},close:function(t){t&&t.preventDefault(),this.$collapsable.hide(),this.$teaser.show()},handle_submit:function(){var e=this;e.$form.validate({ignore:":not(select:hidden, input:visible, textarea:visible)",rules:{feedback_category:{required:!0}},errorPlacement:function(e,n){t(n).is("select")?n.next().after(e):e.insertAfter(n)},submitHandler:function(n){return e.$form.datajs("submit_feedback_btn").bootstrap_btn("loading"),t.ajax({method:"post",url:t(n).attr("action"),dataType:"json",data:t(n).serialize(),inline_messaging:!0}).always(function(i){e.$form.datajs("submit_feedback_btn").bootstrap_btn("reset"),i.messages&&e.$messaging.html(i.messages),i.success&&(e.close(),n.reset(),t("#feedback_category").selectpicker("refresh"))}),!1}})}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.feedback_box"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.feedback_box",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_feedback_box=n,t.fn.cp_feedback_box.Constructor=e,t(function(){t.datajs("feedback_box").cp_feedback_box()})}(jQuery,this),function(t,e,n,i){"use strict";var r=function(e,n){return this.$element=t(e),this.options=n,this.notice_id=this.$element.data("notice_id"),this.$element.on("close.bs.alert",t.proxy(this.close,this)),this.$element.cp_expander(),this};r.DEFAULTS={session_mins:90},t.extend(r.prototype,{close:function(){this.add_to_ignore_list(),this.cms_callback()},add_to_ignore_list:function(){t.cookie("hidden_notices",this.setup_cookie(),{expires:this.session_length(),path:"/"})},setup_cookie:function(){var t=this.existing_ids();if(t){var e=t.split(":");return e.push(this.notice_id),e.join(":")}return this.notice_id},existing_ids:function(){return t.cookie("hidden_notices")},session_length:function(){return e.length>0?!1:this.options.session_mins},cms_callback:function(){if(n){var e={action:"cms_hide_system_message",id:this.notice_id},r=i+"/wp-admin/admin-ajax.php";t.ajax({url:r,dataType:"jsonp",data:e})}}});var o=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var i=t(this),o=i.data("bc.system_message"),a=t.extend({},r.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bc.system_message",o=new r(this,a)),"string"==typeof e&&o[e](n)})};t.fn.cp_hide_alert=o,t.fn.cp_hide_alert.Constructor=r,t(function(){t.datajs("system_message").cp_hide_alert()})}(jQuery,at_local_branch,CMS_ENABLED,CMS_URL),function(t,e){"use strict";var n=function(e,n){this.$list=t(e),this.$button=this.$list.datajs("bib_list_show_more_pagination"),n=t.extend(!0,n,this.$button.data()),this.paginate_callback=n.paginate_callback,this.pagination_url=n.pagination_url,this.current_page=n.current_page,this.$button.on("click",this.next_page.bind(this))};n.DEFAULTS={pagination_url:e.location,paginate_callback:t.noop,current_page:0},t.extend(n.prototype,{next_page:function(e){e&&e.preventDefault(),this.current_page+=1,t.getJSON(this.pagination_url,{page:this.current_page},function(e){var n=e.html.trim();if(n){if(this.$list.datajs("show_more_append_container").append(n),e.smart_list_counts){var i=t.datajs("smart_list_counts"),r=e.smart_list_counts[1],o=i.html().split("-");
o[1]=r,i.html(o.join("-")),r===this.$button.data("total-items")&&this.$button.remove()}else e.last_page===!0&&this.$button.remove();this.paginate_callback(),this.$button.removeAttr("disabled")}else this.$button.remove()}.bind(this))}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.show_more"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.show_more",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_show_more=i,t.fn.cp_show_more.Constructor=n}(jQuery,this),function(t){"use strict";var e=function(e,n){return this.$element=t(e),this.$wrapper=this.$element.datajs("rating-wrapper"),this.$remove_btn=this.$element.datajs("remove-rating"),this.rating=n.rating_value,this.read_only=n.read_only,this.bib_id=n.bib_id,this.inline_messaging=n.inline_messaging,this.mouseleave_timeout=null,this.read_only||this.bib_id?(this.$rating_icons=this.$element.datajs("rating-icons"),void(this.read_only||(this.$wrapper.on("mousemove.bc.ratings",function(t){this.update_star_count(this.calculate_rating_from_position(t.pageX))}.bind(this)),this.$wrapper.on("mouseout",this.reset_star_count.bind(this)),this.$wrapper.on("click",this.sync_rating.bind(this,null)),this.$remove_btn.on("click",this.sync_rating.bind(this,0))))):void t.error("Bib ID must be set for editable ratings.")};e.DEFAULTS={rating_value:0,read_only:!1,inline_messaging:!0},e.MAX_RATING=10,e.MOUSE_LEAVE_WAIT=50,t.extend(e.prototype,{update_star_count:function(t){this.$rating_icons.css("width",""+t*(100/e.MAX_RATING)+"%"),this.reset_mouseleave_timeout()},reset_star_count:function(){this.reset_mouseleave_timeout(),this.mouseleave_timeout=setTimeout(this.update_star_count.bind(this,this.rating),e.MOUSE_LEAVE_WAIT)},reset_mouseleave_timeout:function(){null!==this.mouseleave_timeout&&(clearTimeout(this.mouseleave_timeout),this.mouseleave_timeout=null)},sync_rating:function(e,n){var i=this.rating;n&&n.preventDefault(),"number"==typeof e?this.rating=e:n&&(this.rating=this.calculate_rating_from_position(n.pageX)),this.$element.toggleClass("rated",this.rating>0),t.ajax({url:"/usercontent/update",data:{part_name:"rating",rating:this.rating,id:this.bib_id},inline_messaging:this.inline_messaging,show_spinner:!this.inline_messaging,dataType:"json",method:"POST",success:function(e){e.success&&t.notify_badges()}}).fail(this.revert_rating.bind(this,i)).done(function(t){"authentication"===t.error&&this.revert_rating(i)}.bind(this)),this.$element.trigger("update.bc.rating",[this.$element,this.rating]),this.update_star_count(this.rating)},calculate_rating_from_position:function(t){var n=(t-this.$wrapper.offset().left)/this.$wrapper.width();return Math.round(n*e.MAX_RATING)},revert_rating:function(t){this.rating=t,this.reset_star_count(),this.$element.toggleClass("rated",this.rating>0)}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.ratings"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.ratings",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_ratings=n,t.fn.cp_ratings.Constructor=e,t(document).on("ready contentchange",function(){t.datajs("ratings").cp_ratings()})}(jQuery,this),function(t,e,n,i){"use strict";var r={USERNAME_SUGGESTION_DEBOUNCE:500,settings:{back_link:null,callback:function(){i.location.hash="","finish"===r.current_step&&(i.location.href=(r.settings.back_link||"/user/welcome").replace(/#.*$/,""))}},workflow:"",current_step:"",hash_route:"",input_timeout:null,session:{},steps:{start:"/registration/start",prelink:"/library-accounts/linkable_libraries",verification:"/registration/verification",transitional:{username_creation:"/registration/username_creation",finish:"/registration/finish"},kids:{username_creation:"/registration/kids_username_creation",finish:"/registration/finish"},account_linking:{prompt_accounts:"/registration/prompt_accounts",username_creation:"/registration/account_linking",link_select_account:"/registration/link_select_account",barcode_search:"/registration/barcode_search",finish:"/registration/finish"}},hooks:{start:function(){r.reset_session(),r.workflow="kids";var e=t.datajs("next_step");e.prop("disabled",!1),n.pre_registration_account_linking&&t.datajs("registration_linking_option").off("click").on("click",function(n){switch(t(n.target).attr("value")){case"link":e.attr({"data-step":"prelink"});break;default:e.attr({"data-step":"verification"})}})},prelink:function(){t.datajs("connected-login-form").on("submit",function(e){e.preventDefault();var n=t(bc_datajs_selector("lib-domain-radio")+":checked").attr("value"),r=(i.location.host.split(".")[0],i.location.host.slice(i.location.host.indexOf("."))),o="library_"+BC_LIBRARY_ID+"_link_account_btn";i.location=i.location.protocol+"//"+n+r+"/user/login?destination=%2Flibrary_accounts&j_callback="+o})},verification:function(){function e(){var t,e=new Date,a=new Date,s=o.val(),l=i.val();s&&l?(a.setMonth(Number(s)-1),a.setYear(Number(l)),t=e.getYear()-a.getYear(),r.session.is_minor=t===n.restricted_age_limit?e.getMonth()<a.getMonth():t<n.restricted_age_limit,r.session.is_blank_dob=!1):(r.session.is_minor=!0,r.session.is_blank_dob=!0),r.session.blank_date_or_minor=r.session.is_blank_dob||r.session.is_minor,"account_linking"!==r.workflow&&(r.workflow=n.restrict_free_text_entry&&r.session.blank_date_or_minor?"kids":"transitional")}{var i=t("#birth_year"),o=t("#birth_month"),a=t("#user_email"),s=(t.datajs("info_birth_month"),t.datajs("next_step"));r.input_timeout}e(),i.on("change",e),o.on("change",e),a.on("input",function(){a.removeClass("error")}),s.prop("disabled",!1)},transitional:{username_creation:function(){var e=t("#user_name"),n=t.datajs("info_user_name"),i=t("#accept_terms"),o=t.datajs("terms_and_conditions"),a=t.datajs("username_spinner"),s=t.datajs("username_taken"),l=t.datajs("username_suggestion"),c=t.datajs("reg_form"),u=t.datajs("form_error_message"),h=r.session,d=t.datajs("suggested_username"),p=c.validate({rules:{user_name:{required:!0,validUsername:!0},accept_terms:"required"},messages:{accept_terms:BCLang.reg_confirm_tos},invalidHandler:function(){u.show()},success:function(){0===p.numberOfInvalids()&&u.hide()}});h.user_name=e.val(),e.on("input",function(){var i=t(this).val();i.match(/\W/)&&(n.show(),t.datajs("info_link").hide(),i=i.replace(/\W/g,""),t(this).val(i)),h.user_name=i,h.valid_user_name=!1,r.input_timeout&&(clearTimeout(r.input_timeout),r.input_timeout=null),e.removeClass("error").removeClass("success"),a.hide(),s.hide(),r.input_timeout=setTimeout(function(){h.user_name&&(a.show(),r.check_user_name().then(function(){e.addClass("success")}).fail(function(t){e.addClass("error"),s.show(),l.text(t.suggestion)}).always(function(){t.datajs("create_account_btn").bootstrap_btn("reset"),a.hide()}))},r.USERNAME_SUGGESTION_DEBOUNCE)}),d.on("click",function(t){t.preventDefault(),e.val(l.text()).trigger("input")}),i.on("change",function(){t(this).attr("checked")?o.removeClass("checkbox_error"):o.addClass("checkbox_error")})},finish:function(){var n=t.datajs("registration_results"),i=e.compile(t("#t_transitional_kids").html()),o=r.settings.back_link&&r.settings.back_link.replace(/#.*$/,""),a={user_name:r.session.data.user_name,back_link:o};n.html(i(a))}},kids:{username_creation:function(){function n(){p.valid_user_name=!1,p.color=i.val(),p.animal=o.val(),s.html(d({generated_username:null,color:p.color||BCLang.reg_color_picked,animal:p.animal||BCLang.reg_animal_picked})),s.children().removeClass("faded_username"),p.color||t.datajs("color-picked").addClass("faded_username"),p.animal||t.datajs("animal-picked").addClass("faded_username"),f.element("#"+this.id),r.input_timeout&&(clearTimeout(r.input_timeout),r.input_timeout=null),p.color&&p.animal&&(r.input_timeout=setTimeout(function(){r.get_kids_user_name().then(function(t){s.html(d(t))})},500))}var i=t("#color"),o=t("#animal"),a=t.datajs("reg_form"),s=t.datajs("generated_username"),l=t("#accept_terms"),c=t.datajs("terms_and_conditions"),u=t.datajs("form_error_message"),h=t.datajs("next_step"),d=e.compile(t("#t_generated_username").html()),p=r.session;p.is_blank_dob&&t.datajs("blank_dob_message").show();var f=a.validate({rules:{color:"required",animal:"required",accept_terms:"required"},messages:{accept_terms:BCLang.reg_confirm_tos},invalidHandler:function(){u.show()},success:function(){0===f.numberOfInvalids()&&u.hide()}});i.on("change",n),o.on("change",n),l.on("change",function(){f.valid(),t(this).attr("checked")?c.removeClass("checkbox_error"):c.addClass("checkbox_error")}),h.prop("disabled",!1)},finish:function(){var n=t.datajs("registration_results"),i=e.compile(t("#t_transitional_kids").html()),o={user_name:r.session.data.user_name,back_link:r.settings.back_link};n.html(i(o))}},account_linking:{username_creation:function(){var n=t.datajs("existing_accounts"),i=e.compile(t("#t_accounts").html());n.html(i(r.session)),t.datajs("link_account_btn").on("click",function(e){var n=t(e.target).data();r.session=Object.assign(r.session,n)}),t.datajs("create_new_username").data("workflow",r.session.blank_date_or_minor?"kids":"transitional")},link_select_account:function(){var n=t.datajs("link-login-form"),i=e.compile(t("#t_linking_form").html());n.html(i(r.session)),r.bind_linking_form()},prompt_accounts:function(){t.datajs("create_new_username").data("workflow",r.old_workflow)},barcode_search:function(){t.datajs("search_by_barcode").on("submit",function(n){n.preventDefault();var i=t(this),o=t.datajs("barcode_to_search").val(),a=e.compile(t.datajs("pin_form").html());t.datajs("barcode-error").addClass("hidden"),t.datajs("search_barcode_btn").bootstrap_btn("loading"),t.ajax({method:"POST",url:i.attr("action"),data:t.extend(!0,{},r.session.data,{barcode:o}),dataType:"json"}).then(function(e){if(e.matches&&e.matches.length>0){r.session.matches=e.matches,i.replaceWith(a(e.matches[0]));{t.datajs("linking_form")}r.bind_linking_form()}else t.datajs("barcode-error").removeClass("hidden");t.datajs("search_barcode_btn").bootstrap_btn("reset")})})},error:function(){t.datajs("current-linking-form").datajs("pin").addClass("error")},finish:function(){var n=t.datajs("registration_results"),i=e.compile(t("#t_account_linking").html()),o={user_name:r.session.data.user_name,matches:r.session.matches,back_link:r.settings.back_link};n.html(i(o))}}},validations:{prelink:null,verification:function(){var e=t("#user_email"),i=t.datajs("reg_form"),o=e.val(),a=t.Deferred(),s=function(){"true"===t.datajs("prompt_for_account_linking").val()&&(r.old_workflow=r.workflow,r.workflow="account_linking",t.datajs("next_step").data("step","prompt_accounts"))};if(!i.valid())return a.reject(),a.promise();if(n.pre_registration_matching&&o){var l={user_email:o};t.post("/registration/get_account_matches.json",l).done(function(t){t.matches.length>0?(r.workflow="account_linking",r.session.matches=t.matches):s(),a.resolve()}).fail(function(){console.error("BCReg: couldn't fetch data from /registration/get_account_matches"),a.reject()})}else a.resolve(),s();return a.promise()},transitional:{username_creation:function(){var e=t.Deferred(),n=t("#user_name"),i=t.datajs("username_taken"),o=t.datajs("username_suggestion");return r.session.valid_user_name?(e.resolve(),e.promise()):(r.input_timeout&&(clearTimeout(r.input_timeout),r.input_timeout=null),t.datajs("create_account_btn").bootstrap_btn("validating"),r.check_user_name().then(e.resolve).fail(function(r){t.datajs("create_account_btn").bootstrap_btn("reset"),n.addClass("error"),i.show(),o.text(r.suggestion),e.reject()}),e.promise())},finish:null},kids:{start:function(){var e=t(bc_datajs_selector("registration_linking_option")+":checked").attr("value");"link"===e&&t.datajs("account-linking-cta").overlay()},username_creation:function(){var e=t.Deferred();return r.session.valid_user_name?e.resolve():e.reject(),e.promise()},finish:null},account_linking:{username_creation:null,finish:null}},init:function(e){t.extend(r.settings,e),r.attach_ui()},attach_ui:function(){t.datajs("direct_registration").on("click",r.start)},attach_step_actions:function(){var e=r.hooks,n=r.workflow,o=r.current_step,a=t(document);i.location.hash=r.hash_route,t.datajs("info_link").on("click",function(e){e&&e.preventDefault();var n=t(this).data("info"),i=t.datajs(n);i.show(),t(this).hide()}),a.off("click.next_step").on("click.next_step",bc_datajs_selector("next_step"),function(e){e&&e.preventDefault();var n=t(this).data("workflow"),i=t.datajs("reg_form"),o=t(this);r.input_timeout&&clearTimeout(r.input_timeout),r.validate().then(function(){var e=e=o.data("step"),a=o.data("session-data");i.length>0&&t.extend(r.session.data,i.serializeObject()),a&&t.extend(r.session.data,a),"finish"===e?(o.bootstrap_btn("register"),r.submit().always(function(){o.bootstrap_btn("reset")})):(n=n||r.workflow,r.load_step(n,e))})}),t.datajs("previous_step").on("click",function(e){e&&e.preventDefault();var n=t(this).data("workflow")||r.workflow,i=t(this).data("step");r.input_timeout&&clearTimeout(r.input_timeout),r.load_step(n,i)});var s=e.hasOwnProperty(o)?e[o]:e[n][o];s()},start:function(e){if(e&&e.preventDefault(),!r.settings.back_link){var n=t.cookie("pre_login_url")||i.location.href.replace(/#.*$/,"");n.match(/\/user\/login/)||(r.settings.back_link=n),t.removeCookie("pre_login_url",{path:"/"})}t.modal("hide"),r.load_step("kids","start"),r.handle_popstate()},load_step:function(e,n){var i,o=r.steps,a=t("<div></div>");(r.workflow!==e||r.current_step!==n)&&(r.workflow=e,r.current_step=n,r.hash_route="#!/"+e+"/"+n,i=o.hasOwnProperty(n)?o[n]:o[e][n],i=i+"?"+t.param({data:r.session.data}),a.overlay({aria_describedby:"aria_registration",remote:i,close_callback:r.settings.callback,open_callback:r.attach_step_actions,close_on_outer_click:!1,close_on_back:!1,open_on_init:!0}))},submit:function(){var e={workflow:r.workflow,data:r.session.data},n=t.ajax({type:"POST",url:"/registration/save",data:e,dataType:"json"});return n.done(function(t){t.success?(t.linked_accounts&&(r.session.matches=t.linked_accounts),r.load_step(r.workflow,"finish")):r.hooks[r.workflow].error?r.hooks[r.workflow].error():console.error("BCReg: registration failed. result:",t)}).fail(function(t){console.error("BCReg: registration failed. result:",t)}),n},check_user_name:function(){var e=r.session,n=t.Deferred();if(!e.user_name)return e.valid_user_name=!1,n.reject(),n.promise();var i={user_name:e.user_name};return t.ajax({type:"POST",url:"/registration/check_username.json",data:i,dataType:"json",show_spinner:!1}).done(function(t){i.user_name===e.user_name&&(e.valid_user_name=t.valid,t.valid?n.resolve(t):n.reject(t))}).fail(function(){console.error("BCReg.check_user_name: request failed!"),n.reject()}),n.promise()},get_kids_user_name:function(){var e=r.session,n=t.Deferred();if(!e.color||!e.animal)return n.reject(),n.promise();var i={color:e.color,animal:e.animal};return t.post("/registration/kids_username.json",i).done(function(t){t.success?(e.data.user_name=t.user_name,e.valid_user_name=!0,n.resolve({generated_username:e.data.user_name})):(console.error("BCReg.get_kids_user_name: request failed!",t),n.resolve({generated_username:BCLang.something_went_wrong}))}),n.promise()},validate:function(){var e=r.current_step,n=r.workflow,i=r.validations,o=t.datajs("reg_form"),a=t.Deferred();if(0===o.length)return a.resolve(!0),a.promise();var s=i.hasOwnProperty(e)?i[e]:i[n][e];return s?r.check_required().then(s).then(a.resolve).fail(a.reject):r.check_required().then(a.resolve).fail(a.reject),a.promise()},check_required:function(){var e=t.datajs("reg_form"),n=t.Deferred();if(0===e.length)return n.resolve(!0),n.promise();var i=e.find("[required]"),r=e.find("#accept_terms"),o=e.valid();if(i.length+r.length===0)return n.resolve(!0),n.promise();for(var a=0;a<i.length;a++){var s=t(i[a]);s.val()?s.removeClass("error"):(o=!1,s.addClass("error"))}var l=o;if(r.length>0){var c=t.datajs("terms_and_conditions"),u=r.attr("checked");u||c.addClass("checkbox_error"),l=o&&u}return l?n.resolve(l):n.reject(l),n.promise()},handle_popstate:function(){t(i).off("popstate.registration"),t(i).on("popstate.registration",function(){return""!==i.location.hash&&i.location.hash!==r.hash_route&&""!==r.hash_route?t.datajs("previous_step").length>0?void t.datajs("previous_step").click():(r.hash_route="",void t(".js-close-trigger").click()):void 0})},reset_session:function(){r.session={user_name:null,valid_user_name:!1,color:null,animal:null,matches:[],data:{},is_blank_dob:!0},r.workflow="",r.current_step=""},bind_linking_form:function(){t.datajs("linking_form").on("submit","form",function(e){e&&e.preventDefault(),t(this).datajs("pin").removeClass("error"),t.datajs("current-linking-form").attr("data-js",""),t(this).attr("data-js","current-linking-form"),r.session.data.account_to_link=t(this).serializeObject(),r.session.data.user_name=r.session.data.account_to_link.user_name,r.submit()})}};i.BCReg=r}(jQuery,Handlebars,AUTH_RULES,window),function(t,e){"use strict";var n=null,i={redirect_url:null,success:null},r={init:function(){r.attach_login_submit()},attach_login_submit:function(){t.datajs("login_form").off("submit.bc.login").on("submit.bc.login",r.submit)},show_modal:function(o,a){o&&o.preventDefault(),i=t.extend(i,a),n=e.location.href,i.url||(i.url="/user/login"),t.modal("show",{source_url:i.url,fixed_width:"400px",aria_describedby:"aria_log_in",close_callback:auth_modal_close,callback:r.attach_login_submit,focus_element:bc_datajs_selector("username_login")})},submit:function(r){r&&r.preventDefault(),t.cookie("pre_login_url",n);var o=t(this);t.post(o.attr("action"),o.serialize(),function(r){r.logged_in&&(i.redirect_url?e.location.href=i.redirect_url:r.silent_login&&r.close_popup?t.modal("hide"):"function"==typeof i.success?i.success.call(i,r):e.location.href=r.redirect?r.redirect:n)},"json")}};e.BCLogin=r}(jQuery,window),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=n,this.$feedback_box=this.$element.datajs("opt_in_feedback_box"),this.$feedback_thanks=this.$element.datajs("feedback_thanks"),this.$opt_in_actions=this.$element.datajs("opt_in_actions"),this.$feedback_close=this.$element.datajs("opt_in_feedback_hide"),this.$textarea=this.$element.datajs("opt_in_textarea"),this.$element.on("click",bc_datajs_selector("opt_in_feedback_show"),this.show_feedback_box.bind(this)),this.$element.on("click",bc_datajs_selector("opt_in_overall_feeling"),this.show_textarea.bind(this)),this.$element.on("click",bc_datajs_selector("opt_in_feedback_hide"),this.hide_feedback_box.bind(this)),this.$element.on("click",bc_datajs_selector("decline_opt_in"),this.decline_opt_in.bind(this)),this.$feedback_box.on("ajax:success",this.show_feedback_success_message.bind(this)),this.$feedback_box.validate()};e.DEFAULTS={declined_time:90},e.FADE_OUT_THANKS_AFTER=3e3,e.SLIDE_ANIMATION_DURATION=300,t.extend(e.prototype,{show_textarea:function(){return this.$textarea.slideDown(e.SLIDE_ANIMATION_DURATION),this},show_feedback_box:function(t){return t.preventDefault(),this.$feedback_box.slideDown(e.SLIDE_ANIMATION_DURATION),this.$opt_in_actions.hide(),this.$feedback_close.show(),this.$feedback_box.datajs("viewport_information").val(this.get_viewport_information),this},show_feedback_success_message:function(){return this.hide_feedback_box(),this.$feedback_thanks.show(),this.$feedback_box.trigger("reset"),this.$feedback_box.datajs("character_count").html("4000"),setTimeout(this.$feedback_thanks.fadeOut.bind(this.$feedback_thanks),e.FADE_OUT_THANKS_AFTER),this},hide_feedback_box:function(t){return t&&t.preventDefault(),this.$feedback_box.slideUp(e.SLIDE_ANIMATION_DURATION),this.$opt_in_actions.show(),this.$feedback_close.hide(),this.$textarea.hide(),this.$feedback_box[0].reset(),this},decline_opt_in:function(e){var n=t(e.currentTarget);return this.$element.fadeOut(),t.cookie("opt_in_declined_"+n.data("bundle"),"true",{expires:this.options.declined_time,path:"/"}),this},get_viewport_information:function(){var e="Screen resolution: "+screen.width+" x "+screen.height,n="Viewport size: "+t(window).width()+" x "+t(window).height();return"["+e+"\n"+n+"]"}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.opt_in_banner"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.opt_in_banner",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_opt_in_banner=n,t.fn.cp_opt_in_banner.Constructor=e,t(function(){t.datajs("opt_in_banner").cp_opt_in_banner()})}(jQuery,this),function(t){"use strict";var e=function(e,n){return this.$form=t(e),this.options=n,this.$cp_wrapper=t.datajs("cp_add_a_title"),this.$actions=t.datajs("search_block_actions"),this.$action_clear=t.datajs("search_block_action_clear"),this.$container_results=t.datajs("search_block"),this.$search_field=t.datajs("add_a_title_search_field"),this.callback_url=this.$cp_wrapper.data("callback-url"),this.options.use_bib_callback?(this.options.post_add_callback||(this.options.post_add_callback=this.clear_results.bind(this)),this.$form.on("submit",t.proxy(this.search,this)),this.$action_clear.on("click",this.clear_results.bind(this)),this):(console.warn("No callback specified for Add a Title"),void this.$cp_wrapper.html("Add a Title component not initialized properly"))};e.DEFAULTS={search_url:"/search/simple_bib_search",use_bib_callback:null,use_bib_trigger:".use_this_btn",post_add_callback:null},t.extend(e.prototype,{search:function(e){var n=this;e.preventDefault(),t.fn.bc_ajax_cache({url:n.options.search_url+"?"+this.$form.serialize(),success_callback:function(e){n.$actions.show(),n.$container_results.html(e.html),n.$container_results.show(),n.$container_results.find("img").each(function(){validate_jacket_image(t(this))}),n.options.use_bib_callback&&n.options.use_bib_trigger&&n.$container_results.find(n.options.use_bib_trigger).each(function(){n.options.use_bib_callback.call(this,this,{bib_id:t(this).data("bib-id"),callback_url:n.callback_url}),t(this).on("click",function(){setTimeout(n.options.post_add_callback,1e3)})})},spinner:!0})},clear_results:function(e){var n=this;e&&e.preventDefault(),n.$actions.fadeOut(),n.$container_results.fadeOut(400,function(){t(this).empty(),n.$search_field.val("")})}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.add_a_title"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.add_a_title",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_add_a_title=n,t.fn.cp_add_a_title.Constructor=e}(jQuery),function(t,e){"use strict";var n=[],i=0,r=t(e),o=function(e,i){this.$element=t(e),this.shown=!1,this.$element.css({top:this.calculate_top(i.top),bottom:i.bottom,right:i.right,left:i.left}),this.disabled_viewports=i.disabled_viewports,this.$element.on("click",this.toggle.bind(this,!1)),n.push(this)};o.DEFAULTS={top:"auto",bottom:"auto",left:"auto",right:"auto",disabled_viewports:[]},o.PIXELS_SCROLLED_SINCE_LAST_CHECK=20,o.CMS_TOP_PADDING=20,o.PERCENT_SCROLLED_BEFORE_SHOWING_TAB=.4,t.extend(o.prototype,{calculate_top:function(e){return"auto"!==e&&"function"==typeof t.bccmsHeaderJSAPI&&(e=t.bccmsHeaderJSAPI("getHeight")+o.CMS_TOP_PADDING+parseInt(e)),e},toggle:function(t){return BCViewport.matchAny(this.disabled_viewports)?void this.$element.removeClass("active"):void(this.shown!==t&&(this.$element.toggleClass("active",!this.shown),this.shown=!this.shown))}});var a=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var i=t(this),r=i.data("bc.sticky_tab"),a=t.extend({},o.DEFAULTS,i.data(),"object"==typeof n&&n);r||i.data("bc.sticky_tab",r=new o(this,a)),"string"==typeof e&&r[e](n)})},s=function(){var t=r.scrollTop(),a=Math.abs(t-i),l=Math.min(a,t)>o.PIXELS_SCROLLED_SINCE_LAST_CHECK;if(l&&n.length>0){var c=t>r.height()*o.PERCENT_SCROLLED_BEFORE_SHOWING_TAB&&i>t;n.forEach(function(t){t.toggle(c)}),i=t}e.requestAnimationFrame(s)};t.fn.cp_sticky_tab=a,t.fn.cp_sticky_tab.Constructor=o,t(function(){t.datajs("sticky_tab").cp_sticky_tab(),s()})}(jQuery,this),/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
function(t){function e(e){var n=e||window.event,i=[].slice.call(arguments,1),r=0,o=0,a=0;return e=t.event.fix(n),e.type="mousewheel",n.wheelDelta&&(r=n.wheelDelta/120),n.detail&&(r=-n.detail/3),a=r,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,o=-1*r),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),i.unshift(e,r,o,a),(t.event.dispatch||t.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var i=n.length;i;)t.event.fixHooks[n[--i]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery);var BCStackMap={init:function(){$.datajs("get_stackmap_modal").each(function(t,e){$(e).overlay({remote:$(e).attr("href"),css_effect:"instant",open_callback:function(){BCStackMap.init_stackmap_utilities(e)}})})},init_stackmap_utilities:function(t){if(0!==$.datajs("map_info").length){$.datajs("stackmap_back_to").length>0&&$.datajs("stackmap_back_to").on("click",function(e){$(t).data("bc.overlay").close(e,!0)});{new BCStackMap.zoom_map({container:$(".stackmap_data"),originalHeight:$(".stackmap_image").data("height"),originalWidth:$(".stackmap_image").data("width")})}$(document).on("click",bc_datajs_selector("printer_friendly"),function(){BCStackMap.open_printer_friendly($(this).data("callno"),$(this).data("location"),$(this).data("library"),$(this).data("title"),$(this).data("domain"))}),$(".zoom-fit").click()}},set_coordinates:function(t,e){this.x=t,this.y=e},zoom_map:function(t){var e={boxHeight:500,boxWidth:900,container:jQuery("#SMmap-container"),fitX:0,fitY:0,lockEdges:!1,locXContents:".loc-x",locYContents:".loc-y",mapSelector:".stackmap_image",originalWidth:800,originalHeight:600,overlaySelector:".SMmap-overlay",sizeXContents:".size-x",sizeYContents:".size-y",windowSelector:".stackmap_image_container",zoomFactor:1.125,zoomFit:-1,zoomFitBtn:".zoom-fit",zoomInBtn:".zoom-in",zoomMin:1,zoomMax:1.423828125,zoomOutBtn:".zoom-out"},n=this;jQuery.extend(n,e,t),n.mapWindow=n.container.find(n.windowSelector),n.popupWindow=n.mapWindow.closest(".stackmap_data"),n.map=n.mapWindow.find(n.mapSelector),n.mapElem=n.map[0],n.overlay=n.mapWindow.find(n.overlaySelector),n.overlayElem=n.overlay[0],n.sizeXContents=n.overlay.find(n.sizeXContents),n.sizeYContents=n.overlay.find(n.sizeYContents),n.locXContents=n.overlay.find(n.locXContents),n.locYContents=n.overlay.find(n.locYContents),n.halfBoxHeight=n.boxHeight/2,n.halfBoxWidth=n.boxWidth/2,n.curZoomFactor=1,n.zoomFactorElem=n.mapWindow.find(n.zoomFactorSelector)[0],n.zoomMin=Math.min(n.boxWidth/n.originalWidth,n.boxHeight/n.originalHeight),n.zoomMin<1&&(n.zoomMin=Math.pow(n.zoomFactor,Math.floor(Math.log(n.zoomMin)/Math.log(n.zoomFactor)))),-1==n.zoomFit&&(n.zoomFit=n.zoomMin),n.curSize=new BCStackMap.set_coordinates,n.mousePosition=new BCStackMap.set_coordinates,n.moveMap=function(t,e){var i=t,r=e;if(n.lockEdges){var o=-n.curSize.x+n.boxWidth,a=-n.curSize.y+n.boxHeight;i=o>i?o:i,r=a>r?a:r,i=i>0?0:i,r=r>0?0:r}n.mapElem.style.left=i+"px",n.mapElem.style.top=r+"px",n.overlayElem.style.left=i+"px",n.overlayElem.style.top=r+"px"},n.setZoomFactor=function(t,e,i){if(n.curZoomFactor!=t){t<n.zoomMin&&(t=n.zoomMin),t>n.zoomMax&&(t=n.zoomMax);var r=n.map.position(),o=(-r.left+e)/n.curZoomFactor,a=(-r.top+i)/n.curZoomFactor;n.curZoomFactor=t,n.curSize.x=n.originalWidth*n.curZoomFactor,n.curSize.y=n.originalHeight*n.curZoomFactor,n.mapElem.style.width=n.curSize.x+"px",n.mapElem.style.height=n.curSize.y+"px",n.sizeXContents.each(function(){jQuery(this).width(Math.ceil(jQuery(this).attr("width")*n.curZoomFactor))}),n.sizeYContents.each(function(){jQuery(this).height(Math.ceil(jQuery(this).attr("height")*n.curZoomFactor))}),n.locXContents.css("top",function(){return jQuery(this).attr("y")*n.curZoomFactor}),n.locYContents.css("left",function(){return jQuery(this).attr("x")*n.curZoomFactor}),o=e-o*t,a=i-a*t,n.moveMap(o,a)}},n.setZoomFactor(n.zoomFit,n.halfBoxWidth,n.halfBoxHeight),n.mouseMove=function(t){t.preventDefault();var e=t.pageX-n.mousePosition.x+n.map.position().left,i=t.pageY-n.mousePosition.y+n.map.position().top;n.moveMap(e,i),n.mousePosition.x=t.pageX,n.mousePosition.y=t.pageY},n.map.mousedown(function(t){t.preventDefault(),n.mousePosition.x=t.pageX,n.mousePosition.y=t.pageY,jQuery(document).mousemove(n.mouseMove),jQuery(document).mouseup(function(){jQuery(document).unbind("mousemove")})}),n.container.find(n.zoomInBtn).click(function(){n.setZoomFactor(n.curZoomFactor*n.zoomFactor,n.halfBoxWidth,n.halfBoxHeight)}),n.container.find(n.zoomOutBtn).click(function(){n.setZoomFactor(n.curZoomFactor/n.zoomFactor,n.halfBoxWidth,n.halfBoxHeight)}),n.container.find(n.zoomFitBtn).click(function(){n.setZoomFactor(n.zoomFit,n.halfBoxWidth,n.halfBoxHeight),n.moveMap(n.fitX,n.fitY)}),n.mapWindow.mousewheel(function(t,e){var i=n.mapWindow.position(),r=n.popupWindow.position();n.setZoomFactor(n.curZoomFactor*Math.pow(n.zoomFactor,e),t.pageX-i.left-r.left,t.pageY-i.top-r.top),t.preventDefault()})},open_printer_friendly:function(t,e,n,i,r){var o="https://"+r+".stackmap.com/view/?callno="+t+"&amp;location="+e.replace("&amp;","%26")+"&amp;library="+n+"&amp;title="+i+"&amp;v=pf";return window.open(o,"stackmap","width=950,height=800,toolbar=no,directories=no,scrollbars=1,location=no,menubar=no,status=no,left=0,top=0"),!1}};!function(t,e){"use strict";var n=function(n,i){return this.$element=t(n),this.options=i,this.$expand_element=t(n).find(this.options.text_selector),this.$element.addClass("cp_expander_loaded"),this.$element.on("click",bc_datajs_selector("expand_action"),t.proxy(this.expand,this)),this.$element.on("click",bc_datajs_selector("collapse_action"),t.proxy(this.collapse,this)),this.check_line_height(!1),t(e).on("resize",this.check_line_height.bind(this)),this};n.DEFAULTS={text_selector:bc_datajs_selector("expand-text"),lines_to_show:1},t.extend(n.prototype,{check_line_height:function(t){if(!t||!is_mobile_device()){this.$expand_element.css("height","");{var e=this.$element.datajs("collapse_expand_actions"),n=parseInt(this.$expand_element.css("line-height")),i=this.options.lines_to_show,r=this.$expand_element.height(),o=n*i,a=parseInt(this.$expand_element.css("padding-bottom"));parseInt(this.$expand_element.css("padding-top"))}return this.collapsed_height=o+a,r>o?(e.show(),this.$expand_element.height(this.collapsed_height),this.$expand_element.css("overflow","hidden"),this.collapse()):e.hide(),this}},collapse:function(){return this.$element.datajs("collapse_action").hide(),this.$element.datajs("expand_action").show(),this.$expand_element.animate({height:this.collapsed_height}),this},expand:function(){return this.$element.datajs("collapse_action").show(),this.$element.datajs("expand_action").hide(),this.$expand_element.css("height","100%"),this}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.expander"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.expander",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_expander=i,t.fn.cp_expander.Constructor=n}(jQuery,this),function(t,e){"use strict";e.registerHelper("isExtra",function(t,e){return t>5?e.fn(this):e.inverse(this)}),e.registerHelper("hasExtra",function(t,e){return t.length>5?e.fn(this):void 0});var n=function(e,n){return this.$target=t(e),this.options=n,this.fetchReadAlikeLists(this.$target.data("item-id")),this};n.DEFAULTS={templateId:"#cp_read_alike_handlebars",baseUrl:"/item/read_alike_list/"},t.extend(n.prototype,{buildRequestUrl:function(t){var e;return e=[this.options.baseUrl,t,".json"],e.join("")},fetchReadAlikeLists:function(e){t.getJSON(this.buildRequestUrl(e),t.proxy(this.renderListView,this))},renderListView:function(n){var i=e.compile(t(this.options.templateId).html()),r=i(n);this.$target.html(r),this.$target.find(".expand").bc_expander()}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.read_alike_list"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.read_alike_list",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_read_alike_list=i,t.fn.cp_read_alike_list.Constructor=n,t(function(){t.datajs("cp_read_alike_list").cp_read_alike_list({})})}(jQuery,Handlebars),function(t,e){"use strict";var n=function(n,i){if(BCViewport.matchAny("xs")){this.options=i,this.$element=t(n);var r=this.$element.html();this.$element.overlay({open_on_init:!0,content:r,css_effect:"fade_in",open_callback:function(){this.add_cookie(),this.$element=t("#overlay").datajs("language_prompt_container"),this.locale=this.$element.data("locale"),this.original_locale=this.$element.data("current-locale"),this.current_locale=this.original_locale,this.$element.on("click",bc_datajs_selector("go_to_next_language_step"),this.next_step.bind(this)),this.$element.on("click",bc_datajs_selector("keep_language"),this.change_language.bind(this,this.original_locale))}.bind(this),close_callback:function(){this.current_locale!==this.original_locale&&e.location.refresh()}.bind(this)})}};t.extend(n.prototype,{add_cookie:function(){t.cookie("language_prompted","true",{expires:90,path:"/"})},next_step:function(t){t.preventDefault(),this.$element.removeClass("show_step_one").addClass("show_step_two"),this.change_language(this.locale)},change_language:function(e){t.ajax({url:"/info/switch_language",method:"POST",dataType:"json",show_spinner:!1,data:{selected_language:e,no_refresh:"true"}}),this.current_locale=e}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.language_prompt_overlay"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.language_prompt_overlay",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_language_prompt_overlay=i,t.fn.cp_language_prompt_overlay.Constructor=n,t(function(){t.datajs("language_prompt_overlay").cp_language_prompt_overlay()})}(jQuery,this),function(t){"use strict";var e=function(){this.show_more_btn=t.datajs("activity_feed_show_more"),this.type_filter=t.datajs("activity_feed_type_filter"),this.page_size=5,this.request_url=t.datajs("activity_feed").data("request_url"),this.user_id=t.datajs("activity_feed").data("user_id"),this.type_filter.val("ALL"),this.show_more_btn.on("click",t.proxy(this.init_show_more_btn,this)),this.type_filter.on("change",t.proxy(this.init_type_filter,this)),this.acknowledge_unread(t.datajs("activity_feed").datajs("unread"))};e.DEFAULTS={},t.extend(e.prototype,{init_show_more_btn:function(e){e.preventDefault();var n={page:parseInt(t.datajs("activity_feed").data("page"))+1,page_size:this.page_size,feed_type:this.type_filter.val()};this.send_request(n,"append")},init_type_filter:function(){var t={page:0,page_size:this.page_size,feed_type:this.type_filter.val()};this.send_request(t,"replace")},send_request:function(e,n){var i=this;t.ajax({url:this.request_url,data:t.param(e),type:"GET",dataType:"json",success:function(r){var o=t.parseHTML(r.html);t(o).datajs("user_card").cp_user_card(),"replace"==n?(t.datajs("activity_feed_content").html(o),t.datajs("activity_feed").data("page",0)):(t.datajs("activity_feed_content").append(o),t.datajs("activity_feed").data("page",e.page)),r.show_more?t.datajs("activity_feed_show_more").show():t.datajs("activity_feed_show_more").hide();var a=t(o).datajs("feed_item_jacket_cover").length;a>0&&t.datajs("activity_feed_content").datajs("feed_item_jacket_cover").slice(-a).each(function(){validate_jacket_image(t(this))}),ReactRailsUJS.mountComponents(),i.acknowledge_unread(t(o).filter(bc_datajs_selector("unread")))}})},acknowledge_unread:function(e){var n=[];t(e).each(function(){n.push(t(this).attr("id"))}),n.length>0&&t.ajax({url:"/notification_feed/"+this.user_id+"/acknowledge_unread",data:{unread_notifications:n},type:"POST",dataType:"json",show_spinner:!1})}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.activity_feed"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.activity_feed",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_activity_feed=n,t.fn.cp_activity_feed.Constructor=e,t(function(){t.datajs("activity_feed").cp_activity_feed({})})}(jQuery,this),function(t,e){"use strict";function n(){return t("<button>",{"class":"close","data-dismiss":"alert","aria-label":"Close"}).html('<span aria-hidden="true">&times;</span>')}var i=function(e,n){this.$element=t(e),this.$container=this.$element.closest(bc_datajs_selector("save_search_container")),this.$trigger=this.$element.datajs("save_search_trigger"),this.$backdrop=null,this.$form=null,this.options=n;var i=this.$element.siblings(bc_datajs_selector("search_query")).text().trim();this.$trigger.bc_inline_overlay({before_open_callback:this.show_backdrop.bind(this),open_callback:this.show.bind(this),close_callback:this.hide.bind(this),content:function(){var e=t("#"+n.template_id);if(0===e.length)return"";var r=Handlebars.compile(e.html());return r({current_query:i})},container:this.$container,inline_messaging:!0,classes:"save_search_overlay"})};i.DEFAULTS={backdrop_container:"#main",backdrop_class:"save_search_backdrop",template_id:"tmpl_save_search_form"},i.MESSAGE_SHOWN_DURATION=5e3,i.FADE_OUT_ANIMATION_DURATION=400,t.extend(i.prototype,{show:function(){this.$form=this.$container.datajs("save_search_form"),this.$form.datajs("search_string").val(this.search_string()),this.$form.datajs("choose_new_name").on("click",function(t){t.preventDefault(),this.remove_messages(0),this.$form.removeClass("duplicate_form")}.bind(this)),this.$form.on("ajax:send",this.save.bind(this)),this.$form.on("ajax:success",this.success.bind(this)),this.$form.on("ajax:error",this.success.bind(this))},hide:function(){this.$backdrop&&(this.$backdrop.removeClass("active"),this.$backdrop.one("bsTransitionEnd",function(){this.$backdrop.remove(),this.$backdrop=null}.bind(this)).emulateTransitionEnd(i.FADE_OUT_ANIMATION_DURATION))},show_backdrop:function(){this.remove_messages(0),null===this.$backdrop&&(this.$backdrop=t('<div class="'+this.options.backdrop_class+'"></div>'),t(this.options.backdrop_container).css("position","relative").append(this.$backdrop),this.$backdrop.addClass("active"))},save:function(){this.$container.datajs("save_button").bootstrap_btn("saving")},error:function(t,e){if("authentication"===e.error)return void this.$trigger.bc_inline_overlay("close");if(e.duplicate===!0){var n=this.$form.datajs("search_name").val();this.$form.addClass("duplicate_form"),this.$form.datajs("search_name_replace").text(n),this.$form.datajs("original_search_name").val(n)}this.$container.datajs("save_button").bootstrap_btn("reset"),e.messages&&this.$form.datajs("messaging").html(e.messages),this.$trigger.bc_inline_overlay("adjust_height")},success:function(e,r){if(r.success===!1||r.duplicate===!0)return this.error.apply(this,arguments);this.$trigger.bc_inline_overlay("close");var o=t("<div></div>",{"data-js":"messaging"}),a=t(r.messages);a.prepend(n()),o.append(a),this.$container.prepend(o),setTimeout(this.remove_messages.bind(this,i.FADE_OUT_ANIMATION_DURATION),i.MESSAGE_SHOWN_DURATION)},search_string:function(){var n=e.location.search.toString(),i=t.deparam(n.substring(1));return i.page="1","?"+t.param(i)},remove_messages:function(t){var e=this.$container.datajs("messaging");this.$form&&e.add(this.$form.datajs("messaging").find(".alert")),null!==e&&e.fadeOut(t,function(){e.remove(),this.$trigger.bc_inline_overlay("adjust_height")}.bind(this))}});var r=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var r=t(this),o=r.data("bc.save_search"),a=t.extend({},i.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bc.save_search",o=new i(this,a)),"string"==typeof e&&o[e](n)})};t.fn.cp_save_search=r,t.fn.cp_save_search.Constructor=i,t(function(){t.datajs("save_search").cp_save_search()})}(jQuery,this),function(t,e,n){"use strict";var i=function(e,n){this.$trigger=t(e),this.options=n;var i={placement:"auto bottom",content:this.get_html(),html:!0,trigger:"manual",container:this.$trigger};if(this.options.active===!1)return!1;if(is_mobile_device()){var r=this.$trigger.find(bc_datajs_selector("a","username")).popover(i);r.on("tap",t.proxy(this.tap_toggle,r)).on("mouseenter",t.noop).on("mouseleave",t.noop).on("click",t.proxy(this.no_click,r))}else{var r=this.$trigger.popover(i);r.on("mouseenter",t.proxy(this.hover_show,r)).on("mouseleave",t.proxy(this.hover_hide,r)).on("click",t.noop)}return this};i.DEFAULTS={},i.CARD_DELAY=500,t.extend(i.prototype,{tap_toggle:function(){var e=t(this);e.data("popover_shown")?e.removeData("popover_shown").popover("hide"):e.data("popover_shown",!0).popover("show")},no_click:function(t){t.preventDefault()},hover_show:function(){var e=t(this);if(e.data("popover_shown"));else{var n=setTimeout(function(){e.popover("show"),e.find(".arrow").css("top",""),"undefined"!=typeof BCGoogleAnalytics&&BCGoogleAnalytics.sendAll("event","user_card","hover","User Card Trigger"),t.datajs("user-action-message").modal({send_forms:!0,aria_describedby:"aria_send_message"}),t.datajs("follow_ignore_actions").cp_follow_ignore_actions()},i.CARD_DELAY);e.data("popover_shown",n)}},hover_hide:function(){var e=t(this);e.data("popover_shown")&&(clearTimeout(e.data("popover_shown")),e.removeData("popover_shown")),e.popover("hide")},get_html:function(){var i=e.compile(t.datajs("user_card_template").html());return i({id:this.options.id,libraryMembership:this.options.libraryMembership,avatar:this.options.avatar,initial:this.options.initial,name:this.options.name,libraryName:this.options.libraryName,staff:this.options.staff,target_user_id:this.options.id,is_currently_logged_in_user:this.options.id===n,show_message_button:!this.options.isMinor&&this.options.id!==n})}});var r=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var r=t(this),o=r.data("bc.user_card"),a=t.extend({},i.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bc.user_card",o=new i(this,a)),"string"==typeof e&&o[e](n)})};t.fn.cp_user_card=r,t.fn.cp_user_card.Constructor=i,t(function(){t.datajs("user_card").cp_user_card()})}(jQuery,Handlebars,BC_USER_ID),function(t,e){"use strict";function n(n,i,o,a,l){var c={attachTo:{element:bc_datajs_selector(i.attachTo.datajs),on:i.attachTo.position},title:i.title,text:i.text+r(l,a),scrollTo:!0,scrollToHandler:function(e){elementIsVisible(e)||t("html, body").animate({scrollTop:t(e).offset().top},"fast")},showCancelLink:"boolean"==typeof i.showCancelLink?i.showCancelLink:!0,when:{show:function(){var n=t(".shepherd-enabled"),r=function(n){var r=n.hasClass("shepherd-pinned");if(r){var o,a=t.datajs(i.attachTo.datajs),l=a.offset(),c=n.hasClass("shepherd-pinned-left")||n.hasClass("shepherd-abutted-left"),u=document.styleSheets[0];o=c?l.left+16+a.width()/2:e.innerWidth-l.left-16-a.width()/2;var h=(c?"left":"right")+": "+o+"px";u.insertRule?u.insertRule(s+" { "+h+"; }",u.cssRules.length):u.addRule&&u.addRule(s,h)}};r(n),t(e).on("resize.fixArrowPosition",r.bind(this,n)),"function"==typeof i.openCallback&&i.openCallback(),t.datajs("help_popout").popupWindow()},hide:function(){"function"==typeof i.closeCallback&&i.closeCallback(),t(e).off("resize.fixArrowPosition"),i.onboardingFlagName&&t.ajax({url:"/onboarding",method:"POST",data:{id:i.onboardingFlagName},show_spinner:!1,dataType:"json"})}}};c.buttons=i.buttons||[],c.buttons.push(a===l.length-1?{text:BCLang.help_bubble.close_text,action:n.complete}:{text:BCLang.help_bubble.next_text,action:n.next}),n.addStep(o,c)}function i(n,i){var r=e.USER_ONBOARDING_FLAGS;return"undefined"==typeof r?!1:t.datajs(n.attachTo.datajs).is(":visible")?!i&&"undefined"!=typeof r&&n.onboardingFlagName&&r[n.onboardingFlagName]===!0?!1:"boolean"==typeof n.canBeShown?n.canBeShown:"function"==typeof n.canBeShown?n.canBeShown():!0:!1}function r(e,n){return 1===e.length?"":(null===a&&(a=Handlebars.compile(t.datajs("tour_dots_template").html())),a({steps:e,currentStep:n}))}var o=function(e){if("object"==typeof e)this.name=e.tourName,this.steps=e.steps||[];else{if("string"!=typeof e)return void t.error("[BCTour] BCTour must be initialized with the tour data (object) or the tour name (string)");this.name=e,this.steps=[]}return o.tours[this.name]=this,this},a=null,s=".shepherd-active .cp_shepherd.shepherd-step.shepherd-element.shepherd-pinned .shepherd-content:before";o.tours={},o.queue=[],Shepherd.on("inactive",function(){if(!Shepherd.activeTour&&o.queue.length>0){var t=o.queue.shift();t.start()}}),o.startTour=function(t,e){var n=o.tours[t];n&&n.start(e)},t.extend(o.prototype,{addStep:function(e,n){return this.steps.push(t.extend(!0,{},n,{stepName:e})),this},addShowableStepsToShepherdTour:function(t){return this.steps.filter(function(e){return i(e,t)}).forEach(function(t,e,i){n(this.shepherdTour,t,t.stepName||"step_"+e,e,i)}.bind(this)),this},start:function(t){return this.shepherdTour=l(),Shepherd.activeTour?o.queue.push(this):(this.addShowableStepsToShepherdTour(t),this.shepherdTour.steps.length>0&&this.shepherdTour.start()),this}});var l=function(){return new Shepherd.Tour({defaults:{classes:"shepherd-theme-arrows-plain-buttons cp_shepherd"}})};Handlebars.registerHelper("isTourDotFilledIn",function(t,e,n){return t>=e?n.fn(this):n.inverse(this)}),e.BCTour=o}(jQuery,this),function(t){"use strict";var e=function(){this.bind_ignore_checkbox(),this.bind_import_form()};e.DEFAULTS={},t.extend(e.prototype,{bind_import_form:function(){t.datajs("import_request_form").on("submit",function(e){e.preventDefault();var n=t(this);t.ajax({type:"post",url:n.attr("action"),data:n.serialize(),dataType:"json"})})},bind_ignore_checkbox:function(){var e=t.datajs("cp_ugc_import");t.datajs("ignore_import_checkbox").on("change",function(n){n.preventDefault(),t.ajax({type:"POST",url:"/user/ignore_ugc_import.json",dataType:"json",success:function(){e.closest(".row").slideUp()}})})}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("bc.ugc_import"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.ugc_import",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_ugc_import=n,t.fn.cp_ugc_import.Contructor=e,function(){t.datajs("cp_ugc_import").cp_ugc_import()}()}(jQuery,this),function(t){"use strict";var e=function(e){this.$trigger=t(e),this.$trigger.overlay({remote:this.$trigger.attr("data-source-url"),close_on_outer_click:!1,css_effect:"instant",open_callback:t.proxy(this.overlay_callback,this)})};e.DEFAULTS={},t.extend(e.prototype,{overlay_callback:function(){t(".suggest_purchase_popular_authors").popupWindow(),this.validate_form(),t("#add_suggestion_form, #edit_suggestion_form").datajs("real_submit_button").on("click.s4psubmit",function(){t("#add_suggestion_form").valid()&&(t(this).hide(),t.datajs("dummy_submit_button").show())}),t.datajs("bc-tooltip").length>0&&t.datajs("bc-tooltip").popover({content:tidyTitles(t.datajs("bc-tooltip").attr("alt")),html:!0})},validate_form:function(){var e=this;t("#add_suggestion_form, #edit_suggestion_form").validate({rules:{title:{required:!0},author:{required:!0},suggestedFormat:{required:!0},publication_date_sp:{s4pYearRange:[(new Date).getFullYear()+1]},suggestedLanguage:{required:!0},suggestedAudience:{required:!0},fictype:{required:!0}},submitHandler:function(n){return t.post(t(n).attr("action"),t(n).serialize(),e.form_submit_callback,"json"),!1}})},form_submit_callback:function(e){e.close_popup&&this.$trigger.overlay("close"),"undefined"!=typeof e&&e.possible_matches&&(t("#suggestion_matches").html(e.possible_matches).show(),t("#add_suggestion_fields").hide(),t("#confirmSubmission").val(!0),t.datajs("real_submit_button").show(),t.datajs("dummy_submit_button").hide()),t.datajs("s4p_back_to_form").on("click",function(e){e.preventDefault(),t("#suggestion_matches").hide(),t("#add_suggestion_fields").show(),t("#confirmSubmission").val(!1)})}});var n=function(n,i){return"object"==typeof n&&(i=n),this.each(function(){var r=t(this),o=r.data("CPSuggestForPurchase"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("CPSuggestForPurchase",o=new e(this,a)),"string"==typeof n&&o[n](i)})};t.fn.cp_suggest_for_purchase=n,t.fn.cp_suggest_for_purchase.Contructor=e,function(){t.datajs("cp_suggest_for_purchase").cp_suggest_for_purchase()}()}(jQuery),function(t){"use strict";var e=function(n,i){var r=this,o=t(n).data("suggestion")||{};this.suggestion_data=t.extend({},o),this.overlay_trigger=n,this.options=i||{},this.current_step=e.step_names[0],t.each(e.workflow_steps,function(t,e){e.validation.submitHandler=function(){r.updateSuggestionData(),r.goToNextStep()}}),this.reloadWorkflowOverlay(this.current_step)};e.workflow_endpoint="/suggested_purchases/add_suggestion_",e.step_names=["start","details","review","submit"],e.workflow_steps={start:{validation:{rules:{title:{required:!0},author:{required:!0},publication_year:{s4pYearRange:[(new Date).getFullYear()+1]}}}},details:{validation:{rules:{format:{required:!0},audience:{required:!0},fiction_type:{required:!0},language:{required:!0}}}},review:{validation:{}},notes:{validation:{}}},t.extend(e.prototype,{updateSuggestionData:function(){var e=this;t(e.getForm()).serializeArray().map(function(t){e.suggestion_data[t.name]=t.value})},goToNextStep:function(){this.overlay_trigger=this.getNextStepButton();var t=e.step_names,n=t[t.indexOf(this.current_step)+1];this.reloadWorkflowOverlay(n)},goToPreviousStep:function(){this.overlay_trigger=this.getPreviousStepButton();var t=e.step_names,n=t[t.indexOf(this.current_step)-1];this.reloadWorkflowOverlay(n)},initializeButtons:function(){var t=this;this.getNextStepButton().on("click.s4p",function(){t.getForm().submit()}),this.getPreviousStepButton().on("click.s4p",function(){t.updateSuggestionData(),t.goToPreviousStep()}),this.getPreviousStepButton().prop("disabled",!1),this.getNextStepButton().prop("disabled",!1)},initalizeFormValidation:function(){var t=e.workflow_steps[this.current_step].validation;t&&this.getForm().validate(t)},reloadWorkflowOverlay:function(n){var i=this;t.post(e.workflow_endpoint+n,this.suggestion_data,function(e){e.reload||(t(i.overlay_trigger).overlay({content:e.html,close_on_outer_click:!1,open_callback:function(){i.current_step=n,i.initalizeFormValidation(i.current_step),i.initializeButtons()},open_on_init:!0}),i.options.step_loaded_callback&&i.options.step_loaded_callback())},"json")},getOverlayContainer:function(){return t(this.overlay_trigger).data("bc.overlay").$container},getNextStepButton:function(){return this.getOverlayContainer().datajs("next_step")},getPreviousStepButton:function(){return this.getOverlayContainer().datajs("previous_step")},getForm:function(){return this.getOverlayContainer().datajs("add_suggestion_form")}}),t.fn.cp_add_suggestion_overlay=function(n){return this.each(function(){var i=t(this);i.off("click.CPAddSuggestionOverlay").on("click.CPAddSuggestionOverlay",function(){var t=new e(this,n);i.data("CPAddSuggestionOverlay",t)})})},t.fn.cp_add_suggestion_overlay.Contructor=e,t(document).on("contentchange ready",function(){t.datajs("cp_add_suggestion_overlay").cp_add_suggestion_overlay()})}(jQuery,window);var ConfirmationPrompt={get_html:function(t){var e;t.confirmation_msg&&(e=t.confirmation_msg);var n=Handlebars.compile($("#confirmation_prompt_tpl").html());return n({title:t?t.confirmation_title:!1,message:e})},html_callback:function(){$.datajs("pretty-checkbox").cp_pretty_checkbox()},get_ignored_prompts:function(){return $.cookie("confirmation_prompts")},is_prompt_ignored:function(t){var e=ConfirmationPrompt.get_ignored_prompts();if(t&&e){var n=e.split(":");if(-1!=$.inArray(t,n))return!0}return!1},handle_ignore:function(t){if(at_local_branch.length>0)return!1;var e=$.datajs("conf_prompt_ignore");if(e.prop("checked")===!0){var n,i=ConfirmationPrompt.get_ignored_prompts();if(i){var r=i.split(":");-1==$.inArray(t,r)&&r.push(t),n=r.join(":")}else n=t;return $.cookie("confirmation_prompts",n,{expires:7300,path:"/"}),n}},handle_proceed_from_prompt:function(t,e,n){var i=new $.Deferred;return $.datajs("conf_proceed_btn").on("click",function(r){r.preventDefault(),ConfirmationPrompt.handle_ignore(e),t.trigger(n),i.resolve()}),i.promise()},handle_proceed_direct:function(t,e){return t.trigger(e),$.Deferred().resolve().promise()}};!function(t,e){"use strict";var n=function(e,n){return this.$element=t(e),this.options=n,this.prompt_key=n.promptKey,this.confirmation_msg=n.confirmationMessage,this.confirmation_title=n.confirmationTitle,this.future_event=n.futureEvent,this.hideDoNotShowAgain=n.hideDoNotShowAgain,this.prompt_key?this.future_event?(this.$element.on("click.bc.confirmation_prompt_modal",t.proxy(this.show,this)),this):void t.error("CPConfirmationPromptModal requires 'future_event' to be a data attribute"):void t.error("CPConfirmationPromptModal requires 'prompt-key' to be a data attribute")};n.DEFAULTS={},t.extend(n.prototype,{show:function(n){n.preventDefault();var i=this;e.is_prompt_ignored(i.prompt_key)?e.handle_proceed_direct(i.$element,i.future_event):t.modal("show",{content:e.get_html({confirmation_title:i.confirmation_title,confirmation_msg:i.confirmation_msg}),callback:function(){if(e.html_callback(),i.options.hideDoNotShowAgain){var n=this.$modal.datajs("confirmation-prompt-do-not-show-again");n&&n.hide()}e.handle_proceed_from_prompt(i.$element,i.prompt_key,i.future_event).done(function(){t.modal("hide")})}})}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.confirmation_prompt_modal"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.confirmation_prompt_modal",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_confirmation_prompt_modal=i,t.fn.cp_confirmation_prompt_modal.Constructor=n,t(function(){t.datajs("confirmation_prompt_modal").cp_confirmation_prompt_modal()})}(jQuery,ConfirmationPrompt),function(t,e){"use strict";var n=function(e,n){return this.$element=t(e),this.options=n,this.prompt_key=n.promptKey,this.target_element=n.targetElement,this.confirmation_msg=n.confirmationMessage,this.future_event=n.futureEvent,this.prompt_key?this.target_element?this.future_event?(this.$element.on("click.bc.confirmation_prompt_inline_overlay",t.proxy(this.show,this)),this):void t.error("CPConfirmationPromptInlineOverlay requires 'future_event' to be a data attribute"):void t.error("CPConfirmationPromptInlineOverlay requires 'target-element' to be a data attribute"):void t.error("CPConfirmationPromptInlineOverlay requires 'prompt-key' to be a data attribute")};n.DEFAULTS={},t.extend(n.prototype,{show:function(n){n.preventDefault();var i=this;e.is_prompt_ignored(i.prompt_key)?e.handle_proceed_direct(i.$element,i.future_event):i.$element.bc_inline_overlay({content:e.get_html({confirmation_msg:i.confirmation_msg}),container:t.datajs(i.target_element),open_on_init:!0,open_callback:function(t){e.html_callback(),e.handle_proceed_from_prompt(i.$element,i.prompt_key,i.future_event).done(function(){t.close()})}})}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.confirmation_prompt_inline_overlay"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.confirmation_prompt_inline_overlay",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_confirmation_prompt_inline_overlay=i,t.fn.cp_confirmation_prompt_inline_overlay.Constructor=n,t(function(){t.datajs("confirmation_prompt_inline_overlay").cp_confirmation_prompt_inline_overlay()})}(jQuery,ConfirmationPrompt),function(t,e,n,i){"use strict";var r=function(e,i){return this.$container=t(e),this.options=i,this.target_user_id=this.options.targetUserId,0==n?void this.$container.html("<!--CPFollowIgnoreActions - Requires user to be logged in.-->"):n==this.target_user_id?void this.$container.html("<!--CPFollowIgnoreActions - Can't follow yourself.-->"):(this.init_ui(),this)};r.DEFAULTS={follow_callback:t.noop,unfollow_callback:t.noop,ignore_callback:t.noop,unignore_callback:t.noop,btn_classes:"btn btn-ugc btn-flat btn-sm"},r.follow_actions_container=bc_datajs_selector("follow_actions_container"),r.ignore_actions_container=bc_datajs_selector("ignore_actions_container"),t.extend(r.prototype,{init_ui:function(){var n=e.compile(t("#follow_ignore_template").html());this.$container.html(n({target_user_id:this.target_user_id})),this.$ui_wrapper=this.$container.find(bc_datajs_selector("follow_ignore_ui_"+this.target_user_id)),this.is_user_ignored()===!0?(this.show_unignore_button(),this.clear_follow_actions()):(this.is_user_followed()===!0?this.show_unfollow_button():this.show_follow_button(),this.show_ignore_button()),this.bind_templates()
},follow:function(e){e&&e.preventDefault(),t.ajax({url:t(e.currentTarget).attr("href"),method:"PUT",dataType:"json"}).done(function(t){t.success&&(this.show_unfollow_button(),this.bind_templates(),i.update_followed_cookie(t.users_followed),this.options.follow_callback.apply(this))}.bind(this))},unfollow:function(e){e&&e.preventDefault(),t.ajax({url:t(e.currentTarget).attr("href"),method:"PUT",dataType:"json"}).done(function(t){t.success&&(this.show_follow_button(),this.bind_templates(),i.update_followed_cookie(t.users_followed),this.options.unfollow_callback.apply(this))}.bind(this))},ignore:function(e){e&&e.preventDefault(),t.ajax({url:t(e.currentTarget).attr("href"),method:"POST",dataType:"json"}).done(function(t){t.success&&(this.show_unignore_button(),this.clear_follow_actions(),this.bind_templates(),i.update_ignored_cookie(t.users_ignored),i.update_followed_cookie(t.users_followed),this.options.ignore_callback.apply(this))}.bind(this))},unignore:function(e){e&&e.preventDefault(),t.ajax({url:t(e.currentTarget).attr("href"),method:"POST",dataType:"json"}).done(function(t){t.success&&(this.show_ignore_button(),this.show_follow_button(),this.bind_templates(),i.update_ignored_cookie(t.users_ignored),this.options.unignore_callback.apply(this))}.bind(this))},bind_templates:function(){this.$ui_wrapper.find("a[data-action~=follow]").on("click",this.follow.bind(this)),this.$ui_wrapper.find("a[data-action~=unfollow]").on("click",this.unfollow.bind(this)),this.$ui_wrapper.find("a[data-action~=ignore]").on("click",this.ignore.bind(this)),this.$ui_wrapper.find("a[data-action~=unignore]").on("click",this.unignore.bind(this))},show_follow_button:function(){var n=e.compile(t("#following_btn").html());this.$ui_wrapper.find(r.follow_actions_container).html(n({target_user_id:this.target_user_id,btn_classes:this.options.btn_classes}))},show_unfollow_button:function(){var n=e.compile(t("#unfollowing_btn").html());this.$ui_wrapper.find(r.follow_actions_container).html(n({target_user_id:this.target_user_id,btn_classes:this.options.btn_classes}))},clear_follow_actions:function(){this.$ui_wrapper.find(r.follow_actions_container).html("")},is_user_followed:function(){var e=t.inArray(this.target_user_id,i.users_followed_array());return 0===e||e>0?!0:!1},show_unignore_button:function(){var n=e.compile(t("#unignore_btn").html());this.$ui_wrapper.find(r.ignore_actions_container).html(n({target_user_id:this.target_user_id,btn_classes:this.options.btn_classes}))},show_ignore_button:function(){var n=e.compile(t("#ignore_btn").html());this.$ui_wrapper.find(r.ignore_actions_container).html(n({target_user_id:this.target_user_id,btn_classes:this.options.btn_classes}))},is_user_ignored:function(){var e=t.inArray(this.target_user_id,i.users_ignored_array());return 0===e||e>0?!0:!1}});var o=function(e,n){return"object"==typeof e&&(n=e),this.each(function(){var i=t(this),o=i.data("bc.follow_ignore"),a=t.extend({},r.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bc.follow_ignore",o=new r(this,a)),"string"==typeof e&&o[e](n)})};t.fn.cp_follow_ignore_actions=o,t.fn.cp_follow_ignore_actions.Constructor=r,t(function(){t.datajs("follow_ignore_actions").cp_follow_ignore_actions()})}(jQuery,Handlebars,BC_USER_ID,FollowIgnoreCookieHandler),function(t){function e(t){bc_request_ajax_cache[t.url]?t.success_callback.call(this,bc_request_ajax_cache[t.url]):n(t)}function n(e){t.ajax({url:e.url,dataType:"json",show_spinner:e.spinner,success:function(t){r(e,t),o(e,t)},error:function(){i(e)}})}function i(t){t.failure_callback&&t.failure_callback.call(this)}function r(t,e){t.success_callback&&t.success_callback.call(this,e)}function o(t,e){bc_request_ajax_cache[t.url]=e}var a={url:null,type:"session",success_callback:!1,failure_callback:!1,spinner:!1},s={init:function(n){var i=t.extend({},a,n);i.url||console.warn("No url to cache"),"session"===i.type&&e(i)}};t.fn.bc_ajax_cache=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:s.init.apply(this,arguments)}}(jQuery),function(t){t.bc_init_personal_btn_wrap=function(){t.datajs("btn_wrap").each(function(e,n){var i=t(n).closest(".btn, "+bc_datajs_selector("wrapper_btn")),r=i.height(),o=t(n);if(o.outerHeight()<=r){o.addClass("pull-left"),o.css("height",r),i[0].offsetWidth,r=i.height(),o.css("height","");var a=o.innerHeight()-parseInt(o.css("padding-top"))-parseInt(o.css("padding-bottom")),s=(r-a)/2;s+=parseInt(o.css("padding-top")),o.css({"padding-top":s,"padding-bottom":s})}})}}(jQuery),function(t){function e(t,e,n){var i=l(t,e);"undefined"==typeof i?n.reject():n.resolve(i)}function n(e,n){var i=e;return n&&(i=n+e),t.btoa(i)}function i(e,n){return t.btoa(JSON.stringify(e)+n)}function r(e,n){var i=t.atob(e);return JSON.parse(i.substring(0,i.length-n.length))}function o(){return"atob"in t&&"btoa"in t&&"localStorage"in t}function a(t){return t.key?!0:(console.err("A key must be passed to the caching functions"),!1)}function s(e){var r={value:e.value,expiration_time:Date.now()+e.ttl};o()?t.localStorage.setItem(n(e.key,e.secret),i(r,e.secret)):$.cookie(e.key+e.secret,JSON.stringify(e.value),{expires:e.ttl/u})}function l(e,i){var a,s=n(e,i);if(o()){var l=t.localStorage.getItem(s);if(l){var c=r(l,i);if(Date.now()>c.expiration_time)return void t.localStorage.removeItem(s);a=c.value}}else a=$.cookie(e+i),"string"==typeof a&&(a=JSON.parse(decodeURIComponent(a)));return a}var c={},u=864e5,h=2*u;return c.get=function(t){var n=$.Deferred();return bc_feature.BorrowingWidgetCaching!==!0?n.reject():e(t.key,t.secret,n),n.promise()},c.set=function(t){bc_feature.BorrowingWidgetCaching===!0&&a(t)&&("number"!=typeof ttl&&(t.ttl=h),s(t))},t.BCLocalCache=c,c}(this),$(document).ready(function(){$("#savedUserSearches").list({actions:[{type:"quantity",trigger:$("#savedUserSearches .quantitySelector select")}]}),$("#accountMessagesList").list(),"undefined"==typeof USER_PRESENT&&(USER_PRESENT=!1),$.datajs("edit_ugc_details").list({actions:[{type:"edit_details"}]});var t=$("#adminMessages").datajs("input","delete_msg");$("#adminMessages").list({actions:[{trigger:t,action:"delete",ga:"delete",type:"simple"},{type:"quantity",trigger:$("#adminMessages .quantitySelector select")}]});var e=$("#userLists").datajs("input","delete_list");$("#userLists").list({actions:[{trigger:e,action:swap_action(window.location.href,"delete"),ga:"delete",type:"simple"},{type:"quantity",trigger:$("#userLists .quantitySelector select")}]});var n=$("#ignoredUserList").datajs("input","delete");$("#ignoredUserList").list({actions:[{trigger:n,action:"ignoredusers/delete",ga:"delete",ga_category:"ignoredusers",type:"simple"},{type:"quantity",trigger:$("#ignoredUserList .quantitySelector select")}]});var i=$("#finesList"),r=i.datajs("input","pay_all_fines"),o=i.datajs("input","pay_selected_fines");i.list({actions:[{trigger:o,type:"payflow_submit"},{trigger:r,type:"payall_submit"}]}),$("#communitycredits").list({actions:[{type:"quantity",trigger:$("#communitycredits .quantitySelector select")}]}),$("#suggestedPurchasesList").list({actions:[{type:"quantity",trigger:$("#suggestedPurchasesList .quantitySelector select")}]}),$.datajs("holds-list").list({actions:[{type:"hold_dates"},{type:"pickup"}]});var a=$("#checkedoutList").datajs("input","renew"),s=$("#checkedoutList").datajs("input","digital_return");$("#checkedoutList").list(renew_enabled===!0?{actions:[{trigger:a,action:"checkedout/renew",ga_category:"checkedout",ga:"renew",type:"simple"},{type:"simple",trigger:s,action:"checkedout/digital_return",ga_category:"checkedout",ga:"digital_return"},{type:"edit_details"},{type:"quantity",trigger:$("#checkedoutList .quantitySelector select")}]}:{actions:[{type:"edit_details"},{type:"simple",trigger:s,action:"checkedout/digital_return",ga_category:"checkedout",ga:"digital_return"},{type:"quantity",trigger:$("#checkedoutList .quantitySelector select")}]})});var currentQuery,global_facets={},bc_request_ajax_cache={};window.dont_spin=!1,$.fn.bootstrap_btn=$.fn.button.noConflict(),$(document).ready(function(){function t(t,e){if($(e).off(".validatePreferenceUniqueness").on("blur.validatePreferenceUniqueness, change.validatePreferenceUniqueness",function(){$(e).valid()}),""===t)return!0;var n=d.find(".bootstrap-select-wrapper"),i=n.map(function(){return $(this).find("select.location_preference").val()});return 1===i.filter(function(e,n){return n===t}).length}if(is_responsive_page()||$.toe&&$.toe.off(),$.fn.tooltip.Constructor.DEFAULTS.placement="bottom",$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="tooltip"]').on("show.bs.tooltip",function(t){"ontouchstart"in document.documentElement&&t.preventDefault()}),null!==$.cookie("ugc_event")){var e=JSON.parse($.cookie("ugc_event"));$.each(e,function(t,e){ga("send",e)}),$.removeCookie("ugc_event",{path:"/"})}$(document).on("show.bs.tooltip show.bs.dropdown",function(t){var e=$(t.relatedTarget);e.parents(".listItem")&&e.parents(".listItem").css("z-index",20)}),$(document).on("hide.bs.tooltip hide.bs.dropdown",function(t){var e=$(t.relatedTarget);e.parents(".listItem")&&e.parents(".listItem").css("z-index","")}),$.datepicker.setDefaults($.datepicker.regional[""]),BCShareButton.init(),$.validator.setDefaults({ignore:':hidden:not(.selectpicker):not([data-js~="pretty-checkbox"])',onfocusout:function(t){$(t).valid()},errorPlacement:function(t,e){t.insertAfter(e.hasClass("selectpicker")?e.closest(".bootstrap-select-wrapper").find(".bootstrap-select"):e.data("bc.pretty_checkbox")?e.parent("label"):e.next().hasClass("required")?e.next():e)}}),$(document).on("contentchange ready",function(){$(".selectpicker").selectpicker(),is_mobile_device()&&$(".selectpicker").selectpicker("mobile")}),$.bc_ajax_tabs(),$.bc_shelf_dropdown(),$.bc_init_coppa_notification(),$.bc_init_teacherset_results(),$.bc_init_flagged_ugc_display(),$.bc_init_personal_btn_wrap(),USER_HAS_NEW_BADGES&&$.notify_badges(),$.datajs("tab_link_bar").bc_tab_link_bar(),$(".dropDownContent > .second_tier").each(function(){$(this).parents(".dropDownContent").css({width:$(this).outerWidth()+10})}),$("#mainNav .dropDown > a.navLabel").doubleTapDropdown(),messages&&messages.length>0,$(document).on("click",bc_datajs_selector("back_to_top"),function(){$("body,html").animate({scrollTop:0},700)}),init_shelf_inline_overlay(),init_single_click_action_overlays();var n=$.datajs("circ_limits");n.length&&n.popover({container:n.parent(),html:!0,placement:"bottom",trigger:"focus click",content:function(){return Handlebars.compile($.datajs("limit_template").html())}});var i=$.datajs("drawer_sticky_button");i.length&&i.cp_position_sticky({disabled_viewports:["lg"],top_spacing:function(){return-i.parent().height()}});var r=$("#header .search_button");r.length>0&&r.css("top",r.position().top),$("#days_before, #reminder_frequency").triggerDisable({triggers:$("#coming_due, #overdue, #holds_available")}),$("#SP, #EP").placeholder(),$("#popout-box-content").live_modal("#popout-box-content .detailForm .popupReload",{send_forms:!0,forms_replace_content:!0,fixed_height:"380px",hide_overflow_x:!0,top:"20%",fixed_width:"600px",from_popout:!0,callback:function(){$(".modal-box .item_add_similar").popup_search(),$(".popout-box").css("visibility","hidden"),$(".popout-box").css("display","none")},close_callback:function(){$(".modal-box").css("height","auto"),$.notify_badges()}}),$(document).on("click",".flagButton",function(t){t.preventDefault();var e=$(this);$.ajax({url:e.attr("href"),type:"GET",dataType:"json",success:function(t){t.logged_in&&t.success&&e.flagging({controller:"item",offset:e.data("offset")})}})}),function(){$(document).on("click",bc_datajs_selector("animate-anchor"),function(t){var e=$(this),n=e.attr("href");if(n.length&&0===n.indexOf("#")){var i=$(n);i.length&&(t.preventDefault(),$("html, body").animate({scrollTop:i.offset().top},200))}})}(),$(document).live_modal(bc_datajs_selector("novelist-link"),{aria_describedby:"aria_novelist"}),$("#buyNow").modal({top:"20%",width:60}),modal_or_inline_overlay($(".request_volume_btn"),{top:"10%",width:60,send_forms:!0,aria_describedby:"aria_request_volumes"}),modal_or_inline_overlay($(".download_title_button"),{send_forms:!0,callback:digital_modal_callback,aria_describedby:"aria_download_title",forms_callback:digital_modal_form_callback}),modal_or_inline_overlay($(".itemButtons"),{send_forms:!0,callback:digital_modal_callback,forms_callback:digital_modal_form_callback,live_selector:".button.digital_request"}),$(document).on("contentchange ready",function(){modal_or_inline_overlay($(".download_missing_format"),{send_forms:!0,aria_describedby:"aria_download_no_format_title",callback:digital_modal_callback,forms_callback:digital_modal_form_callback})}),load_availability_placeholder(),$(document).live_modal(".add_bib_more_lists",{top:"15%",width:60,hide_overflow:!0,send_forms:!0,aria_describedby:"aria_save_to_list",callback:function(){$(".modal-box").datajs("popup_search").popup_search()}}),$("#suggest_for_nomination").modal({top:"15%",width:55,max_height:60,hide_overflow_x:!0,send_forms:!0,forms_replace_content:!0,aria_describedby:"aria_suggest_for_nomination",callback:function(){$(".modal-box .usercontent_suggest_item").popup_search()}}),$("#userlibrary_send_message, .other_collection_message_user").modal({send_forms:!0,fixed_height:"300px",hide_overflow:!0,top:"10%",aria_describedby:"aria_send_message"}),$(" #userlibrary_trust_source, .other_collection_follow_user, .more_criteria_trust_user").modal({send_forms:!0,fixed_height:"360px",hide_overflow_x:!0,top:"10%",aria_describedby:"aria_trusted_source"}),$(".edit_all_btn").modal({top:"10%",width:60,send_forms:!0,marked_for_reload:!0,aria_describedby:"aria_edit_all"}),$(".tOc_trigger").modal({top:"10%",width:60,send_forms:!0,marked_for_reload:!0}),$(".editButton_no_user, .actions_no_user .rating-0, .actions_no_user #addcommentBtn, .actions_no_user #addtagsBtn").modal({hide_overflow:!0,marked_for_reload:!0,aria_describedby:"aria_log_in"}),"false"==USER_PRESENT&&$("#addcommentBtn, #addtagsBtn").add($.datajs("ugc_button")).modal({fixed_width:"400px",fixed_height:"250px",send_forms:!1,aria_describedby:"aria_log_in"}),"function"==typeof explore_custom_list&&explore_custom_list(),$(".message_user_link").modal({top:"20%",width:60,send_forms:!0,aria_describedby:"aria_send_message"}),$("#recently_added_lists_expand, #recently_added_tags_expand, #recently_added_videos_expand, #connect_with_other_expand, #all_seealso_authors_expand, #all_seealso_headings_expand, #all_headings_expand, #all_medical_headings_expand, #all_lists_expand, #all_tags_expand, #all_similar_expand, #all_blog_links, #drupal_links .expand.blog_links").bc_expander(),$(document).bind("contentchange",function(){$("#recently_added_lists_expand, #recently_added_tags_expand, #recently_added_videos_expand, #connect_with_other_expand, #all_seealso_authors_expand, #all_seealso_headings_expand, #all_headings_expand, #all_medical_headings_expand, #all_lists_expand, #all_tags_expand, #all_similar_expand, #all_blog_links, #all_resource_links, #drupal_links .expand.blog_links").bc_expander()}),$(document).on("click",".box",function(){$(this).ColorPicker()}),$(document).on("shown.bc.inline_overlay",".listItem",function(){BCViewport.matchAny("md","lg")&&$(this).datajs("shelf-inline-overlay").attr("disabled","disabled")}).on("hide.bc.inline_overlay",".listItem",function(){$(this).datajs("shelf-inline-overlay").removeAttr("disabled")}),$(document).live_modal(".circInfo",{aria_describedby:"aria_bib_title",callback:function(){var t=$(".jacketCoverDiv img");validate_jacket_image(t),BCStackMap.init()}});var o=$.datajs("offsite_modal");o.modal(),$(".link_trust_user").modal({top:"20%",width:60,send_forms:!0,aria_describedby:"aria_trusted_source"}),hijack_modal_inits(),init_video_embed(),$("body").on("click",bc_datajs_selector("hold_volume_link"),function(t){t.preventDefault();var e=$(this);e.overlay({remote:e.attr("href"),open_on_init:!0})}),is_responsive_page()||$("#bibList").on("click",".hold_popout_link",function(t){t.preventDefault();var e=$(this);$.getJSON(e.attr("href"),function(t){if(t.html){bc_feature.BootstrapPopovers?(e.popover({content:t.html,html:!0,trigger:"manual",container:"body"}),e.on("shown.bs.popover",function(){e.data("bs.popover").$tip.find(".holdsRequestBlock form").on("submit",function(t){t.preventDefault(),$.post($(this).attr("action"),$(this).serialize(),function(t){ajax_holds_callback.call(e,t)},"json")})}),e.popover("show"),close_popover_on_outer_click(e)):e.popout({content:t.html,offset:130,aria_describedby:"mobile-list-heading",callback:function(){$(".holdsRequestBlock form").on("submit",function(t){t.preventDefault(),$.post($(this).attr("action"),$(this).serialize(),function(t){ajax_holds_callback.call(e,t)},"json")})}})}else ajax_holds_callback.call(e,t)})}),is_responsive_page()&&$(document).on("click",bc_datajs_selector("request-hold-button")+", "+bc_datajs_selector("digital_request_button"),function(t){t.preventDefault();var e=$(this),n=get_holds_button_url(e);$.getJSON(n,function(t){t.html?e.bc_inline_overlay({send_forms:!0,forms_callback:ajax_holds_callback.bind(e),open_on_init:!0,content:t.html,inline_messaging:!0,open_callback:digital_modal_callback}):ajax_holds_callback.call(e,t)})}),$(document).on("shown.bs.popover",function(t){var e=$(t.target);if(e.length>0){var n=e.data("bs.popover");n&&n.$tip.off("click.close_popover").on("click.close_popover",bc_datajs_selector("close_button"),function(t){t.preventDefault(),e.popover("hide")})}}),$("body").on("click",".cancel_hold_button",function(t){t.preventDefault();var e=$(this),n=get_holds_button_url(e);$.getJSON(n,function(t){ajax_holds_callback.call(e,t)})}),function(){var t=$.datajs("filter_list"),e=0,n=t.datajs("pretty-checkbox").not(function(){return $(this).data("bc.pretty_checkbox")});n.length>0?n.one("shown.bc.pretty-checkbox",function(){++e===n.length&&t.addClass("ready")}):t.addClass("ready")}(),$(document).on("shown.bc.inline_overlay",function(t,e,n,i){i.datajs("hold_expiry_datepicker").pickadate({editable:!1,min:new Date,formatSubmit:"dd-mm-yyyy",hiddenName:!0,container:"#main",onStart:function(){this.$node.data("value")&&this.set("select",this.$node.data("value"),{format:"yyyy-mm-dd"})},onSet:function(){var t={day:this.get("select","dd"),month:this.get("select","mm"),year:this.get("select","yyyy")};i.datajs("expiry_month").val(t.month),i.datajs("expiry_day").val(t.day),i.datajs("expiry_year").val(t.year)}})}),init_line_clamps(),$(window).on("resize",function(){init_line_clamps()}),$("#itemTypeSelector, #viewSelector").css({"float":"right","font-size":"11px"}).buttonset(),$("#view-print").button({text:!1,icons:{primary:"ui-icon-print"}}),$("#view-medium").button({text:!1,icons:{primary:"ui-icon-view-medium"}}),$("#force_login_to_buy").bind("click",function(t){t.preventDefault(),$.getJSON(t.target.href,function(){return!0})}),$("#view-small").button({text:!1,icons:{primary:"ui-icon-view-small"}}),click_through_batch_actions(),$("#feedbackForm").inline_form(),$("div.dropDown").dropdown();var a=$(".recently_reviewed_bibs");a.each(function(){var t=$(this);BCSlider.carouselHasEnoughSlides(t,BCSlider.defaultCarouselOptions).then(function(){var e=t.bcSlider();BCSlider.carouselImageCheck(e,t)})});var s=$("#recently_rated_bibs");BCSlider.carouselHasEnoughSlides(s,BCSlider.defaultCarouselOptions).then(function(){var t=s.bcSlider({adaptiveHeight:!0});BCSlider.carouselImageCheck(t,s)});{var l=$(".recent_comments_carousel"),c=(l.bcSlider({minSlides:1,maxSlides:5,slideWidth:500}),$.datajs("slider_for_lists_small"));c.bcSlider({minSlides:1,maxSlides:5,slideWidth:350,slideMargin:12})}$(document).on("click",bc_datajs_selector("anchorless_link"),function(){window.location=$(this).data("url")}),$.datajs("bc-tooltip").on("click",function(){$(this).popout({content:tidyTitles($(this).attr("alt")),offset:20})}),$(document).on("click",bc_datajs_selector("remove_tag"),function(t){var e=$(this);t.preventDefault(),$.getJSON($(this).attr("href"),function(t){t.success&&e.closest("li").remove()})});var u=$("#recently_added_bibs");if(BCSlider.carouselHasEnoughSlides(u,BCSlider.defaultCarouselOptions).then(function(){var t=u.bcSlider();carousel_filter(u,$("#facets_recently_added_bibs form select"),"explore/index","newly_acquired",t),BCSlider.carouselImageCheck(t,u)}),init_filters_expanders(),$(".filterList").filterList(),$(".help_icon").popupWindow(),$(".help_popup").popupWindow(),$(".collapseTrigger.single").toggle_facets(),$(".grouped_facets .collapseTrigger").toggle_facets({hasParent:!0}),$(document).on("click",bc_datajs_selector("input-group-addon"),function(t){t.preventDefault(),$(this).siblings("input").first().click()}),$.toggle_facets("check_fav"),$("a[track=click]").on("click",function(t){t.preventDefault();var e=$(this).attr("href");ga("send","event",$(this).data("category"),$(this).data("label"),e),setTimeout(function(){window.location=e},150)}),"undefined"!=typeof INIT_SORT_SELECTOR&&$(".sortSelector").sort_selector(),$(".click_n_sub").click_n_sub(),$("#user_lookup_actions_list a.assign_badges_btn").modal({aria_describedby:"aria_choose_badge",callback:function(){$("a.cancel").click(function(){$.modal("hide",{})})}}),"false"===USER_PRESENT&&$("#fc_minicart_wrapper").addClass("hidden"),window.is_responsive_registration){BCLogin.init(),BCReg.init();var h=$.deparam.querystring(location.search);h&&h.registration&&BCReg.start()}$(bc_datajs_selector("per_service_digital_breakdown")).length>0&&($.datajs("per_service_digital_breakdown").on("click",function(t){t.preventDefault(),$(this).hide(),$.datajs("per_service_digital_breakdown_list").slideDown()}),$.datajs("per_service_digital_breakdown_close").on("click",function(t){t.preventDefault(),$.datajs("per_service_digital_breakdown_list").slideUp(function(){$.datajs("per_service_digital_breakdown").show()})}));var d=$.datajs("validate_preferred_branches");d.length>0&&($.validator.addMethod("validatePreferenceUniqueness",t,BCLang.errors_and_messages.preferred_location_selected),d.validate({rules:{first_preference:{required:!0},second_preference:{validatePreferenceUniqueness:!0},third_preference:{validatePreferenceUniqueness:!0}}}),d.find("select").on("change",function(){$(this).parents("form").validate().element($(this))})),$.datajs("save_search_overlay").overlay({openCallback:function(){$(".help_icon").popupWindow()}}),$.datajs("responsive_explore_page_anchor").on("click",function(t){t.preventDefault(),$("html, body").animate({scrollTop:$.datajs("responsive_explore_page_browse_all").offset().top},200)})}),$(window).load(function(){$("#badge_claim_form").validate({rules:{badge_claim_code:{maxlength:50}}}),$("#badge_claim_form").ajaxForm({beforeSubmit:function(t,e){return 1==e.valid()},dataType:"json"}),$("body").on("click",'a[with_hook="ajax_link"]',function(t){t.preventDefault(),$.getJSON($(this).attr("href"))}),$("body").on("click",".hidable_div_trigger",function(t){"A"==$(this)[0].nodeName&&t.preventDefault();var e="#"+$(this).attr("param_target");$(e).toggle(),$(this).trigger("visibility_toggled")}),$(document).on("shown.bc.inline_overlay",function(t,e,n,i,r){r.$element.on("visibility_toggled",".hidable_div_trigger",function(){r.adjust_height()})}),$(".show_hide").bind("click",function(){$(this).parent("li").parent("ul").find(".hidden").toggle(),$(this).text($(this).text()==more?less:more)}),$("#popout-box-content, .modal-box").on("click","#age_suitability_all_ages",function(){var t=$("#age_suitability_min_age, #age_suitability_max_age");t.attr("disabled")?t.removeAttr("disabled"):t.attr("disabled","disabled").val("")}),$('select[name="jump_to"]').bind("change",function(t){t.preventDefault();var e=$(this).val(),n=parseUri(decodeURIComponent(window.location.href)),i={};n.query&&(i=n.query.parseQueryString()),i.page=e,setTimeout(function(){window.location.href=n.path+"?"+$.param(i)},300)}),$(".cp_header").length||$("#t").bind("change",function(){var t=$(this).find("option:selected").attr("value"),e=["catalogue","smart","keyword"];$("#search_category").val(-1!=$.inArray(t,e)?"keyword":t)}),$.datajs("user_to_follow_actions").cp_follow_ignore_actions({btn_classes:"btn btn-ugc btn-flat",follow_callback:function(){this.$ui_wrapper.parent(bc_datajs_selector("user_to_follow")).fadeOut(),$defined(ga)&&ga("send","event","followed","suggested_user_followed",this.target_user_id)}}),$("#pendingMessages").length>0&&($.getJSON("/checkedout/pending_messages",function(t){t.success&&""!=t.html&&$("#pendingMessages").replaceWith(t.html)}),$.getJSON("/pending_task/show_pending_message")),$("#edit_purpose").bind("change",function(){"k12_study_guide"==$(this).val()?$("div.k12_study_guide").removeClass("hide"):$("div.k12_study_guide").addClass("hide")}),$(".omdc").length>0&&$("#search_type_selector").datajs("microsite_search_type_option").on("click",function(t){t.preventDefault();var e=$(this);e.addClass("selected").siblings().removeClass("selected");var n=e.parents("#search_type_selector");n.find('input[name="t"]').val(e.data("search-type"))})}),$(window).load(function(){"undefined"!=typeof Messages&&(Messages.show(messages),$(document).on("click",bc_datajs_selector("close_system_message"),function(){Messages.clear()}),$(document).on("keypress",bc_datajs_selector("close_system_message"),function(t){13==t.which&&Messages.clear()})),""!=j_callback&&trigger_j_callback(j_callback),"undefined"!=typeof localized_validator_messages&&$.extend($.validator.messages,localized_validator_messages),$("img.jacketCover").not(".lazy").not(bc_datajs_selector("skip_image_verification")).each(function(){validate_jacket_image($(this))}),$("img.badge_custom_icon").each(function(){validate_jacket_image($(this))}),$.toggle_facets("set_up_filter_key"),-1!=navigator.appVersion.indexOf("MSIE 7.")&&$("#system").addClass("ie7"),$.datajs("overflow_toggle").overflowToggle(),$("a[data-popup]").live("click",function(t){var e=$(this)[0],n=$(e).attr("data-popup").split(" ");n.size>1?window.open(e.href,n[0],n[1]):window.open(e.href),t.preventDefault()})}),$(function(){window.BCLang&&window.BCLang.help_bubble&&!$.cookie("disable_onboarding")&&(!function(){$(document).on("click",bc_datajs_selector("force_start_tour"),function(t){t.preventDefault(),BCTour.startTour($(this).data("tour"),!0)})}(),function(){new BCTour({tourName:"borrowing",steps:[{onboardingFlagName:"BORROWING_SUMMARY_DRAWER",attachTo:{datajs:"drawer-trigger",position:"bottom"},title:BCLang.help_bubble.borrowing_summary.title,text:"",canBeShown:!BCViewport.match("lg")},{onboardingFlagName:"BORROWING_SUMMARY_VIEW",attachTo:{datajs:"cluster_heading_onboarding",position:"top"},title:BCLang.help_bubble.borrowing_summary_view.title,text:BCLang.help_bubble.borrowing_summary_view.text},{onboardingFlagName:"BORROWING_SELECT_ITEMS",attachTo:{datajs:"select_items_btn",position:"bottom"},title:BCLang.help_bubble.borrowing_select_items.title,text:BCLang.help_bubble.borrowing_select_items.text},{onboardingFlagName:"BORROWING_BATCH_ACTIONS",attachTo:{datajs:"batch_actions_button_container",position:"bottom"},title:BCLang.help_bubble.borrowing_batch_actions.title,text:"",canBeShown:BCViewport.match("xs")},{onboardingFlagName:"BORROWING_INDIVIDUAL_ACTIONS",attachTo:{datajs:"individual_actions_tooltip",position:"bottom"},title:BCLang.help_bubble.borrowing_individual_actions.title,text:""},{onboardingFlagName:"HOLDS_SHELVES",attachTo:{datajs:"holds_shelf_button",position:"left"},title:BCLang.help_bubble.holds_shelves.title,text:BCLang.help_bubble.holds_shelves.text},{onboardingFlagName:"CHECKEDOUT_RATING",attachTo:{datajs:"rating-wrapper",position:"bottom"},title:BCLang.help_bubble.checkedout_ratings.title,text:BCLang.help_bubble.checkedout_ratings.text},{onboardingFlagName:"BORROWING_FAQS",attachTo:{datajs:"onboarding_tour_block",position:"bottom"},title:"",text:BCLang.help_bubble.borrowing_faqs.text,openCallback:function(){$.datajs("onboarding_tour_block").css("position","relative")},closeCallback:function(){$.datajs("onboarding_tour_block").css("position","static")}}]})}())}),function(t){function e(t,e){return"KeyboardEvent"===t&&e?{keyCode:e.keyCode||0,key:e.key||0,which:e.which||e.keyCode||0}:void 0}var n=window.BCEvents={},i=t.extend,r={UIEvent:function(){return{view:document.defaultView}},FocusEvent:function(){return r.UIEvent.apply(this,arguments)},MouseEvent:function(t){return{button:0,bubbles:"mouseenter"!==t&&"mouseleave"!==t,cancelable:"mouseenter"!==t&&"mouseleave"!==t,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,clientX:1,clientY:1,screenX:0,screenY:0,view:document.defaultView,relatedTarget:document.documentElement}},WheelEvent:function(){return r.MouseEvent.apply(this,arguments)},KeyboardEvent:function(){return{view:document.defaultView,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0}}},o={beforeprint:"Event",afterprint:"Event",beforeunload:"Event",abort:"Event",error:"Event",change:"Event",submit:"Event",reset:"Event",cached:"Event",canplay:"Event",canplaythrough:"Event",chargingchange:"Event",chargingtimechange:"Event",checking:"Event",close:"Event",downloading:"Event",durationchange:"Event",emptied:"Event",ended:"Event",fullscreenchange:"Event",fullscreenerror:"Event",invalid:"Event",levelchange:"Event",loadeddata:"Event",loadedmetadata:"Event",noupdate:"Event",obsolete:"Event",offline:"Event",online:"Event",open:"Event",orientationchange:"Event",pause:"Event",pointerlockchange:"Event",pointerlockerror:"Event",copy:"Event",cut:"Event",paste:"Event",play:"Event",playing:"Event",ratechange:"Event",readystatechange:"Event",seeked:"Event",seeking:"Event",stalled:"Event",success:"Event",suspend:"Event",timeupdate:"Event",updateready:"Event",visibilitychange:"Event",volumechange:"Event",waiting:"Event",load:"UIEvent",unload:"UIEvent",resize:"UIEvent",scroll:"UIEvent",select:"UIEvent",drag:"MouseEvent",dragenter:"MouseEvent",dragleave:"MouseEvent",dragover:"MouseEvent",dragstart:"MouseEvent",dragend:"MouseEvent",drop:"MouseEvent",touchcancel:"UIEvent",touchend:"UIEvent",touchenter:"UIEvent",touchleave:"UIEvent",touchmove:"UIEvent",touchstart:"UIEvent",blur:"UIEvent",focus:"UIEvent",focusin:"UIEvent",focusout:"UIEvent",input:"UIEvent",show:"MouseEvent",click:"MouseEvent",dblclick:"MouseEvent",mouseenter:"MouseEvent",mouseleave:"MouseEvent",mousedown:"MouseEvent",mouseup:"MouseEvent",mouseover:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",contextmenu:"MouseEvent",wheel:"WheelEvent",message:"MessageEvent",storage:"StorageEvent",timeout:"StorageEvent",keydown:"KeyboardEvent",keypress:"KeyboardEvent",keyup:"KeyboardEvent",progress:"ProgressEvent",loadend:"ProgressEvent",loadstart:"ProgressEvent",popstate:"PopStateEvent",hashchange:"HashChangeEvent",transitionend:"TransitionEvent",compositionend:"CompositionEvent",compositionstart:"CompositionEvent",compositionupdate:"CompositionEvent",pagehide:"PageTransitionEvent",pageshow:"PageTransitionEvent"},a={Event:"initEvent",UIEvent:"initUIEvent",FocusEvent:"initUIEvent",MouseEvent:"initMouseEvent",WheelEvent:"initMouseEvent",MessageEvent:"initMessageEvent",StorageEvent:"initStorageEvent",KeyboardEvent:"initKeyboardEvent",ProgressEvent:"initEvent",PopStateEvent:"initEvent",TransitionEvent:"initEvent",HashChangeEvent:"initHashChangeEvent",CompositionEvent:"initCompositionEvent",DeviceMotionEvent:"initDeviceMotionEvent",PageTransitionEvent:"initEvent",DeviceOrientationEvent:"initDeviceOrientationEvent"},s={initEvent:[],initUIEvent:["view","detail"],initKeyboardEvent:["view","char","key","location","modifiersList","repeat","locale"],initKeyEvent:["view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initMouseEvent:["view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initHashChangeEvent:["oldURL","newURL"],initCompositionEvent:["view","data","locale"],initDeviceMotionEvent:["acceleration","accelerationIncludingGravity","rotationRate","interval"],initDeviceOrientationEvent:["alpha","beta","gamma","absolute"],initMessageEvent:["data","origin","lastEventId","source"],initStorageEvent:["key","oldValue","newValue","url","storageArea"]},l={UIEvent:window.UIEvent,FocusEvent:window.FocusEvent,MouseEvent:window.MouseEvent,WheelEvent:window.MouseEvent,KeyboardEvent:window.KeyboardEvent};n.generate=function(t,n){if(!o.hasOwnProperty(t))throw new SyntaxError("Unsupported event type");var c,u,h=o[t],d=e(h,n);n instanceof window.Event||(n=h in r?i({bubbles:!0,cancelable:!0},r[h](t,n),n):i({bubbles:!0,cancelable:!0},n));var p=l[h]||window.Event;try{c=new p(t,n);for(u in d)Object.defineProperty(c,u,{value:d[u]});return c}catch(f){}var g=window.navigator.userAgent.toLowerCase(),m=Math.max(g.indexOf("msie"),g.indexOf("trident"));m>=0&&"KeyboardEvent"===h&&(h="UIEvent");var v=a[h];if(!document.createEvent){c=i(document.createEventObject(),n);
for(u in d)Object.defineProperty(c,u,{value:d[u]});return c}if(c=i(document.createEvent(h),n),"initKeyboardEvent"===v)if(void 0===c[v])v="initKeyEvent";else if(!("modifiersList"in n)){var _=[];n.metaKey&&_.push("Meta"),n.altKey&&_.push("Alt"),n.shiftKey&&_.push("Shift"),n.ctrlKey&&_.push("Control"),n.modifiersList=_.join(" ")}var b=s[v].map(function(t){return n[t]});c[v].apply(c,[t,n.bubbles,n.cancelable].concat(b));for(u in d)Object.defineProperty(c,u,{value:d[u]});return c},n.simulate=function(t,e,i){var r=n.generate(e,i);return document.createEvent?t.dispatchEvent(r):t.fireEvent("on"+e,r)}}(jQuery),function(t,e){function n(t,e){return function(){return console.warn('The "'+t+'" method has been deprecated and would be removed in a future release.'),e.apply(this,arguments)}}function i(){!h.initialized&&t(".cp_header").length>0&&(h.init(),p.forEach(function(t){window.BCHeaderPublic.apply(window.BCHeaderPublic,t)}))}var r=38,o=40,a=27,s=250,l=1e3,c={showLoadingStateTimeoutId:null,selectedIndex:null,selectedSuggestionText:null,originalText:null,init:function(){if(0!==c.getAutoSuggest().length){var e=t("body");e.on("input",bc_datajs_selector("main_search_input"),function(){c.originalText=t(this).val(),c.canShowSuggestions()&&c.updateSuggestions(t(this).val())}),e.on("blur",bc_datajs_selector("main_search_input"),function(){setTimeout(function(){c.isOpen()&&!c.isInsideSearchInputWrapper(document.activeElement)&&c.clearSuggestions()},0)}),e.on("click",bc_datajs_selector("suggestion_link"),function(t){c.onSuggestionClick(t,this)}),e.on("submit",bc_datajs_selector("header_search_form"),function(){var t=h.getTerm(),e=c.selectedSuggestionText;t&&e&&t===e&&c.sendSuggestionClickEvent(t)}),e.on("click",function(t){c.isOpen()&&c.handleOutsideClick(t)}),e.on("keydown",function(t){c.isOpen()&&(c.getSuggestionCount()>0&&(t.keyCode===r?(t.preventDefault(),c.handleSelectPrevious()):t.keyCode===o&&(t.preventDefault(),c.handleSelectNext())),t.keyCode===a&&c.handleEscape())})}},getAutoSuggest:function(){return h.getSearchWrapper().datajs("header_auto_suggest")},getMenu:function(){return c.getAutoSuggest().datajs("suggestion-menu")},show:function(){h.getSearchBox().attr("aria-expanded","true"),c.getAutoSuggest().removeClass("hidden")},hide:function(){h.getSearchBox().attr("aria-expanded","false"),c.getAutoSuggest().addClass("hidden")},canShowSuggestions:function(){var t=h.getSearchTarget(),e=h.getSearchCategory();return"catalogue"===t&&"smart"===e},isOpen:function(){return!c.getAutoSuggest().hasClass("hidden")},clearSuggestions:function(){c.clearSelected(),c.renderSuggestions([])},getSuggestions:function(e){return e?APIGatewayUtils.request("libraries/"+BCHeaderConfig.domain+"/bibs/search/suggest",{query:e,searchType:"KEYWORD"},{show_spinner:!1}).then(function(t){return t&&t.suggestions||[]},function(){return[]}):t.when([])},updateSuggestions:function(t){t===h.getTerm()&&(c.isOpen()?c.handleLoading():c.clearSuggestions(),c.getSuggestions(t).always(function(e){h.getTerm()===t&&(c.cancelLoadingState(),c.renderSuggestions(e))}))},cancelLoadingState:function(){clearTimeout(c.showLoadingStateTimeoutId)},handleLoading:function(){c.cancelLoadingState(),c.showLoadingStateTimeoutId=setTimeout(function(){c.clearSelected();var t=c.getMenuItemCount();c.renderLoadingState(t)},l)},handleOutsideClick:function(t){c.isInsideSearchInputWrapper(t.target)||c.clearSuggestions()},handleSelectNext:function(){var t=c.getNextSuggestionIndex(1);c.setSelectedSuggestion(t)},handleSelectPrevious:function(){var t=c.getNextSuggestionIndex(-1);c.setSelectedSuggestion(t)},handleEscape:function(){c.restorePreviousText(),c.clearSuggestions()},onSuggestionClick:function(e,n){e.preventDefault();var i=t(n),r=i.closest("li").attr("data-text");h.setTerm(r),c.selectedSuggestionText=r,c.clearSuggestions(),h.getSearchBox().focus(),h.performSearch()},renderSuggestionText:function(e){var n=e.text.slice(0,e.overlapEnd),i=e.text.slice(e.overlapEnd);return[n,t("<strong>",{text:i})]},renderLoadingState:function(e){var n,i,r=[];for(n=0;e>n;n+=1)i=t("<div>",{html:c.renderLoadingPlaceholder(),"class":"suggestion_loading_placeholder"}),r.push(t("<li>").append(i));c.setMenuContent(r)},renderSuggestion:function(e){var n=(e.text||"").replace(/\s+/g,"-"),i=t("<a>",{html:c.renderSuggestionText(e),href:"#suggestion-"+n,tabindex:-1,"data-js":"suggestion_link"});return t("<li>",{id:"suggestion-"+n,"data-js":"suggestion_item",role:"option","aria-selected":"false","data-text":e.text}).append(i)},renderSuggestions:function(t){if(!t||0===t.length)return void c.hide();var e=t.map(c.renderSuggestion);c.setMenuContent(e),c.announceMessage(BCHeaderConfig.messages.ada_suggestions_below),c.show()},renderLoadingPlaceholder:function(){return t.datajs("suggestion_skeleton_svg").first().clone().removeAttr("data-js")},getNextSuggestionIndex:function(t){var e=c.selectedIndex,n=c.getSuggestionCount();if(0===n)return null;if(null===e)return t>0?0:n-1;var i=e+t;return i>=n||0>i?null:i},setSelectedSuggestion:function(t){c.cancelLoadingState(),c.selectedIndex=t;var e=c.getSuggestionItems();if(e.attr("aria-selected","false").removeClass("selected"),null===t)c.restorePreviousText(),c.updateSearchBoxActiveDescendant(null);else{var n=e.eq(t),i=n.attr("data-text");h.setTerm(i),c.selectedSuggestionText=i,n.addClass("selected").attr("aria-selected","true"),c.updateSearchBoxActiveDescendant(n)}},updateSearchBoxActiveDescendant:function(t){var e=h.getSearchBox();e.attr("aria-activedescendant",t?t.attr("id"):"")},setMenuContent:function(t){c.getMenu().empty().append(t)},getSuggestionCount:function(){return c.getMenu().datajs("suggestion_link").length},getMenuItemCount:function(){return c.getMenu().find("li").length},getSuggestionItems:function(){return c.getAutoSuggest().datajs("suggestion_item")},clearSelected:function(){c.selectedIndex=null},restorePreviousText:function(){c.selectedSuggestionText=null,c.originalText&&h.setTerm(c.originalText)},isInsideSearchInputWrapper:function(t){var e=h.getSearchForm().datajs("main_search_input_wrapper").get(0);return e.contains(t)},announceMessage:function(e){c.getAutoSuggest().datajs("auto_suggest_aria_messages").append(t("<div>",{text:e})),setTimeout(function(){c.getAutoSuggest().datajs("auto_suggest_aria_messages").empty()},1e3)},sendSuggestionClickEvent:function(t){push_gtm_events({events:[{event:BCHeaderConfig.analytics.auto_suggest_click_event,payload:{gtmCategory:BCHeaderConfig.analytics.auto_suggest_category,gtmAction:BCHeaderConfig.analytics.link_click_action,gtmLabel:t,gtmValue:1}}]})}};c.updateSuggestions=debounce(c.updateSuggestions,s);var u={init:function(){return t?(u.desktop(),u.mobile(),u.target(),u.type(),u.format(),void c.init()):void console.error("CPHeaderSearch: Missing dependencies - jQuery")},mobile:function(){function e(){n.parent().removeClass("on"),r.removeClass(a).addClass(s),o.slideUp()}var n=t.datajs("header_search_xs_trigger"),i=t.datajs("cp_header").datajs("header_search_xs_trigger"),r=t.datajs("header_search_xs_trigger").find("i"),o=t.datajs("header_search_wrapper_xs"),a=i.data("icon-off"),s=i.data("icon-on");n.on("click",function(t){t.preventDefault(),i.parent().hasClass("on")?(r.removeClass(a).addClass(s),o.slideUp(),i.parent().removeClass("on"),i.focus()):(r.removeClass(s).addClass(a),o.slideDown().datajs("header_search_title").focus(),i.parent().addClass("on"))}),t(window).on("resize",function(){BCViewport.matchAny("xs","sm")||e()}),t.datajs("header_search_form").on("submit",function(){BCViewport.matchAny("xs","sm")&&e()})},desktop:function(){var e=t.datajs("header_search_wrapper_desktop");t.datajs("header_collapsible_search_trigger").on("click",function(t){t.preventDefault(),e.parent().addClass("open"),0===t.offsetX&&0===t.offsetY?h.getSearchWrapper().find(":tabbable:first").focus():h.getSearchBox().focus()});var n=e.datajs("header_search"),i=0,r=n.find("select").filter(function(){return!t(this).next(".bootstrap-select").length});r.length>0?r.one("loaded.bs.select",function(){++i===r.length&&n.addClass("loaded")}):n.addClass("loaded")},target:function(){t.datajs("header_search_target").on("change",function(e){var n=t(this),i=h.getSearchWrapper(),r=n.find("option").map(function(){return"header_search_"+this.value}).toArray().join(" "),o=n.find("option:selected"),a=n.val(),s=o.data("query-field");i.removeClass(r).addClass("header_search_"+a),i.datajs("main_search_input").attr("name",s||"q"),i.datajs("header_target_search_options").each(function(){var e=t(this),n=e.data("target")!==a;e.toggleClass("hidden",n),e.find("select, input").prop("disabled",n),e.find("select").selectpicker("refresh")});var l=o.data("label")||o.text();u.trackChange(e,"header_search_target",l)}).trigger("change")},type:function(){t.datajs("search_type").on("change",function(e){var n=t(this),i=n.val(),r=t.datajs("search_category"),o=["catalogue","smart","keyword"];r.val(-1!==t.inArray(i,o)?"keyword":i),u.trackChange(e,"header_search_type",n.find("option:selected").text())}).trigger("change")},format:function(){t.datajs("header_search_format").on("change",function(e){u.trackChange(e,"header_search_format",t(this).find("option:selected").text())})},trackChange:function(t,e,n){t.isTrigger||BCGoogleAnalytics.sendAll("event",e,"change",n.trim())}},h={initialized:!1,init:function(){return h.initialized?console.error("BCHeader is already initialized!"):e&&t?(h.config=window.BCHeaderConfig||{},h.config.is_externally_rendered&&(t(".cp_header .selectpicker").selectpicker(),h.setActiveNavItem()),u.init(),h.setTemplates(function(){h.bindActions(),h.config.initial_state?h.updateHeaderState(h.config.initial_state):h.getHeaderState()}),void(h.initialized=!0)):console.error("BCHeader: Missing dependencies - Handlebars/jQuery")},setTemplates:function(n){var i=["t_biblionav_divider","t_biblionav_account_trigger","t_biblionav_my_account_user_info","t_biblionav_account_selector","t_biblionav_admin_nav","t_biblionav_preferred_locations","t_biblionav_header_nav_xs"];n=n||t.noop;for(var r=0;r<i.length;r++){var o=t("#"+i[r]);o.html()&&(h[i[r]]=e.compile(o.html()))}n()},getHeaderState:function(){t.ajax({dataType:"jsonp",url:h.config.core_base_url+"header/state",error:h.showLoggedOutState,success:h.updateHeaderState})},updateHeaderState:function(t){t.user?h.showLoggedInState(t):h.showLoggedOutState()},showLoggedOutState:function(){var e=h.t_biblionav_account_trigger({logged_in:!1}),n=h.t_biblionav_my_account_user_info({logged_in:!1}),i=h.t_biblionav_divider({divider_name:"logged_out"});t.datajs("biblionav_account_trigger").removeClass("logged_in"),t.datajs("biblionav_account_trigger").html(e),t.datajs("biblionav_my_account_user_info").replaceWith(n),t.datajs("biblionav_my_account_user_info").after(i),t.datajs("biblionav_account_selector").empty(),t.datajs("biblionav_admin_nav").addClass("hidden").datajs("admin_nav_menu").empty(),t.datajs("divider_logged_in").remove(),t.datajs("biblionav_my_purchases_link").hide(),t.datajs("biblionav_preferred_locations").empty(),t.datajs("save_search_overlay").addClass("hidden"),h.updateBorrowingHistoryLink(!1)},showLoggedInState:function(t){var e=t.user||{};e.logged_in=!0,h.loadMyAccountNav(e),h.loadAccountSwitching(t.navigable_agencies),h.loadAdminNav(e,t.admin_nav,t.bcadmin_nav),h.loadSavedSearches(e),h.loadPreferredLocations(t.preferred_locations),h.updateBorrowingHistoryLink(t.show_borrowing_history)},loadMyAccountNav:function(e){var n=h.t_biblionav_my_account_user_info(e),i=h.t_biblionav_account_trigger({logged_in:!0,user_id:e.id,user_avatar:e.avatar,user_initial:e.initial,user_name:e.name}),r=h.t_biblionav_divider({divider_name:"logged_in"});t.datajs("biblionav_account_trigger").addClass("logged_in"),t.datajs("biblionav_my_account_user_info").replaceWith(n),t.datajs("biblionav_my_account_user_info").after(r),t.datajs("biblionav_account_trigger").html(i),t.datajs("biblionav_my_purchases_link").toggle(e.has_reader_ebooks)},loadAccountSwitching:function(e){var n={accounts:e};if(e&&e.length>0){var i=h.t_biblionav_account_selector(n);t.datajs("biblionav_account_selector").html(i)}else t.datajs("biblionav_account_selector").empty()},loadAdminNav:function(e,n,i){var r=t.datajs("biblionav_admin_nav");if(e.is_admin){var o=h.t_biblionav_admin_nav({admin_nav:n||[],bcadmin_nav:i||[]});r.removeClass("hidden").datajs("admin_nav_menu").html(o)}else r.addClass("hidden").datajs("admin_nav_menu").empty()},loadSavedSearches:function(e){t.datajs("save_search_overlay").toggleClass("hidden",!e.has_saved_searches)},loadPreferredLocations:function(e){var n=t.datajs("biblionav_preferred_locations");if(e&&n.length>0){var i={preferred_locations:e,can_add_locations:e.length<3},r=h.t_biblionav_preferred_locations(i);n.html(r)}},updateBorrowingHistoryLink:function(e){var n=t.datajs("borrowing_history_menu_item");n&&(e?n.removeClass("hidden"):n.addClass("hidden"))},getContext:function(){return BCViewport.matchAny(["xs","sm"])?"mobile":"desktop"},isMobile:function(){return"mobile"===h.getContext()},getSearchForm:function(){return t("#"+h.getContext()+"_search_form")},getSearchWrapper:function(){return t.datajs(h.isMobile()?"header_search_wrapper_xs":"header_search_wrapper_desktop")},getSearchBox:function(){return h.getSearchForm().datajs("main_search_input")},getHeader:function(){return t.datajs("cp_header")},onClearButtonClick:function(){h.getSearchBox().val("").focus().trigger("input"),0!==c.getAutoSuggest().length&&c.clearSuggestions(),h.toggleClearButton(!1)},showClearButton:function(){var t=h.getTerm();h.toggleClearButton(!!t)},bindActions:function(){t(window).on("bc_session_changed",h.getHeaderState),t.datajs("header_search_form").on("submit",h.onSearchSubmit);var e=t(document);e.on("click",bc_datajs_selector("skip_to_main_nav"),this.focusMainNav),e.on("click",bc_datajs_selector("skip_to_search_field"),this.focusSearchFormFirstField),e.on("click",bc_datajs_selector("skip_to_content_start"),this.focusContentStart),e.on("click",bc_datajs_selector("header_nav_xs_trigger"),this.openHeaderNavOverlay),e.on("click",bc_datajs_selector("switch_linked_library"),this.onSwitchLibrary),e.on("click",bc_datajs_selector("header_nav_full_width_menu"),this.ensureMenuStayOpen),e.on("click",bc_datajs_selector("header_search_clear_button"),this.onClearButtonClick),e.on("input",bc_datajs_selector("main_search_input"),this.showClearButton),t.datajs("header_locations_dropdown_menu").length>0&&(e.on("click",bc_datajs_selector("header_locations_dropdown_menu"),this.ensureMenuStayOpen),e.on("click",bc_datajs_selector("header_hours_and_locations_link"),this.openMenuInOverlay)),t.datajs("header_help_dropdown_menu").length>0?(e.on("click",bc_datajs_selector("header_help_dropdown_menu"),this.ensureMenuStayOpen),e.on("click",bc_datajs_selector("header_help_link"),this.openMenuInOverlay)):t.datajs("header_help_link").popupWindow({resizable:!0}),"https:"===location.protocol&&navigator.geolocation&&(t.datajs("locations_geo_search").show(),e.on("click",bc_datajs_selector("locations_geo_search_button"),this.doGeoSearch))},focusMainNav:function(){setTimeout(function(){t.datajs("header-main-nav").find("a").first().focus()},0)},focusSearchFormFirstField:function(){setTimeout(function(){h.getSearchWrapper().find(":tabbable:first").focus()},0)},focusContentStart:function(){var e=t("#content-start");e.length>0&&setTimeout(function(){e.first().attr("tabindex","-1").focus()},0)},openHeaderNavOverlay:function(e){var n=t(this),i=t.datajs("header-top-nav").datajs(n.data("target")).clone();i.length>0&&(e.preventDefault(),e.stopPropagation(),n.trigger("ga-send"),n.data("main-nav")?i.datajs("header_nav_events").remove():i=i.wrap(t("<ul></ul>",{role:"menubar","class":"nav navbar-nav","aria-haspopup":!0})).parent(),i.find("> li:only-child").addClass("open"),h.overlay(n,{content:h.t_biblionav_header_nav_xs({nav_html:i[0].outerHTML}),focus_element:"li a:first"}))},openMenuInOverlay:function(e){e.preventDefault();var n=t(this),i=t.datajs(n.data("target"));h.overlay(n,{content:i.html()})},overlay:function(e,n){n=t.extend({css_effect:"fade_in",open_on_init:!0},n),n.content='<div class="cp_header_wrapper">'+n.content+"</div>",e.overlay(n)},doGeoSearch:function(){function e(t){BCGoogleAnalytics.sendAll("event","header_locations_geo_search","click",i.text().trim());var e=t.coords,n=e.longitude+","+e.latitude;window.location.href=h.config.core_base_url+"locations?near="+n}function n(){i.removeClass("disabled")}var i=t.datajs("locations_geo_search_button");i.addClass("disabled");var r={timeout:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(e,n,r)},onSearchMethods:{"default":function(t){var e=h.getSearchForm(),n=h.getSearchWrapper().datajs("header_search_target"),i=n.find("option:selected").data("action");if(i)if(i.indexOf("__QUERY__")>-1){t.preventDefault(),i=i.replace("__QUERY__",encodeURIComponent(h.getTerm()));var r=document.createElement("a");r.href=i,document.body.appendChild(r),BCEvents.simulate(r,"mouseover"),BCEvents.simulate(r,"mousedown"),BCEvents.simulate(r,"mouseup"),BCEvents.simulate(r,"click")}else e.attr("action",i)}},onSearchSubmit:function(t){var e=h.getSearchTarget();h.onSearchMethods[e]?(t.preventDefault(),h.onSearchMethods[e].apply(this)):h.onSearchMethods.default(t)},onSearch:function(t,e){h.onSearchMethods[t]=e},performSearch:function(){setTimeout(function(){var t=h.getSearchForm().find('[type="submit"]')[0];BCEvents.simulate(t,"click")},0)},performDefaultSearch:function(){var t=h.getSearchTarget();delete h.onSearchMethods[t],h.performSearch()},setSearchTarget:function(t){var e=h.getSearchWrapper().datajs("header_search_target");e.selectpicker("val",t).trigger("change")},getSearchTarget:function(){var t=h.getSearchWrapper().datajs("header_search_target"),e=t.val();return"undefined"==typeof e?"catalogue":e},getTerm:function(){return h.getSearchBox().val()},setTerm:function(t){h.getSearchBox().val(t),h.showClearButton()},setActiveNavItem:function(){function e(t){try{return t.host!==location.host?!1:t.pathname===location.pathname?!0:"/"!==t.pathname&&0===location.pathname.indexOf(t.pathname)}catch(e){return!1}}var n=t.datajs("header-main-nav"),i=n.find('a[href*="'+location.host+'"]:not(.dropdown-toggle)');n.find("li.active").removeClass("active");for(var r=0;r<i.length;r++)if(e(i[r])){var o=t(i[r]);return o.closest("li").addClass("active"),o.closest("li.dropdown").addClass("active"),o}},getHeight:function(){return Math.max(t(".cp_header").outerHeight(!1)-t(window).scrollTop(),0)},sessionChanged:function(){t(window).trigger("bc_session_changed")},onSwitchLibrary:function(e){e.preventDefault(),window.location.host=t(this).data("host")},ensureMenuStayOpen:function(t){t.stopPropagation()},getSearchCategory:function(){return h.getSearchForm().datajs("search_type").val()},setSearchCategory:function(t){return h.getSearchForm().datajs("search_type").selectpicker("val",t).trigger("change")},getSearchFormat:function(){return h.getSearchForm().datajs("header_search_format").val()},setSearchFormat:function(t){return h.getSearchForm().datajs("header_search_format").selectpicker("val",t).trigger("change")},toggleFilterLock:function(t){return h.getSearchForm().datajs("main_search_input_wrapper").toggleClass("with_lock",t)},toggleClearButton:function(t){return h.getSearchForm().datajs("main_search_input_wrapper").toggleClass("with_clear",t)}},d={};d.getHeight=h.getHeight,d.onSearch=h.onSearch,d.sessionChanged=h.sessionChanged,d.setTerm=h.setTerm,d.getTerm=h.getTerm,d.getSearchTarget=h.getSearchTarget,d.setSearchTarget=h.setSearchTarget,d.toggleFilterLock=h.toggleFilterLock,d.setActiveNavItem=h.setActiveNavItem,d.getSearchCategory=h.getSearchCategory,d.setSearchCategory=h.setSearchCategory,d.getSearchFormat=h.getSearchFormat,d.setSearchFormat=h.setSearchFormat,d.performDefaultSearch=h.performDefaultSearch,d.getSearchType=n("getSearchType",h.getSearchTarget),d.setSearchType=n("setSearchType",h.setSearchTarget);var p=window.BCHeaderPublic&&window.BCHeaderPublic._q||[];window.BCHeaderPublic=function(t){if(h.initialized){if("function"==typeof t)return t();if(d[t])return d[t].apply(this,Array.prototype.slice.call(arguments,1));console.error('The method "'+t+'" is not supported by the BCHeaderPublic API.')}else p.push(arguments)},t.__BCHeader__=h,t.BCHeaderPublic=n("$.BCHeaderPublic",window.BCHeaderPublic),t(i)}(jQuery,Handlebars),!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i=n(160),r=n(175);i.addons=n(167),window.React=i,window.ReactDOM=r},function(t){"use strict";function e(t,e,n,i,r,o,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],u=0;l=new Error(e.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}t.exports=e},function(t,e,n){"use strict";var i=n(7),r=i;t.exports=r},function(t){"use strict";function e(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;e>i;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var r=new Error(n);throw r.name="Invariant Violation",r.framesToPop=1,r}t.exports=e},function(t){"use strict";function e(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;10>n;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==i.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}var i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(t){for(var n,o,a=e(t),s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var l in n)i.call(n,l)&&(a[l]=n[l]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var c=0;c<o.length;c++)r.call(n,o[c])&&(a[o[c]]=n[o[c]])}}return a}},function(t,e,n){"use strict";function i(t){for(var e;e=t._renderedComponent;)t=e;return t}function r(t,e){var n=i(t);n._hostNode=e,e[g]=n}function o(t){var e=t._hostNode;e&&(delete e[g],t._hostNode=null)}function a(t,e){if(!(t._flags&f.hasCachedChildNodes)){var n=t._renderedChildren,o=e.firstChild;t:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=i(s)._domID;if(0!==l){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(p)===String(l)||8===o.nodeType&&o.nodeValue===" react-text: "+l+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+l+" "){r(s,o);continue t}u("32",l)}}t._flags|=f.hasCachedChildNodes}}function s(t){if(t[g])return t[g];for(var e=[];!t[g];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}for(var n,i;t&&(i=t[g]);t=e.pop())n=i,e.length&&a(i,t);return n}function l(t){var e=s(t);return null!=e&&e._hostNode===t?e:null}function c(t){if(void 0===t._hostNode?u("33"):void 0,t._hostNode)return t._hostNode;for(var e=[];!t._hostNode;)e.push(t),t._hostParent?void 0:u("34"),t=t._hostParent;for(;e.length;t=e.pop())a(t,t._hostNode);return t._hostNode}var u=n(3),h=n(18),d=n(57),p=(n(1),h.ID_ATTRIBUTE_NAME),f=d,g="__reactInternalInstance$"+Math.random().toString(36).slice(2),m={getClosestInstanceFromNode:s,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:a,precacheNode:r,uncacheNode:o};t.exports=m},function(t){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};t.exports=n},function(t){"use strict";function e(t){return function(){return t}}var n=function(){};n.thatReturns=e,n.thatReturnsFalse=e(!1),n.thatReturnsTrue=e(!0),n.thatReturnsNull=e(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},function(t){"use strict";var e=null;t.exports={debugTool:e}},function(t,e,n){"use strict";function i(){E.ReactReconcileTransaction&&w?void 0:u("123")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled(!0)}function o(t,e,n,r,o,a){return i(),w.batchedUpdates(t,e,n,r,o,a)}function a(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;e!==v.length?u("124",e,v.length):void 0,v.sort(a),_++;for(var n=0;e>n;n++){var i=v[n],r=i._pendingCallbacks;i._pendingCallbacks=null;var o;if(f.logTopLevelRenders){var s=i;i._currentElement.type.isReactTopLevelWrapper&&(s=i._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(g.performUpdateIfNecessary(i,t.reconcileTransaction,_),o&&console.timeEnd(o),r)for(var l=0;l<r.length;l++)t.callbackQueue.enqueue(r[l],i.getPublicInstance())}}function l(t){return i(),w.isBatchingUpdates?(v.push(t),void(null==t._updateBatchNumber&&(t._updateBatchNumber=_+1))):void w.batchedUpdates(l,t)}function c(t,e){w.isBatchingUpdates?void 0:u("125"),b.enqueue(t,e),y=!0}var u=n(3),h=n(4),d=n(55),p=n(13),f=n(73),g=n(16),m=n(25),v=(n(1),[]),_=0,b=d.getPooled(),y=!1,w=null,k={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),C()):v.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},S=[k,x];h(r.prototype,m,{getTransactionWrappers:function(){return S},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return m.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),p.addPoolingTo(r);var C=function(){for(;v.length||y;){if(v.length){var t=r.getPooled();t.perform(s,null,t),r.release(t)}if(y){y=!1;var e=b;b=d.getPooled(),e.notifyAll(),d.release(e)}}},T={injectReconcileTransaction:function(t){t?void 0:u("126"),E.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:u("127"),"function"!=typeof t.batchedUpdates?u("128"):void 0,"boolean"!=typeof t.isBatchingUpdates?u("129"):void 0,w=t}},E={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:C,injection:T,asap:c};t.exports=E},function(t,e,n){"use strict";function i(t,e,n,i){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];s?this[o]=s(n):"target"===o?this.target=i:this[o]=n[o]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return this.isDefaultPrevented=l?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var r=n(4),o=n(13),a=n(7),s=(n(2),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),i.Interface=l,i.augmentClass=function(t,e){var n=this,i=function(){};i.prototype=n.prototype;var a=new i;r(a,t.prototype),t.prototype=a,t.prototype.constructor=t,t.Interface=r({},n.Interface,e),t.augmentClass=n.augmentClass,o.addPoolingTo(t,o.fourArgumentPooler)},o.addPoolingTo(i,o.fourArgumentPooler),t.exports=i},function(t){"use strict";var e={current:null};t.exports=e},function(t,e,n){"use strict";var i=n(4),r=n(79),o=n(44),a=n(158),s=n(154),l=n(155),c=n(15),u=n(156),h=n(159),d=n(80),p=(n(2),c.createElement),f=c.createFactory,g=c.cloneElement,m=i,v={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:d},Component:o,PureComponent:a,createElement:p,cloneElement:g,isValidElement:c.isValidElement,PropTypes:u,createClass:s.createClass,createFactory:f,createMixin:function(t){return t},DOM:l,version:h,__spread:m};t.exports=v},function(t,e,n){"use strict";var i=n(3),r=(n(1),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),o=function(t,e){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e),i}return new n(t,e)},a=function(t,e,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,t,e,n),r}return new i(t,e,n)},s=function(t,e,n,i){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n,i),o}return new r(t,e,n,i)},l=function(t,e,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,i,r),a}return new o(t,e,n,i,r)},c=function(t){var e=this;t instanceof e?void 0:i("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},u=10,h=r,d=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||h,n.poolSize||(n.poolSize=u),n.release=c,n},p={addPoolingTo:d,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};t.exports=p},function(t){"use strict";function e(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;e>i;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var r=new Error(n);throw r.name="Invariant Violation",r.framesToPop=1,r}t.exports=e},function(t,e,n){"use strict";function i(t){return void 0!==t.ref}function r(t){return void 0!==t.key}var o=n(4),a=n(11),s=(n(2),n(71),Object.prototype.hasOwnProperty),l=n(69),c={key:!0,ref:!0,__self:!0,__source:!0},u=function(t,e,n,i,r,o,a){var s={$$typeof:l,type:t,key:e,ref:n,props:a,_owner:o};return s};u.createElement=function(t,e,n){var o,l={},h=null,d=null,p=null,f=null;if(null!=e){i(e)&&(d=e.ref),r(e)&&(h=""+e.key),p=void 0===e.__self?null:e.__self,f=void 0===e.__source?null:e.__source;for(o in e)s.call(e,o)&&!c.hasOwnProperty(o)&&(l[o]=e[o])}var g=arguments.length-2;if(1===g)l.children=n;else if(g>1){for(var m=Array(g),v=0;g>v;v++)m[v]=arguments[v+2];l.children=m}if(t&&t.defaultProps){var _=t.defaultProps;for(o in _)void 0===l[o]&&(l[o]=_[o])}return u(t,h,d,p,f,a.current,l)},u.createFactory=function(t){var e=u.createElement.bind(null,t);return e.type=t,e},u.cloneAndReplaceKey=function(t,e){var n=u(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},u.cloneElement=function(t,e,n){var l,h=o({},t.props),d=t.key,p=t.ref,f=t._self,g=t._source,m=t._owner;if(null!=e){i(e)&&(p=e.ref,m=a.current),r(e)&&(d=""+e.key);var v;t.type&&t.type.defaultProps&&(v=t.type.defaultProps);for(l in e)s.call(e,l)&&!c.hasOwnProperty(l)&&(h[l]=void 0===e[l]&&void 0!==v?v[l]:e[l])}var _=arguments.length-2;if(1===_)h.children=n;else if(_>1){for(var b=Array(_),y=0;_>y;y++)b[y]=arguments[y+2];h.children=b}return u(t.type,d,p,f,g,m,h)},u.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===l},t.exports=u},function(t,e,n){"use strict";function i(){r.attachRefs(this,this._currentElement)}var r=n(130),o=(n(8),n(2),{mountComponent:function(t,e,n,r,o,a){var s=t.mountComponent(e,n,r,o,a);return t._currentElement&&null!=t._currentElement.ref&&e.getReactMountReady().enqueue(i,t),s},getHostNode:function(t){return t.getHostNode()},unmountComponent:function(t,e){r.detachRefs(t,t._currentElement),t.unmountComponent(e)},receiveComponent:function(t,e,n,o){var a=t._currentElement;if(e!==a||o!==t._context){var s=r.shouldUpdateRefs(a,e);s&&r.detachRefs(t,a),t.receiveComponent(e,n,o),s&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t)
}},performUpdateIfNecessary:function(t,e,n){t._updateBatchNumber===n&&t.performUpdateIfNecessary(e)}});t.exports=o},function(t,e,n){"use strict";function i(t){if(m){var e=t.node,n=t.children;if(n.length)for(var i=0;i<n.length;i++)v(e,n[i],null);else null!=t.html?h(e,t.html):null!=t.text&&p(e,t.text)}}function r(t,e){t.parentNode.replaceChild(e.node,t),i(e)}function o(t,e){m?t.children.push(e):t.node.appendChild(e.node)}function a(t,e){m?t.html=e:h(t.node,e)}function s(t,e){m?t.text=e:p(t.node,e)}function l(){return this.node.nodeName}function c(t){return{node:t,children:[],html:null,text:null,toString:l}}var u=n(31),h=n(28),d=n(38),p=n(67),f=1,g=11,m="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),v=d(function(t,e,n){e.node.nodeType===g||e.node.nodeType===f&&"object"===e.node.nodeName.toLowerCase()&&(null==e.node.namespaceURI||e.node.namespaceURI===u.html)?(i(e),t.insertBefore(e.node,n)):(t.insertBefore(e.node,n),i(e))});c.insertTreeBefore=v,c.replaceChildWithTree=r,c.queueChild=o,c.queueHTML=a,c.queueText=s,t.exports=c},function(t,e,n){"use strict";function i(t,e){return(t&e)===e}var r=n(3),o=(n(1),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},l=t.DOMAttributeNames||{},c=t.DOMPropertyNames||{},u=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var h in n){s.properties.hasOwnProperty(h)?r("48",h):void 0;var d=h.toLowerCase(),p=n[h],f={attributeName:d,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseProperty:i(p,e.MUST_USE_PROPERTY),hasBooleanValue:i(p,e.HAS_BOOLEAN_VALUE),hasNumericValue:i(p,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(p,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(p,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:r("50",h),l.hasOwnProperty(h)){var g=l[h];f.attributeName=g}a.hasOwnProperty(h)&&(f.attributeNamespace=a[h]),c.hasOwnProperty(h)&&(f.propertyName=c[h]),u.hasOwnProperty(h)&&(f.mutationMethod=u[h]),s.properties[h]=f}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},injection:o};t.exports=s},function(t){"use strict";var e={};t.exports=e},function(t,e,n){"use strict";function i(t){return"button"===t||"input"===t||"select"===t||"textarea"===t}function r(t,e,n){switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!i(e));default:return!1}}var o=n(3),a=n(32),s=n(33),l=n(37),c=n(63),u=n(64),h=(n(1),{}),d=null,p=function(t,e){t&&(s.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},f=function(t){return p(t,!0)},g=function(t){return p(t,!1)},m=function(t){return"."+t._rootNodeID},v={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(t,e,n){"function"!=typeof n?o("94",e,typeof n):void 0;var i=m(t),r=h[e]||(h[e]={});r[i]=n;var s=a.registrationNameModules[e];s&&s.didPutListener&&s.didPutListener(t,e,n)},getListener:function(t,e){var n=h[e];if(r(e,t._currentElement.type,t._currentElement.props))return null;var i=m(t);return n&&n[i]},deleteListener:function(t,e){var n=a.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var i=h[e];if(i){var r=m(t);delete i[r]}},deleteAllListeners:function(t){var e=m(t);for(var n in h)if(h.hasOwnProperty(n)&&h[n][e]){var i=a.registrationNameModules[n];i&&i.willDeleteListener&&i.willDeleteListener(t,n),delete h[n][e]}},extractEvents:function(t,e,n,i){for(var r,o=a.plugins,s=0;s<o.length;s++){var l=o[s];if(l){var u=l.extractEvents(t,e,n,i);u&&(r=c(r,u))}}return r},enqueueEvents:function(t){t&&(d=c(d,t))},processEventQueue:function(t){var e=d;d=null,t?u(e,f):u(e,g),d?o("95"):void 0,l.rethrowCaughtError()},__purge:function(){h={}},__getListenerBank:function(){return h}};t.exports=v},function(t,e,n){"use strict";function i(t,e,n){var i=e.dispatchConfig.phasedRegistrationNames[n];return v(t,i)}function r(t,e,n){var r=i(t,n,e);r&&(n._dispatchListeners=g(n._dispatchListeners,r),n._dispatchInstances=g(n._dispatchInstances,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.traverseTwoPhase(t._targetInst,r,t)}function a(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst,n=e?f.getParentInstance(e):null;f.traverseTwoPhase(n,r,t)}}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=v(t,i);r&&(n._dispatchListeners=g(n._dispatchListeners,r),n._dispatchInstances=g(n._dispatchInstances,t))}}function l(t){t&&t.dispatchConfig.registrationName&&s(t._targetInst,null,t)}function c(t){m(t,o)}function u(t){m(t,a)}function h(t,e,n,i){f.traverseEnterLeave(n,i,s,t,e)}function d(t){m(t,l)}var p=n(20),f=n(33),g=n(63),m=n(64),v=(n(2),p.getListener),_={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:u,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:h};t.exports=_},function(t){"use strict";var e={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=e},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(10),o=n(41),a={view:function(t){if(t.view)return t.view;var e=o(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(i,a),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(23),o=n(62),a=n(40),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};r.augmentClass(i,s),t.exports=i},function(t,e,n){"use strict";var i=n(3),r=(n(1),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,r,o,a,s,l){this.isInTransaction()?i("27"):void 0;var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=t.call(e,n,r,o,a,s,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(t){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i=e[n];try{this.wrapperInitData[n]=r,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r)try{this.initializeAll(n+1)}catch(t){}}}},closeAll:function(t){this.isInTransaction()?void 0:i("28");for(var e=this.transactionWrappers,n=t;n<e.length;n++){var o,a=e[n],s=this.wrapperInitData[n];try{o=!0,s!==r&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(t){}}}this.wrapperInitData.length=0}};t.exports=o},function(t){"use strict";function e(t){var e=""+t,n=i.exec(e);if(!n)return e;var r,o="",a=0,s=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=e.substring(s,a)),s=a+1,o+=r}return s!==a?o+e.substring(s,a):o}function n(t){return"boolean"==typeof t||"number"==typeof t?""+t:e(t)}var i=/["'&<>]/;t.exports=n},function(t,e,n){"use strict";function i(t){return Object.prototype.hasOwnProperty.call(t,g)||(t[g]=p++,h[t[g]]={}),h[t[g]]}var r,o=n(4),a=n(32),s=n(123),l=n(62),c=n(77),u=n(42),h={},d=!1,p=0,f={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),m=o({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=t}},setEnabled:function(t){m.ReactEventListener&&m.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,r=i(n),o=a.registrationNameDependencies[t],s=0;s<o.length;s++){var l=o[s];r.hasOwnProperty(l)&&r[l]||("topWheel"===l?u("wheel")?m.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):u("mousewheel")?m.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):m.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===l?u("scroll",!0)?m.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):m.ReactEventListener.trapBubbledEvent("topScroll","scroll",m.ReactEventListener.WINDOW_HANDLE):"topFocus"===l||"topBlur"===l?(u("focus",!0)?(m.ReactEventListener.trapCapturedEvent("topFocus","focus",n),m.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):u("focusin")&&(m.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),m.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),r.topBlur=!0,r.topFocus=!0):f.hasOwnProperty(l)&&m.ReactEventListener.trapBubbledEvent(l,f[l],n),r[l]=!0)}},trapBubbledEvent:function(t,e,n){return m.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return m.ReactEventListener.trapCapturedEvent(t,e,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var t=document.createEvent("MouseEvent");return null!=t&&"pageX"in t},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=m.supportsEventPageXY()),!r&&!d){var t=l.refreshScrollValues;m.ReactEventListener.monitorScrollValue(t),d=!0}}});t.exports=m},function(t,e,n){"use strict";var i,r=n(6),o=n(31),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=n(38),c=l(function(t,e){if(t.namespaceURI!==o.svg||"innerHTML"in t)t.innerHTML=e;else{i=i||document.createElement("div"),i.innerHTML="<svg>"+e+"</svg>";for(var n=i.firstChild;n.firstChild;)t.appendChild(n.firstChild)}});if(r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(c=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),a.test(e)||"<"===e[0]&&s.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e}),u=null}t.exports=c},function(t){"use strict";function e(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function n(t,n){if(e(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(n,r[a])||!e(t[r[a]],n[r[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=n},function(t,e,n){"use strict";function i(t,e){return Array.isArray(e)&&(e=e[1]),e?e.nextSibling:t.firstChild}function r(t,e,n){u.insertTreeBefore(t,e,n)}function o(t,e,n){Array.isArray(e)?s(t,e[0],e[1],n):g(t,e,n)}function a(t,e){if(Array.isArray(e)){var n=e[1];e=e[0],l(t,e,n),t.removeChild(n)}t.removeChild(e)}function s(t,e,n,i){for(var r=e;;){var o=r.nextSibling;if(g(t,r,i),r===n)break;r=o}}function l(t,e,n){for(;;){var i=e.nextSibling;if(i===n)break;t.removeChild(i)}}function c(t,e,n){var i=t.parentNode,r=t.nextSibling;r===e?n&&g(i,document.createTextNode(n),r):n?(f(r,n),l(i,r,e)):l(i,t,e)}var u=n(17),h=n(105),d=(n(5),n(8),n(38)),p=n(28),f=n(67),g=d(function(t,e,n){t.insertBefore(e,n)}),m=h.dangerouslyReplaceNodeWithMarkup,v={dangerouslyReplaceNodeWithMarkup:m,replaceDelimitedText:c,processUpdates:function(t,e){for(var n=0;n<e.length;n++){var s=e[n];switch(s.type){case"INSERT_MARKUP":r(t,s.content,i(t,s.afterNode));break;case"MOVE_EXISTING":o(t,s.fromNode,i(t,s.afterNode));break;case"SET_MARKUP":p(t,s.content);break;case"TEXT_CONTENT":f(t,s.content);break;case"REMOVE_NODE":a(t,s.fromNode)}}}};t.exports=v},function(t){"use strict";var e={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=e},function(t,e,n){"use strict";function i(){if(s)for(var t in l){var e=l[t],n=s.indexOf(t);if(n>-1?void 0:a("96",t),!c.plugins[n]){e.extractEvents?void 0:a("97",t),c.plugins[n]=e;var i=e.eventTypes;for(var o in i)r(i[o],e,o)?void 0:a("98",o,t)}}}function r(t,e,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,c.eventNameDispatchConfigs[n]=t;var i=t.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];o(s,e,n)}return!0}return!!t.registrationName&&(o(t.registrationName,e,n),!0)}function o(t,e,n){c.registrationNameModules[t]?a("100",t):void 0,c.registrationNameModules[t]=e,c.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=n(3),s=(n(1),null),l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){s?a("101"):void 0,s=Array.prototype.slice.call(t),i()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];l.hasOwnProperty(n)&&l[n]===r||(l[n]?a("102",n):void 0,l[n]=r,e=!0)}e&&i()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return c.registrationNameModules[e.registrationName]||null;if(void 0!==e.phasedRegistrationNames){var n=e.phasedRegistrationNames;for(var i in n)if(n.hasOwnProperty(i)){var r=c.registrationNameModules[n[i]];if(r)return r}}return null},_resetEventPlugins:function(){s=null;for(var t in l)l.hasOwnProperty(t)&&delete l[t];c.plugins.length=0;var e=c.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var i=c.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};t.exports=c},function(t,e,n){"use strict";function i(t){return"topMouseUp"===t||"topTouchEnd"===t||"topTouchCancel"===t}function r(t){return"topMouseMove"===t||"topTouchMove"===t}function o(t){return"topMouseDown"===t||"topTouchStart"===t}function a(t,e,n,i){var r=t.type||"unknown-event";t.currentTarget=v.getNodeFromInstance(i),e?g.invokeGuardedCallbackWithCatch(r,n,t):g.invokeGuardedCallback(r,n,t),t.currentTarget=null}function s(t,e){var n=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)a(t,e,n[r],i[r]);else n&&a(t,e,n,i);t._dispatchListeners=null,t._dispatchInstances=null}function l(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var i=0;i<e.length&&!t.isPropagationStopped();i++)if(e[i](t,n[i]))return n[i]}else if(e&&e(t,n))return n;return null}function c(t){var e=l(t);return t._dispatchInstances=null,t._dispatchListeners=null,e}function u(t){var e=t._dispatchListeners,n=t._dispatchInstances;Array.isArray(e)?f("103"):void 0,t.currentTarget=e?v.getNodeFromInstance(n):null;var i=e?e(t):null;return t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,i}function h(t){return!!t._dispatchListeners}var d,p,f=n(3),g=n(37),m=(n(1),n(2),{injectComponentTree:function(t){d=t},injectTreeTraversal:function(t){p=t}}),v={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:u,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,getInstanceFromNode:function(t){return d.getInstanceFromNode(t)},getNodeFromInstance:function(t){return d.getNodeFromInstance(t)},isAncestor:function(t,e){return p.isAncestor(t,e)},getLowestCommonAncestor:function(t,e){return p.getLowestCommonAncestor(t,e)},getParentInstance:function(t){return p.getParentInstance(t)},traverseTwoPhase:function(t,e,n){return p.traverseTwoPhase(t,e,n)},traverseEnterLeave:function(t,e,n,i,r){return p.traverseEnterLeave(t,e,n,i,r)},injection:m};t.exports=v},function(t){"use strict";function e(t){var e=/[=:]/g,n={"=":"=0",":":"=2"},i=(""+t).replace(e,function(t){return n[t]});return"$"+i}function n(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"},i=t.substring("."===t[0]&&"$"===t[1]?2:1);return(""+i).replace(e,function(t){return n[t]})}var i={escape:e,unescape:n};t.exports=i},function(t,e,n){"use strict";function i(t){null!=t.checkedLink&&null!=t.valueLink?s("87"):void 0}function r(t){i(t),null!=t.value||null!=t.onChange?s("88"):void 0}function o(t){i(t),null!=t.checked||null!=t.onChange?s("89"):void 0}function a(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var s=n(3),l=n(12),c=n(128),u=(n(1),n(2),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),h={value:function(t,e){return!t[e]||u[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.PropTypes.func},d={},p={checkPropTypes:function(t,e,n){for(var i in h){if(h.hasOwnProperty(i))var r=h[i](e,i,t,"prop",null,c);r instanceof Error&&!(r.message in d)&&(d[r.message]=!0,a(n))}},getValue:function(t){return t.valueLink?(r(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(o(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(r(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(o(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=p},function(t,e,n){"use strict";var i=n(3),r=(n(1),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){r?i("104"):void 0,o.replaceNodeWithMarkup=t.replaceNodeWithMarkup,o.processChildrenUpdates=t.processChildrenUpdates,r=!0}}};t.exports=o},function(t){"use strict";function e(t,e,i){try{e(i)}catch(t){null===n&&(n=t)}}var n=null,i={invokeGuardedCallback:e,invokeGuardedCallbackWithCatch:e,rethrowCaughtError:function(){if(n){var t=n;throw n=null,t}}};t.exports=i},function(t){"use strict";var e=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t};t.exports=e},function(t){"use strict";function e(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=e},function(t){"use strict";function e(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=i[t];return!!r&&!!n[r]}function n(){return e}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=n},function(t){"use strict";function e(t){var e=t.target||t.srcElement||window;return e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}t.exports=e},function(t,e,n){"use strict";function i(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&r&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=n(6);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=i},function(t,e,n){"use strict";var i=(n(4),n(7)),r=(n(2),i);t.exports=r},function(t,e,n){"use strict";function i(t,e,n){this.props=t,this.context=e,this.refs=a,this.updater=n||o}var r=n(14),o=n(45),a=(n(71),n(19));n(1),n(2),i.prototype.isReactComponent={},i.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?r("85"):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")},t.exports=i},function(t,e,n){"use strict";function i(){}var r=(n(2),{isMounted:function(){return!1},enqueueCallback:function(){},enqueueForceUpdate:function(t){i(t,"forceUpdate")},enqueueReplaceState:function(t){i(t,"replaceState")},enqueueSetState:function(t){i(t,"setState")}});t.exports=r},function(t,e,n){"use strict";function i(t){l.enqueueUpdate(t)}function r(t){var e=typeof t;if("object"!==e)return e;var n=t.constructor&&t.constructor.name||e,i=Object.keys(t);return i.length>0&&i.length<20?n+" (keys: "+i.join(", ")+")":n}function o(t){var e=s.get(t);return e?e:null}var a=n(3),s=(n(11),n(22)),l=(n(8),n(9)),c=(n(1),n(2),{isMounted:function(t){var e=s.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e,n){c.validateCallback(e,n);var r=o(t);return r?(r._pendingCallbacks?r._pendingCallbacks.push(e):r._pendingCallbacks=[e],void i(r)):null},enqueueCallbackInternal:function(t,e){t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],i(t)},enqueueForceUpdate:function(t){var e=o(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,i(e))},enqueueReplaceState:function(t,e){var n=o(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(t,e){var n=o(t,"setState");if(n){var r=n._pendingStateQueue||(n._pendingStateQueue=[]);r.push(e),i(n)}},enqueueElementInternal:function(t,e,n){t._pendingElement=e,t._context=n,i(t)},validateCallback:function(t,e){t&&"function"!=typeof t?a("122",e,r(t)):void 0}});t.exports=c},function(t){"use strict";function e(t,e){var n=null===t||t===!1,i=null===e||e===!1;if(n||i)return n===i;var r=typeof t,o=typeof e;return"string"===r||"number"===r?"string"===o||"number"===o:"object"===o&&t.type===e.type&&t.key===e.key}t.exports=e},function(t){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===e||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(n){try{return c.call(null,t,0)}catch(n){return c.call(this,t,0)}}}function r(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function o(){f&&d&&(f=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!f){var t=i(o);f=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,f=!1,r(t)}}function s(t,e){this.fun=t,this.array=e}function l(){}var c,u,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:e}catch(t){c=e}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}}();var d,p=[],f=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||f||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function i(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,i=RegExp("^"+e.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var r=e.call(t);return i.test(r)}catch(t){return!1}}function r(t){var e=c(t);if(e){var n=e.childIDs;u(t),n.forEach(r)}}function o(t,e,n){return"\n    in "+(t||"Unknown")+(e?" (at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+")":n?" (created by "+n+")":"")}function a(t){return null==t?"#empty":"string"==typeof t||"number"==typeof t?"#text":"string"==typeof t.type?t.type:t.type.displayName||t.type.name||"Unknown"}function s(t){var e,n=C.getDisplayName(t),i=C.getElement(t),r=C.getOwnerID(t);return r&&(e=C.getDisplayName(r)),o(n,i&&i._source,e)}var l,c,u,h,d,p,f,g=n(14),m=n(11),v=(n(1),n(2),"function"==typeof Array.from&&"function"==typeof Map&&i(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&i(Map.prototype.keys)&&"function"==typeof Set&&i(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&i(Set.prototype.keys));if(v){var _=new Map,b=new Set;l=function(t,e){_.set(t,e)},c=function(t){return _.get(t)},u=function(t){_.delete(t)},h=function(){return Array.from(_.keys())},d=function(t){b.add(t)},p=function(t){b.delete(t)},f=function(){return Array.from(b.keys())}}else{var y={},w={},k=function(t){return"."+t},x=function(t){return parseInt(t.substr(1),10)};l=function(t,e){var n=k(t);y[n]=e},c=function(t){var e=k(t);return y[e]},u=function(t){var e=k(t);delete y[e]},h=function(){return Object.keys(y).map(x)},d=function(t){var e=k(t);w[e]=!0},p=function(t){var e=k(t);delete w[e]},f=function(){return Object.keys(w).map(x)}}var S=[],C={onSetChildren:function(t,e){var n=c(t);n?void 0:g("144"),n.childIDs=e;for(var i=0;i<e.length;i++){var r=e[i],o=c(r);o?void 0:g("140"),null==o.childIDs&&"object"==typeof o.element&&null!=o.element?g("141"):void 0,o.isMounted?void 0:g("71"),null==o.parentID&&(o.parentID=t),o.parentID!==t?g("142",r,o.parentID,t):void 0}},onBeforeMountComponent:function(t,e,n){var i={element:e,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};l(t,i)},onBeforeUpdateComponent:function(t,e){var n=c(t);n&&n.isMounted&&(n.element=e)},onMountComponent:function(t){var e=c(t);e?void 0:g("144"),e.isMounted=!0;var n=0===e.parentID;n&&d(t)},onUpdateComponent:function(t){var e=c(t);e&&e.isMounted&&e.updateCount++},onUnmountComponent:function(t){var e=c(t);if(e){e.isMounted=!1;var n=0===e.parentID;n&&p(t)}S.push(t)},purgeUnmountedComponents:function(){if(!C._preventPurging){for(var t=0;t<S.length;t++){var e=S[t];r(e)}S.length=0}},isMounted:function(t){var e=c(t);return!!e&&e.isMounted},getCurrentStackAddendum:function(t){var e="";if(t){var n=a(t),i=t._owner;e+=o(n,t._source,i&&i.getName())}var r=m.current,s=r&&r._debugID;return e+=C.getStackAddendumByID(s)},getStackAddendumByID:function(t){for(var e="";t;)e+=s(t),t=C.getParentID(t);return e},getChildIDs:function(t){var e=c(t);return e?e.childIDs:[]},getDisplayName:function(t){var e=C.getElement(t);return e?a(e):null},getElement:function(t){var e=c(t);return e?e.element:null},getOwnerID:function(t){var e=C.getElement(t);return e&&e._owner?e._owner._debugID:null},getParentID:function(t){var e=c(t);return e?e.parentID:null},getSource:function(t){var e=c(t),n=e?e.element:null,i=null!=n?n._source:null;return i},getText:function(t){var e=C.getElement(t);return"string"==typeof e?e:"number"==typeof e?""+e:null},getUpdateCount:function(t){var e=c(t);return e?e.updateCount:0},getRootIDs:f,getRegisteredIDs:h};t.exports=C},function(t,e,n){"use strict";function i(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function o(t){var e;if(null===t||t===!1)e=c.create(o);else if("object"==typeof t){var n=t;!n||"function"!=typeof n.type&&"string"!=typeof n.type?a("130",null==n.type?n.type:typeof n.type,i(n._owner)):void 0,"string"==typeof n.type?e=u.createInternalComponent(n):r(n.type)?(e=new n.type(n),e.getHostNode||(e.getHostNode=e.getNativeNode)):e=new h(n)}else"string"==typeof t||"number"==typeof t?e=u.createInstanceForText(t):a("131",typeof t);return e._mountIndex=0,e._mountImage=null,e}var a=n(3),s=n(4),l=n(112),c=n(59),u=n(60),h=(n(150),n(1),n(2),function(t){this.construct(t)});s(h.prototype,l,{_instantiateReactComponent:o}),t.exports=o},function(t,e,n){"use strict";var i=n(7),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:i}},registerDefault:function(){}};t.exports=r},function(t){"use strict";function e(t){try{t.focus()}catch(t){}}t.exports=e},function(t){"use strict";function e(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=e},function(t){"use strict";function e(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(t){i.forEach(function(i){n[e(i,t)]=n[t]})});var r={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},o={isUnitlessNumber:n,shorthandPropertyExpansions:r};t.exports=o
},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(3),o=n(13),a=(n(1),function(){function t(e){i(this,t),this._callbacks=null,this._contexts=null,this._arg=e}return t.prototype.enqueue=function(t,e){this._callbacks=this._callbacks||[],this._callbacks.push(t),this._contexts=this._contexts||[],this._contexts.push(e)},t.prototype.notifyAll=function(){var t=this._callbacks,e=this._contexts,n=this._arg;if(t&&e){t.length!==e.length?r("24"):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<t.length;i++)t[i].call(e[i],n);t.length=0,e.length=0}},t.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},t.prototype.rollback=function(t){this._callbacks&&this._contexts&&(this._callbacks.length=t,this._contexts.length=t)},t.prototype.reset=function(){this._callbacks=null,this._contexts=null},t.prototype.destructor=function(){this.reset()},t}());t.exports=o.addPoolingTo(a)},function(t,e,n){"use strict";function i(t){return!!c.hasOwnProperty(t)||!l.hasOwnProperty(t)&&(s.test(t)?(c[t]=!0,!0):(l[t]=!0,!1))}function r(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&1>e||t.hasOverloadedBooleanValue&&e===!1}var o=n(18),a=(n(5),n(8),n(152)),s=(n(2),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),l={},c={},u={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+a(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(t){t.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(r(n,e))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?i+'=""':i+"="+a(e)}return o.isCustomAttribute(t)?null==e?"":t+"="+a(e):null},createMarkupForCustomAttribute:function(t,e){return i(t)&&null!=e?t+"="+a(e):""},setValueForProperty:function(t,e,n){var i=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(i){var a=i.mutationMethod;if(a)a(t,n);else{if(r(i,n))return void this.deleteValueForProperty(t,e);if(i.mustUseProperty)t[i.propertyName]=n;else{var s=i.attributeName,l=i.attributeNamespace;l?t.setAttributeNS(l,s,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===!0?t.setAttribute(s,""):t.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(e))return void u.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){i(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForAttribute:function(t,e){t.removeAttribute(e)},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var i=n.mutationMethod;if(i)i(t,void 0);else if(n.mustUseProperty){var r=n.propertyName;t[r]=n.hasBooleanValue?!1:""}else t.removeAttribute(n.attributeName)}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};t.exports=u},function(t){"use strict";var e={hasCachedChildNodes:1};t.exports=e},function(t,e,n){"use strict";function i(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=s.getValue(t);null!=e&&r(this,Boolean(t.multiple),e)}}function r(t,e,n){var i,r,o=l.getNodeFromInstance(t).options;if(e){for(i={},r=0;r<n.length;r++)i[""+n[r]]=!0;for(r=0;r<o.length;r++){var a=i.hasOwnProperty(o[r].value);o[r].selected!==a&&(o[r].selected=a)}}else{for(i=""+n,r=0;r<o.length;r++)if(o[r].value===i)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}function o(t){var e=this._currentElement.props,n=s.executeOnChange(e,t);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(i,this),n}var a=n(4),s=n(35),l=n(5),c=n(9),u=(n(2),!1),h={getHostProps:function(t,e){return a({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=s.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,listeners:null,onChange:o.bind(t),wasMultiple:Boolean(e.multiple)},void 0===e.value||void 0===e.defaultValue||u||(u=!0)},getSelectValueContext:function(t){return t._wrapperState.initialValue},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var i=s.getValue(e);null!=i?(t._wrapperState.pendingUpdate=!1,r(t,Boolean(e.multiple),i)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?r(t,Boolean(e.multiple),e.defaultValue):r(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=h},function(t){"use strict";var e,n={injectEmptyComponentFactory:function(t){e=t}},i={create:function(t){return e(t)}};i.injection=n,t.exports=i},function(t,e,n){"use strict";function i(t){return l?void 0:a("111",t.type),new l(t)}function r(t){return new u(t)}function o(t){return t instanceof u}var a=n(3),s=n(4),l=(n(1),null),c={},u=null,h={injectGenericComponentClass:function(t){l=t},injectTextComponentClass:function(t){u=t},injectComponentClasses:function(t){s(c,t)}},d={createInternalComponent:i,createInstanceForText:r,isTextComponent:o,injection:h};t.exports=d},function(t,e,n){"use strict";function i(t){return o(document.documentElement,t)}var r=n(118),o=n(90),a=n(52),s=n(53),l={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:l.hasSelectionCapabilities(t)?l.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,r=t.selectionRange;e!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if(void 0===i&&(i=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(t,e)}};t.exports=l},function(t){"use strict";var e={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){e.currentScrollLeft=t.x,e.currentScrollTop=t.y}};t.exports=e},function(t,e,n){"use strict";function i(t,e){return null==e?r("30"):void 0,null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}var r=n(3);n(1),t.exports=i},function(t){"use strict";function e(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}t.exports=e},function(t,e,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=n(6),o=null;t.exports=i},function(t){"use strict";function e(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!n[t.type]:"textarea"===e}var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=e},function(t,e,n){"use strict";var i=n(6),r=n(26),o=n(28),a=function(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e};i.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){return 3===t.nodeType?void(t.nodeValue=e):void o(t,r(e))})),t.exports=a},function(t,e,n){"use strict";function i(t,e){return t&&"object"==typeof t&&null!=t.key?c.escape(t.key):e.toString(36)}function r(t,e,n,o){var d=typeof t;if("undefined"!==d&&"boolean"!==d||(t=null),null===t||"string"===d||"number"===d||"object"===d&&t.$$typeof===s)return n(o,t,""===e?u+i(t,0):e),1;var p,f,g=0,m=""===e?u:e+h;if(Array.isArray(t))for(var v=0;v<t.length;v++)p=t[v],f=m+i(p,v),g+=r(p,f,n,o);else{var _=l(t);if(_){var b,y=_.call(t);if(_!==t.entries)for(var w=0;!(b=y.next()).done;)p=b.value,f=m+i(p,w++),g+=r(p,f,n,o);else for(;!(b=y.next()).done;){var k=b.value;k&&(p=k[1],f=m+c.escape(k[0])+h+i(p,0),g+=r(p,f,n,o))}}else if("object"===d){var x="",S=String(t);a("31","[object Object]"===S?"object with keys {"+Object.keys(t).join(", ")+"}":S,x)}}return g}function o(t,e,n){return null==t?0:r(t,"",e,n)}var a=n(3),s=(n(11),n(122)),l=n(149),c=(n(1),n(34)),u=(n(2),"."),h=":";t.exports=o},function(t){"use strict";var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=e},function(t){"use strict";var e={};t.exports=e},function(t){"use strict";var e=!1;t.exports=e},function(t){"use strict";function e(t){var e=t&&(n&&t[n]||t[i]);return"function"==typeof e?e:void 0}var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=e},function(t){"use strict";var e={logTopLevelRenders:!1};t.exports=e},function(t,e,n){"use strict";var i=n(3),r=n(12),o=(n(1),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(t){return null===t||t===!1?o.EMPTY:r.isValidElement(t)?"function"==typeof t.type?o.COMPOSITE:o.HOST:void i("26",t)}});t.exports=o},function(t,e,n){"use strict";function i(){this.reinitializeTransaction()}var r=n(4),o=n(9),a=n(25),s=n(7),l={initialize:s,close:function(){d.isBatchingUpdates=!1}},c={initialize:s,close:o.flushBatchedUpdates.bind(o)},u=[c,l];r(i.prototype,a,{getTransactionWrappers:function(){return u}});var h=new i,d={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,i,r,o){var a=d.isBatchingUpdates;return d.isBatchingUpdates=!0,a?t(e,n,i,r,o):h.perform(t,null,e,n,i,r,o)}};t.exports=d},function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.useCreateElement=!1,this.updateQueue=new s(this)}var r=n(4),o=n(13),a=n(25),s=(n(8),n(131)),l=[],c={enqueue:function(){}},u={getTransactionWrappers:function(){return l},getReactMountReady:function(){return c},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(i.prototype,a,u),o.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";function i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function r(t){if(s[t])return s[t];if(!a[t])return t;var e=a[t];for(var n in e)if(e.hasOwnProperty(n)&&n in l)return s[t]=e[n];return""}var o=n(6),a={animationend:i("Animation","AnimationEnd"),animationiteration:i("Animation","AnimationIteration"),animationstart:i("Animation","AnimationStart"),transitionend:i("Transition","TransitionEnd")},s={},l={};o.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=r},function(t){"use strict";function e(t){var e=/[=:]/g,n={"=":"=0",":":"=2"},i=(""+t).replace(e,function(t){return n[t]});return"$"+i}function n(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"},i=t.substring("."===t[0]&&"$"===t[1]?2:1);return(""+i).replace(e,function(t){return n[t]})}var i={escape:e,unescape:n};t.exports=i},function(t,e,n){"use strict";function i(t){return(""+t).replace(y,"$&/")}function r(t,e){this.func=t,this.context=e,this.count=0}function o(t,e){var n=t.func,i=t.context;n.call(i,e,t.count++)}function a(t,e,n){if(null==t)return t;var i=r.getPooled(e,n);v(t,o,i),r.release(i)}function s(t,e,n,i){this.result=t,this.keyPrefix=e,this.func=n,this.context=i,this.count=0}function l(t,e,n){var r=t.result,o=t.keyPrefix,a=t.func,s=t.context,l=a.call(s,e,t.count++);Array.isArray(l)?c(l,r,n,m.thatReturnsArgument):null!=l&&(g.isValidElement(l)&&(l=g.cloneAndReplaceKey(l,o+(!l.key||e&&e.key===l.key?"":i(l.key)+"/")+n)),r.push(l))}function c(t,e,n,r,o){var a="";null!=n&&(a=i(n)+"/");var c=s.getPooled(e,a,r,o);v(t,l,c),s.release(c)}function u(t,e,n){if(null==t)return t;var i=[];return c(t,i,null,e,n),i}function h(){return null}function d(t){return v(t,h,null)}function p(t){var e=[];return c(t,e,null,m.thatReturnsArgument),e}var f=n(153),g=n(15),m=n(7),v=n(81),_=f.twoArgumentPooler,b=f.fourArgumentPooler,y=/\/+/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(r,_),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,b);var w={forEach:a,map:u,mapIntoWithKeyPrefixInternal:c,count:d,toArray:p};t.exports=w},function(t,e,n){"use strict";function i(t){return o.isValidElement(t)?void 0:r("143"),t}var r=n(14),o=n(15);n(1),t.exports=i},function(t,e,n){"use strict";function i(t,e){return t&&"object"==typeof t&&null!=t.key?c.escape(t.key):e.toString(36)}function r(t,e,n,o){var d=typeof t;if("undefined"!==d&&"boolean"!==d||(t=null),null===t||"string"===d||"number"===d||"object"===d&&t.$$typeof===s)return n(o,t,""===e?u+i(t,0):e),1;var p,f,g=0,m=""===e?u:e+h;if(Array.isArray(t))for(var v=0;v<t.length;v++)p=t[v],f=m+i(p,v),g+=r(p,f,n,o);else{var _=l(t);if(_){var b,y=_.call(t);if(_!==t.entries)for(var w=0;!(b=y.next()).done;)p=b.value,f=m+i(p,w++),g+=r(p,f,n,o);else for(;!(b=y.next()).done;){var k=b.value;k&&(p=k[1],f=m+c.escape(k[0])+h+i(p,0),g+=r(p,f,n,o))}}else if("object"===d){var x="",S=String(t);a("31","[object Object]"===S?"object with keys {"+Object.keys(t).join(", ")+"}":S,x)}}return g}function o(t,e,n){return null==t?0:r(t,"",e,n)}var a=n(14),s=(n(11),n(69)),l=n(72),c=(n(1),n(78)),u=(n(2),"."),h=":";t.exports=o},function(t,e,n){"use strict";function i(t,e){var n={_topLevelWrapper:t,_idCounter:1,_ownerDocument:e?e.nodeType===r?e:e.ownerDocument:null,_node:e,_tag:e?e.nodeName.toLowerCase():null,_namespaceURI:e?e.namespaceURI:null};return n}var r=(n(43),9);t.exports=i},function(t,e,n){"use strict";function i(){x||(x=!0,_.EventEmitter.injectReactEventListener(v),_.EventPluginHub.injectEventPluginOrder(s),_.EventPluginUtils.injectComponentTree(d),_.EventPluginUtils.injectTreeTraversal(f),_.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:k,EnterLeaveEventPlugin:l,ChangeEventPlugin:a,SelectEventPlugin:w,BeforeInputEventPlugin:o}),_.HostComponent.injectGenericComponentClass(h),_.HostComponent.injectTextComponentClass(g),_.DOMProperty.injectDOMPropertyConfig(r),_.DOMProperty.injectDOMPropertyConfig(c),_.DOMProperty.injectDOMPropertyConfig(y),_.EmptyComponent.injectEmptyComponentFactory(function(t){return new p(t)}),_.Updates.injectReconcileTransaction(b),_.Updates.injectBatchingStrategy(m),_.Component.injectEnvironment(u))}var r=n(100),o=n(102),a=n(104),s=n(106),l=n(107),c=n(109),u=n(111),h=n(113),d=n(5),p=n(114),f=n(121),g=n(119),m=n(75),v=n(124),_=n(125),b=n(129),y=n(132),w=n(133),k=n(134),x=!1;t.exports={inject:i}},function(t,e,n){"use strict";var i=n(145),r=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=i(t);return o.test(t)?t:t.replace(r," "+a.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var r=i(t);return r===n}};t.exports=a},function(t,e,n){"use strict";function i(t,e){for(var n=Math.min(t.length,e.length),i=0;n>i;i++)if(t.charAt(i)!==e.charAt(i))return i;return t.length===e.length?-1:n}function r(t){return t?t.nodeType===$?t.documentElement:t.firstChild:null}function o(t){return t.getAttribute&&t.getAttribute(A)||""}function a(t,e,n,i,r){var o;if(w.logTopLevelRenders){var a=t._currentElement.props.child,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var l=S.mountComponent(t,n,null,b(t,e),r,0);o&&console.timeEnd(o),t._renderedComponent._topLevelWrapper=t,L._mountImageIntoNode(l,e,t,i,n)}function s(t,e,n,i){var r=T.ReactReconcileTransaction.getPooled(!n&&y.useCreateElement);r.perform(a,null,t,e,r,n,i),T.ReactReconcileTransaction.release(r)}function l(t,e,n){for(S.unmountComponent(t,n),e.nodeType===$&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function c(t){var e=r(t);if(e){var n=_.getInstanceFromNode(e);return!(!n||!n._hostParent)}}function u(t){return!(!t||t.nodeType!==O&&t.nodeType!==$&&t.nodeType!==R)}function h(t){var e=r(t),n=e&&_.getInstanceFromNode(e);return n&&!n._hostParent?n:null}function d(t){var e=h(t);return e?e._hostContainerInfo._topLevelWrapper:null}var p=n(3),f=n(17),g=n(18),m=n(12),v=n(27),_=(n(11),n(5)),b=n(82),y=n(162),w=n(73),k=n(22),x=(n(8),n(84)),S=n(16),C=n(46),T=n(9),E=n(19),D=n(50),I=(n(1),n(28)),P=n(47),A=(n(2),g.ID_ATTRIBUTE_NAME),j=g.ROOT_ATTRIBUTE_NAME,O=1,$=9,R=11,M={},N=1,F=function(){this.rootID=N++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props.child},F.isReactTopLevelWrapper=!0;var L={TopLevelWrapper:F,_instancesByReactRootID:M,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,i,r){return L.scrollMonitor(i,function(){C.enqueueElementInternal(t,e,n),r&&C.enqueueCallbackInternal(t,r)}),t},_renderNewRootComponent:function(t,e,n,i){u(e)?void 0:p("37"),v.ensureScrollValueMonitoring();var r=D(t,!1);T.batchedUpdates(s,r,e,n,i);var o=r._instance.rootID;return M[o]=r,r},renderSubtreeIntoContainer:function(t,e,n,i){return null!=t&&k.has(t)?void 0:p("38"),L._renderSubtreeIntoContainer(t,e,n,i)},_renderSubtreeIntoContainer:function(t,e,n,i){C.validateCallback(i,"ReactDOM.render"),m.isValidElement(e)?void 0:p("39","string"==typeof e?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof e?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=m.createElement(F,{child:e});if(t){var l=k.get(t);a=l._processChildContext(l._context)}else a=E;var u=d(n);if(u){var h=u._currentElement,f=h.props.child;if(P(f,e)){var g=u._renderedComponent.getPublicInstance(),v=i&&function(){i.call(g)};return L._updateRootComponent(u,s,a,n,v),g}L.unmountComponentAtNode(n)}var _=r(n),b=_&&!!o(_),y=c(n),w=b&&!u&&!y,x=L._renderNewRootComponent(s,n,w,a)._renderedComponent.getPublicInstance();return i&&i.call(x),x},render:function(t,e,n){return L._renderSubtreeIntoContainer(null,t,e,n)},unmountComponentAtNode:function(t){u(t)?void 0:p("40");var e=d(t);return e?(delete M[e._instance.rootID],T.batchedUpdates(l,e,t,!1),!0):(c(t),1===t.nodeType&&t.hasAttribute(j),!1)},_mountImageIntoNode:function(t,e,n,o,a){if(u(e)?void 0:p("41"),o){var s=r(e);if(x.canReuseMarkup(t,s))return void _.precacheNode(n,s);var l=s.getAttribute(x.CHECKSUM_ATTR_NAME);s.removeAttribute(x.CHECKSUM_ATTR_NAME);var c=s.outerHTML;s.setAttribute(x.CHECKSUM_ATTR_NAME,l);var h=t,d=i(h,c),g=" (client) "+h.substring(d-20,d+20)+"\n (server) "+c.substring(d-20,d+20);e.nodeType===$?p("42",g):void 0}if(e.nodeType===$?p("43"):void 0,a.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);f.insertTreeBefore(e,t,null)}else I(e,t),_.precacheNode(n,e.firstChild)}};t.exports=L},function(t){"use strict";t.exports="15.4.1"},function(t,e,n){"use strict";function i(t){for(var e;(e=t._renderedNodeType)===r.COMPOSITE;)t=t._renderedComponent;return e===r.HOST?t._renderedComponent:e===r.EMPTY?null:void 0}var r=n(74);t.exports=i},function(t){"use strict";function e(t){return t.replace(n,function(t,e){return e.toUpperCase()})}var n=/-(.)/g;t.exports=e},function(t,e,n){"use strict";function i(t){return r(t.replace(o,"ms-"))}var r=n(88),o=/^-ms-/;t.exports=i},function(t,e,n){"use strict";function i(t,e){return!!(t&&e&&(t===e||!r(t)&&(r(e)?i(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e))))}var r=n(98);t.exports=i},function(t,e,n){"use strict";function i(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?a(!1):void 0,"number"!=typeof e?a(!1):void 0,0===e||e-1 in t?void 0:a(!1),"function"==typeof t.callee?a(!1):void 0,t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(t){}for(var n=Array(e),i=0;e>i;i++)n[i]=t[i];return n}function r(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function o(t){return r(t)?Array.isArray(t)?t.slice():i(t):[t]}var a=n(1);t.exports=o},function(t,e,n){"use strict";function i(t){var e=t.match(u);return e&&e[1].toLowerCase()}function r(t,e){var n=c;c?void 0:l(!1);var r=i(t),o=r&&s(r);if(o){n.innerHTML=o[1]+t+o[2];for(var u=o[0];u--;)n=n.lastChild}else n.innerHTML=t;var h=n.getElementsByTagName("script");h.length&&(e?void 0:l(!1),a(h).forEach(e));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var o=n(6),a=n(91),s=n(93),l=n(1),c=o.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;t.exports=r},function(t,e,n){"use strict";function i(t){return a?void 0:o(!1),d.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||(a.innerHTML="*"===t?"<link />":"<"+t+"></"+t+">",s[t]=!a.firstChild),s[t]?d[t]:null}var r=n(6),o=n(1),a=r.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(t){d[t]=h,s[t]=!0}),t.exports=i},function(t){"use strict";function e(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=e},function(t){"use strict";function e(t){return t.replace(n,"-$1").toLowerCase()}var n=/([A-Z])/g;t.exports=e},function(t,e,n){"use strict";function i(t){return r(t).replace(o,"-ms-")}var r=n(95),o=/^ms-/;t.exports=i},function(t){"use strict";function e(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=e},function(t,e,n){"use strict";function i(t){return r(t)&&3==t.nodeType}var r=n(97);t.exports=i},function(t){"use strict";function e(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=e},function(t){"use strict";var e={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};t.exports=e},function(t,e,n){"use strict";var i=n(5),r=n(52),o={focusDOMComponent:function(){r(i.getNodeFromInstance(this))}};t.exports=o},function(t,e,n){"use strict";function i(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case"topCompositionStart":return T.compositionStart;case"topCompositionEnd":return T.compositionEnd;case"topCompositionUpdate":return T.compositionUpdate}}function a(t,e){return"topKeyDown"===t&&e.keyCode===b}function s(t,e){switch(t){case"topKeyUp":return-1!==_.indexOf(e.keyCode);case"topKeyDown":return e.keyCode!==b;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function l(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function c(t,e,n,i){var r,c;if(y?r=o(t):D?s(t,n)&&(r=T.compositionEnd):a(t,n)&&(r=T.compositionStart),!r)return null;x&&(D||r!==T.compositionStart?r===T.compositionEnd&&D&&(c=D.getData()):D=g.getPooled(i));var u=m.getPooled(r,e,n,i);if(c)u.data=c;else{var h=l(n);null!==h&&(u.data=h)}return p.accumulateTwoPhaseDispatches(u),u}function u(t,e){switch(t){case"topCompositionEnd":return l(e);case"topKeyPress":var n=e.which;return n!==S?null:(E=!0,C);case"topTextInput":var i=e.data;return i===C&&E?null:i;default:return null}}function h(t,e){if(D){if("topCompositionEnd"===t||!y&&s(t,e)){var n=D.getData();return g.release(D),D=null,n}return null}switch(t){case"topPaste":return null;case"topKeyPress":return e.which&&!r(e)?String.fromCharCode(e.which):null;case"topCompositionEnd":return x?null:e.data;default:return null}}function d(t,e,n,i){var r;if(r=k?u(t,n):h(t,n),!r)return null;var o=v.getPooled(T.beforeInput,e,n,i);return o.data=r,p.accumulateTwoPhaseDispatches(o),o}var p=n(21),f=n(6),g=n(108),m=n(137),v=n(140),_=[9,13,27,32],b=229,y=f.canUseDOM&&"CompositionEvent"in window,w=null;f.canUseDOM&&"documentMode"in document&&(w=document.documentMode);var k=f.canUseDOM&&"TextEvent"in window&&!w&&!i(),x=f.canUseDOM&&(!y||w&&w>8&&11>=w),S=32,C=String.fromCharCode(S),T={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},E=!1,D=null,I={eventTypes:T,extractEvents:function(t,e,n,i){return[c(t,e,n,i),d(t,e,n,i)]}};t.exports=I},function(t,e,n){"use strict";var i=n(54),r=n(6),o=(n(8),n(89),n(146)),a=n(96),s=n(99),l=(n(2),s(function(t){return a(t)})),c=!1,u="cssFloat";if(r.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(t){c=!0}void 0===document.documentElement.style.cssFloat&&(u="styleFloat")}var d={createMarkupForStyles:function(t,e){var n="";for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];null!=r&&(n+=l(i)+":",n+=o(i,r,e)+";")}return n||null},setValueForStyles:function(t,e,n){var r=t.style;for(var a in e)if(e.hasOwnProperty(a)){var s=o(a,e[a],n);if("float"!==a&&"cssFloat"!==a||(a=u),s)r[a]=s;else{var l=c&&i.shorthandPropertyExpansions[a];if(l)for(var h in l)r[h]="";else r[a]=""}}}};t.exports=d},function(t,e,n){"use strict";function i(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function r(t){var e=x.getPooled(E.change,I,t,S(t));b.accumulateTwoPhaseDispatches(e),k.batchedUpdates(o,e)}function o(t){_.enqueueEvents(t),_.processEventQueue(!1)}function a(t,e){D=t,I=e,D.attachEvent("onchange",r)}function s(){D&&(D.detachEvent("onchange",r),D=null,I=null)}function l(t,e){return"topChange"===t?e:void 0}function c(t,e,n){"topFocus"===t?(s(),a(e,n)):"topBlur"===t&&s()}function u(t,e){D=t,I=e,P=t.value,A=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(D,"value",$),D.attachEvent?D.attachEvent("onpropertychange",d):D.addEventListener("propertychange",d,!1)}function h(){D&&(delete D.value,D.detachEvent?D.detachEvent("onpropertychange",d):D.removeEventListener("propertychange",d,!1),D=null,I=null,P=null,A=null)}function d(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==P&&(P=e,r(t))}}function p(t,e){return"topInput"===t?e:void 0}function f(t,e,n){"topFocus"===t?(h(),u(e,n)):"topBlur"===t&&h()}function g(t){return"topSelectionChange"!==t&&"topKeyUp"!==t&&"topKeyDown"!==t||!D||D.value===P?void 0:(P=D.value,I)}function m(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function v(t,e){return"topClick"===t?e:void 0}var _=n(20),b=n(21),y=n(6),w=n(5),k=n(9),x=n(10),S=n(41),C=n(42),T=n(66),E={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},D=null,I=null,P=null,A=null,j=!1;y.canUseDOM&&(j=C("change")&&(!document.documentMode||document.documentMode>8));var O=!1;y.canUseDOM&&(O=C("input")&&(!document.documentMode||document.documentMode>11));var $={get:function(){return A.get.call(this)},set:function(t){P=""+t,A.set.call(this,t)}},R={eventTypes:E,extractEvents:function(t,e,n,r){var o,a,s=e?w.getNodeFromInstance(e):window;if(i(s)?j?o=l:a=c:T(s)?O?o=p:(o=g,a=f):m(s)&&(o=v),o){var u=o(t,e);if(u){var h=x.getPooled(E.change,u,n,r);return h.type="change",b.accumulateTwoPhaseDispatches(h),h}}a&&a(t,s,e)}};t.exports=R},function(t,e,n){"use strict";var i=n(3),r=n(17),o=n(6),a=n(92),s=n(7),l=(n(1),{dangerouslyReplaceNodeWithMarkup:function(t,e){if(o.canUseDOM?void 0:i("56"),e?void 0:i("57"),"HTML"===t.nodeName?i("58"):void 0,"string"==typeof e){var n=a(e,s)[0];t.parentNode.replaceChild(n,t)}else r.replaceChildWithTree(t,e)}});t.exports=l},function(t){"use strict";var e=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];t.exports=e},function(t,e,n){"use strict";var i=n(21),r=n(5),o=n(24),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(t,e,n,s){if("topMouseOver"===t&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==t&&"topMouseOver"!==t)return null;var l;if(s.window===s)l=s;else{var c=s.ownerDocument;l=c?c.defaultView||c.parentWindow:window}var u,h;if("topMouseOut"===t){u=e;var d=n.relatedTarget||n.toElement;h=d?r.getClosestInstanceFromNode(d):null}else u=null,h=e;if(u===h)return null;var p=null==u?l:r.getNodeFromInstance(u),f=null==h?l:r.getNodeFromInstance(h),g=o.getPooled(a.mouseLeave,u,n,s);g.type="mouseleave",g.target=p,g.relatedTarget=f;var m=o.getPooled(a.mouseEnter,h,n,s);return m.type="mouseenter",m.target=f,m.relatedTarget=p,i.accumulateEnterLeaveDispatches(g,m,u,h),[g,m]}};t.exports=s},function(t,e,n){"use strict";function i(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var r=n(4),o=n(13),a=n(65);r(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(t=0;i>t&&n[t]===r[t];t++);var a=i-t;for(e=1;a>=e&&n[i-e]===r[o-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=r.slice(t,s),this._fallbackText}}),o.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";var i=n(18),r=i.injection.MUST_USE_PROPERTY,o=i.injection.HAS_BOOLEAN_VALUE,a=i.injection.HAS_NUMERIC_VALUE,s=i.injection.HAS_POSITIVE_NUMERIC_VALUE,l=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+i.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:r|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,"default":o,defer:o,dir:0,disabled:o,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:r|o,muted:r|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:r|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};
t.exports=c},function(t,e,n){(function(e){"use strict";function i(t,e,n){var i=void 0===t[n];null!=e&&i&&(t[n]=o(e,!0))}var r=n(16),o=n(50),a=(n(34),n(47)),s=n(68);n(2),"undefined"!=typeof e&&e.env,1;var l={instantiateChildren:function(t){if(null==t)return null;var e={};return s(t,i,e),e},updateChildren:function(t,e,n,i,s,l,c,u,h){if(e||t){var d,p;for(d in e)if(e.hasOwnProperty(d)){p=t&&t[d];var f=p&&p._currentElement,g=e[d];if(null!=p&&a(f,g))r.receiveComponent(p,g,s,u),e[d]=p;else{p&&(i[d]=r.getHostNode(p),r.unmountComponent(p,!1));var m=o(g,!0);e[d]=m;var v=r.mountComponent(m,s,l,c,u,h);n.push(v)}}for(d in t)!t.hasOwnProperty(d)||e&&e.hasOwnProperty(d)||(p=t[d],i[d]=r.getHostNode(p),r.unmountComponent(p,!1))}},unmountChildren:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];r.unmountComponent(i,e)}}};t.exports=l}).call(e,n(48))},function(t,e,n){"use strict";var i=n(30),r=n(115),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup};t.exports=o},function(t,e,n){"use strict";function i(){}function r(){}function o(t){return!(!t.prototype||!t.prototype.isReactComponent)}function a(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}var s=n(3),l=n(4),c=n(12),u=n(36),h=n(11),d=n(37),p=n(22),f=(n(8),n(74)),g=n(16),m=n(19),v=(n(1),n(29)),_=n(47),b=(n(2),{ImpureClass:0,PureClass:1,StatelessFunctional:2});i.prototype.render=function(){var t=p.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return r(t,e),e};var y=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,l){this._context=l,this._mountOrder=y++,this._hostParent=e,this._hostContainerInfo=n;var u,h=this._currentElement.props,d=this._processContext(l),f=this._currentElement.type,g=t.getUpdateQueue(),v=o(f),_=this._constructComponent(v,h,d,g);v||null!=_&&null!=_.render?this._compositeType=a(f)?b.PureClass:b.ImpureClass:(u=_,r(f,u),null===_||_===!1||c.isValidElement(_)?void 0:s("105",f.displayName||f.name||"Component"),_=new i(f),this._compositeType=b.StatelessFunctional),_.props=h,_.context=d,_.refs=m,_.updater=g,this._instance=_,p.set(_,this);var w=_.state;void 0===w&&(_.state=w=null),"object"!=typeof w||Array.isArray(w)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var k;return k=_.unstable_handleError?this.performInitialMountWithErrorHandling(u,e,n,t,l):this.performInitialMount(u,e,n,t,l),_.componentDidMount&&t.getReactMountReady().enqueue(_.componentDidMount,_),k},_constructComponent:function(t,e,n,i){return this._constructComponentWithoutOwner(t,e,n,i)},_constructComponentWithoutOwner:function(t,e,n,i){var r=this._currentElement.type;return t?new r(e,n,i):r(e,n,i)},performInitialMountWithErrorHandling:function(t,e,n,i,r){var o,a=i.checkpoint();try{o=this.performInitialMount(t,e,n,i,r)}catch(s){i.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=i.checkpoint(),this._renderedComponent.unmountComponent(!0),i.rollback(a),o=this.performInitialMount(t,e,n,i,r)}return o},performInitialMount:function(t,e,n,i,r){var o=this._instance,a=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===t&&(t=this._renderValidatedComponent());var s=f.getType(t);this._renderedNodeType=s;var l=this._instantiateReactComponent(t,s!==f.EMPTY);this._renderedComponent=l;var c=g.mountComponent(l,i,e,n,this._processChildContext(r),a);return c},getHostNode:function(){return g.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(g.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return m;var i={};for(var r in n)i[r]=t[r];return i},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e,n=this._currentElement.type,i=this._instance;if(i.getChildContext&&(e=i.getChildContext()),e){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var r in e)r in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",r);return l({},t,e)}return t},_checkContextTypes:function(){},receiveComponent:function(t,e,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(e,i,t,r,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?g.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,i,r){var o=this._instance;null==o?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,l=!1;this._context===r?a=o.context:(a=this._processContext(r),l=!0);var c=e.props,u=n.props;e!==n&&(l=!0),l&&o.componentWillReceiveProps&&o.componentWillReceiveProps(u,a);var h=this._processPendingState(u,a),d=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?d=o.shouldComponentUpdate(u,h,a):this._compositeType===b.PureClass&&(d=!v(c,u)||!v(o.state,h))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,u,h,a,t,r)):(this._currentElement=n,this._context=r,o.props=u,o.state=h,o.context=a)},_processPendingState:function(t,e){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=l({},r?i[0]:n.state),a=r?1:0;a<i.length;a++){var s=i[a];l(o,"function"==typeof s?s.call(n,o,t,e):s)}return o},_performComponentUpdate:function(t,e,n,i,r,o){var a,s,l,c=this._instance,u=Boolean(c.componentDidUpdate);u&&(a=c.props,s=c.state,l=c.context),c.componentWillUpdate&&c.componentWillUpdate(e,n,i),this._currentElement=t,this._context=o,c.props=e,c.state=n,c.context=i,this._updateRenderedComponent(r,o),u&&r.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,l),c)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,i=n._currentElement,r=this._renderValidatedComponent(),o=0;if(_(i,r))g.receiveComponent(n,r,t,this._processChildContext(e));else{var a=g.getHostNode(n);g.unmountComponent(n,!1);var s=f.getType(r);this._renderedNodeType=s;var l=this._instantiateReactComponent(r,s!==f.EMPTY);this._renderedComponent=l;var c=g.mountComponent(l,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),o);this._replaceNodeWithMarkup(a,c,n)}},_replaceNodeWithMarkup:function(t,e,n){u.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t,e=this._instance;return t=e.render()},_renderValidatedComponent:function(){var t;if(this._compositeType!==b.StatelessFunctional){h.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{h.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||t===!1||c.isValidElement(t)?void 0:s("109",this.getName()||"ReactCompositeComponent"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?s("110"):void 0;var i=e.getPublicInstance(),r=n.refs===m?n.refs={}:n.refs;r[t]=i},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===b.StatelessFunctional?null:t},_instantiateReactComponent:null};t.exports=w},function(t,e,n){"use strict";function i(t){if(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function r(t,e){e&&(K[t._tag]&&(null!=e.children||null!=e.dangerouslySetInnerHTML?g("137",t._tag,t._currentElement._owner?" Check the render method of "+t._currentElement._owner.getName()+".":""):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?g("60"):void 0,"object"==typeof e.dangerouslySetInnerHTML&&U in e.dangerouslySetInnerHTML?void 0:g("61")),null!=e.style&&"object"!=typeof e.style?g("62",i(t)):void 0)}function o(t,e,n,i){if(!(i instanceof O)){var r=t._hostContainerInfo,o=r._node&&r._node.nodeType===W,s=o?r._node:r._ownerDocument;F(e,s),i.getReactMountReady().enqueue(a,{inst:t,registrationName:e,listener:n})}}function a(){var t=this;x.putListener(t.inst,t.registrationName,t.listener)}function s(){var t=this;D.postMountWrapper(t)}function l(){var t=this;A.postMountWrapper(t)}function c(){var t=this;I.postMountWrapper(t)}function u(){var t=this;t._rootNodeID?void 0:g("63");var e=N(t);switch(e?void 0:g("64"),t._tag){case"iframe":case"object":t._wrapperState.listeners=[C.trapBubbledEvent("topLoad","load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in q)q.hasOwnProperty(n)&&t._wrapperState.listeners.push(C.trapBubbledEvent(n,q[n],e));break;case"source":t._wrapperState.listeners=[C.trapBubbledEvent("topError","error",e)];break;case"img":t._wrapperState.listeners=[C.trapBubbledEvent("topError","error",e),C.trapBubbledEvent("topLoad","load",e)];break;case"form":t._wrapperState.listeners=[C.trapBubbledEvent("topReset","reset",e),C.trapBubbledEvent("topSubmit","submit",e)];break;case"input":case"select":case"textarea":t._wrapperState.listeners=[C.trapBubbledEvent("topInvalid","invalid",e)]}}function h(){P.postUpdateWrapper(this)}function d(t){J.call(G,t)||(Y.test(t)?void 0:g("65",t),G[t]=!0)}function p(t,e){return t.indexOf("-")>=0||null!=e.is}function f(t){var e=t.type;d(e),this._currentElement=t,this._tag=e.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var g=n(3),m=n(4),v=n(101),_=n(103),b=n(17),y=n(31),w=n(18),k=n(56),x=n(20),S=n(32),C=n(27),T=n(57),E=n(5),D=n(116),I=n(117),P=n(58),A=n(120),j=(n(8),n(126)),O=n(76),$=(n(7),n(26)),R=(n(1),n(42),n(29),n(43),n(2),T),M=x.deleteListener,N=E.getNodeFromInstance,F=C.listenTo,L=S.registrationNameModules,B={string:!0,number:!0},z="style",U="__html",H={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},W=11,q={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},V={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},K=m({menuitem:!0},V),Y=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,G={},J={}.hasOwnProperty,X=1;f.displayName="ReactDOMComponent",f.Mixin={mountComponent:function(t,e,n,i){this._rootNodeID=X++,this._domID=n._idCounter++,this._hostParent=e,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(u,this);break;case"input":D.mountWrapper(this,o,e),o=D.getHostProps(this,o),t.getReactMountReady().enqueue(u,this);break;case"option":I.mountWrapper(this,o,e),o=I.getHostProps(this,o);break;case"select":P.mountWrapper(this,o,e),o=P.getHostProps(this,o),t.getReactMountReady().enqueue(u,this);break;case"textarea":A.mountWrapper(this,o,e),o=A.getHostProps(this,o),t.getReactMountReady().enqueue(u,this)}r(this,o);var a,h;null!=e?(a=e._namespaceURI,h=e._tag):n._tag&&(a=n._namespaceURI,h=n._tag),(null==a||a===y.svg&&"foreignobject"===h)&&(a=y.html),a===y.html&&("svg"===this._tag?a=y.svg:"math"===this._tag&&(a=y.mathml)),this._namespaceURI=a;var d;if(t.useCreateElement){var p,f=n._ownerDocument;if(a===y.html)if("script"===this._tag){var g=f.createElement("div"),m=this._currentElement.type;g.innerHTML="<"+m+"></"+m+">",p=g.removeChild(g.firstChild)}else p=o.is?f.createElement(this._currentElement.type,o.is):f.createElement(this._currentElement.type);else p=f.createElementNS(a,this._currentElement.type);E.precacheNode(this,p),this._flags|=R.hasCachedChildNodes,this._hostParent||k.setAttributeForRoot(p),this._updateDOMProperties(null,o,t);var _=b(p);this._createInitialChildren(t,o,i,_),d=_}else{var w=this._createOpenTagMarkupAndPutListeners(t,o),x=this._createContentMarkup(t,o,i);d=!x&&V[this._tag]?w+"/>":w+">"+x+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(s,this),o.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"textarea":t.getReactMountReady().enqueue(l,this),o.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"select":o.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"button":o.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":t.getReactMountReady().enqueue(c,this)}return d},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(null!=r)if(L.hasOwnProperty(i))r&&o(this,i,r,t);else{i===z&&(r&&(r=this._previousStyleCopy=m({},e.style)),r=_.createMarkupForStyles(r,this));var a=null;null!=this._tag&&p(this._tag,e)?H.hasOwnProperty(i)||(a=k.createMarkupForCustomAttribute(i,r)):a=k.createMarkupForProperty(i,r),a&&(n+=" "+a)}}return t.renderToStaticMarkup?n:(this._hostParent||(n+=" "+k.createMarkupForRoot()),n+=" "+k.createMarkupForID(this._domID))},_createContentMarkup:function(t,e,n){var i="",r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(i=r.__html);else{var o=B[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)i=$(o);else if(null!=a){var s=this.mountChildren(a,t,n);i=s.join("")}}return Q[this._tag]&&"\n"===i.charAt(0)?"\n"+i:i},_createInitialChildren:function(t,e,n,i){var r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&b.queueHTML(i,r.__html);else{var o=B[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)b.queueText(i,o);else if(null!=a)for(var s=this.mountChildren(a,t,n),l=0;l<s.length;l++)b.queueChild(i,s[l])}},receiveComponent:function(t,e,n){var i=this._currentElement;this._currentElement=t,this.updateComponent(e,i,t,n)},updateComponent:function(t,e,n,i){var o=e.props,a=this._currentElement.props;switch(this._tag){case"input":o=D.getHostProps(this,o),a=D.getHostProps(this,a);break;case"option":o=I.getHostProps(this,o),a=I.getHostProps(this,a);break;case"select":o=P.getHostProps(this,o),a=P.getHostProps(this,a);break;case"textarea":o=A.getHostProps(this,o),a=A.getHostProps(this,a)}switch(r(this,a),this._updateDOMProperties(o,a,t),this._updateDOMChildren(o,a,t,i),this._tag){case"input":D.updateWrapper(this);break;case"textarea":A.updateWrapper(this);break;case"select":t.getReactMountReady().enqueue(h,this)}},_updateDOMProperties:function(t,e,n){var i,r,a;for(i in t)if(!e.hasOwnProperty(i)&&t.hasOwnProperty(i)&&null!=t[i])if(i===z){var s=this._previousStyleCopy;for(r in s)s.hasOwnProperty(r)&&(a=a||{},a[r]="");this._previousStyleCopy=null}else L.hasOwnProperty(i)?t[i]&&M(this,i):p(this._tag,t)?H.hasOwnProperty(i)||k.deleteValueForAttribute(N(this),i):(w.properties[i]||w.isCustomAttribute(i))&&k.deleteValueForProperty(N(this),i);for(i in e){var l=e[i],c=i===z?this._previousStyleCopy:null!=t?t[i]:void 0;if(e.hasOwnProperty(i)&&l!==c&&(null!=l||null!=c))if(i===z)if(l?l=this._previousStyleCopy=m({},l):this._previousStyleCopy=null,c){for(r in c)!c.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(a=a||{},a[r]="");for(r in l)l.hasOwnProperty(r)&&c[r]!==l[r]&&(a=a||{},a[r]=l[r])}else a=l;else if(L.hasOwnProperty(i))l?o(this,i,l,n):c&&M(this,i);else if(p(this._tag,e))H.hasOwnProperty(i)||k.setValueForAttribute(N(this),i,l);else if(w.properties[i]||w.isCustomAttribute(i)){var u=N(this);null!=l?k.setValueForProperty(u,i,l):k.deleteValueForProperty(u,i)}}a&&_.setValueForStyles(N(this),a,this)},_updateDOMChildren:function(t,e,n,i){var r=B[typeof t.children]?t.children:null,o=B[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=null!=r?null:t.children,c=null!=o?null:e.children,u=null!=r||null!=a,h=null!=o||null!=s;null!=l&&null==c?this.updateChildren(null,n,i):u&&!h&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,i)},getHostNode:function(){return N(this)},unmountComponent:function(t){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case"html":case"head":case"body":g("66",this._tag)}this.unmountChildren(t),E.uncacheNode(this),x.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return N(this)}},m(f.prototype,f.Mixin,j.Mixin),t.exports=f},function(t,e,n){"use strict";var i=n(4),r=n(17),o=n(5),a=function(){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};i(a.prototype,{mountComponent:function(t,e,n){var i=n._idCounter++;this._domID=i,this._hostParent=e,this._hostContainerInfo=n;var a=" react-empty: "+this._domID+" ";if(t.useCreateElement){var s=n._ownerDocument,l=s.createComment(a);return o.precacheNode(this,l),r(l)}return t.renderToStaticMarkup?"":"<!--"+a+"-->"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),t.exports=a},function(t,e,n){"use strict";var i=n(30),r=n(5),o={dangerouslyProcessChildrenUpdates:function(t,e){var n=r.getNodeFromInstance(t);i.processUpdates(n,e)}};t.exports=o},function(t,e,n){"use strict";function i(){this._rootNodeID&&h.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=l.executeOnChange(e,t);u.asap(i,this);var r=e.name;if("radio"===e.type&&null!=r){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var h=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),d=0;d<h.length;d++){var p=h[d];if(p!==a&&p.form===a.form){var f=c.getInstanceFromNode(p);f?void 0:o("90"),u.asap(i,f)}}}return n}var o=n(3),a=n(4),s=n(56),l=n(35),c=n(5),u=n(9),h=(n(1),n(2),{getHostProps:function(t,e){var n=l.getValue(e),i=l.getChecked(e),r=a({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=i?i:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return r},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,listeners:null,onChange:r.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&s.setValueForProperty(c.getNodeFromInstance(t),"checked",n||!1);var i=c.getNodeFromInstance(t),r=l.getValue(e);if(null!=r){var o=""+r;o!==i.value&&(i.value=o)}else null==e.value&&null!=e.defaultValue&&(i.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(i.defaultChecked=!!e.defaultChecked)},postMountWrapper:function(t){var e=t._currentElement.props,n=c.getNodeFromInstance(t);switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var i=n.name;""!==i&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==i&&(n.name=i)}});t.exports=h},function(t,e,n){"use strict";function i(t){var e="";return o.Children.forEach(t,function(t){null!=t&&("string"==typeof t||"number"==typeof t?e+=t:l||(l=!0))}),e}var r=n(4),o=n(12),a=n(5),s=n(58),l=(n(2),!1),c={mountWrapper:function(t,e,n){var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(r=s.getSelectValueContext(o))}var a=null;if(null!=r){var l;if(l=null!=e.value?e.value+"":i(e.children),a=!1,Array.isArray(r)){for(var c=0;c<r.length;c++)if(""+r[c]===l){a=!0;break}}else a=""+r===l}t._wrapperState={selected:a}},postMountWrapper:function(t){var e=t._currentElement.props;if(null!=e.value){var n=a.getNodeFromInstance(t);n.setAttribute("value",e.value)}},getHostProps:function(t,e){var n=r({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(n.selected=t._wrapperState.selected);var o=i(e.children);return o&&(n.children=o),n}};t.exports=c},function(t,e,n){"use strict";function i(t,e,n,i){return t===n&&e===i}function r(t){var e=document.selection,n=e.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(t),r.setEndPoint("EndToStart",n);var o=r.text.length,a=o+i;return{start:o,end:a}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,o=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(t){return null}var l=i(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=l?0:s.toString().length,u=s.cloneRange();u.selectNodeContents(t),u.setEnd(s.startContainer,s.startOffset);var h=i(u.startContainer,u.startOffset,u.endContainer,u.endOffset),d=h?0:u.toString().length,p=d+c,f=document.createRange();f.setStart(n,r),f.setEnd(o,a);var g=f.collapsed;return{start:g?p:d,end:g?d:p}}function a(t,e){var n,i,r=document.selection.createRange().duplicate();void 0===e.end?(n=e.start,i=n):e.start>e.end?(n=e.end,i=e.start):(n=e.start,i=e.end),r.moveToElementText(t),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),i=t[u()].length,r=Math.min(e.start,i),o=void 0===e.end?r:Math.min(e.end,i);if(!n.extend&&r>o){var a=o;o=r,r=a}var s=c(t,r),l=c(t,o);if(s&&l){var h=document.createRange();h.setStart(s.node,s.offset),n.removeAllRanges(),r>o?(n.addRange(h),n.extend(l.node,l.offset)):(h.setEnd(l.node,l.offset),n.addRange(h))}}}var l=n(6),c=n(151),u=n(65),h=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:h?r:o,setOffsets:h?a:s};t.exports=d},function(t,e,n){"use strict";var i=n(3),r=n(4),o=n(30),a=n(17),s=n(5),l=n(26),c=(n(1),n(43),function(t){this._currentElement=t,this._stringText=""+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(c.prototype,{mountComponent:function(t,e,n){var i=n._idCounter++,r=" react-text: "+i+" ",o=" /react-text ";if(this._domID=i,this._hostParent=e,t.useCreateElement){var c=n._ownerDocument,u=c.createComment(r),h=c.createComment(o),d=a(c.createDocumentFragment());return a.queueChild(d,a(u)),this._stringText&&a.queueChild(d,a(c.createTextNode(this._stringText))),a.queueChild(d,a(h)),s.precacheNode(this,u),this._closingComment=h,d}var p=l(this._stringText);return t.renderToStaticMarkup?p:"<!--"+r+"-->"+p+"<!--"+o+"-->"},receiveComponent:function(t){if(t!==this._currentElement){this._currentElement=t;var e=""+t;if(e!==this._stringText){this._stringText=e;var n=this.getHostNode();o.replaceDelimitedText(n[0],n[1],e)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=s.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n?i("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=c},function(t,e,n){"use strict";function i(){this._rootNodeID&&u.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=s.executeOnChange(e,t);return c.asap(i,this),n}var o=n(3),a=n(4),s=n(35),l=n(5),c=n(9),u=(n(1),n(2),{getHostProps:function(t,e){null!=e.dangerouslySetInnerHTML?o("91"):void 0;var n=a({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return n},mountWrapper:function(t,e){var n=s.getValue(e),i=n;if(null==n){var a=e.defaultValue,l=e.children;null!=l&&(null!=a?o("92"):void 0,Array.isArray(l)&&(l.length<=1?void 0:o("93"),l=l[0]),a=""+l),null==a&&(a=""),i=a}t._wrapperState={initialValue:""+i,listeners:null,onChange:r.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=l.getNodeFromInstance(t),i=s.getValue(e);if(null!=i){var r=""+i;r!==n.value&&(n.value=r),null==e.defaultValue&&(n.defaultValue=r)}null!=e.defaultValue&&(n.defaultValue=e.defaultValue)},postMountWrapper:function(t){var e=l.getNodeFromInstance(t);e.value=e.textContent}});t.exports=u},function(t,e,n){"use strict";function i(t,e){"_hostNode"in t?void 0:l("33"),"_hostNode"in e?void 0:l("33");for(var n=0,i=t;i;i=i._hostParent)n++;for(var r=0,o=e;o;o=o._hostParent)r++;for(;n-r>0;)t=t._hostParent,n--;for(;r-n>0;)e=e._hostParent,r--;for(var a=n;a--;){if(t===e)return t;t=t._hostParent,e=e._hostParent}return null}function r(t,e){"_hostNode"in t?void 0:l("35"),"_hostNode"in e?void 0:l("35");for(;e;){if(e===t)return!0;e=e._hostParent}return!1}function o(t){return"_hostNode"in t?void 0:l("36"),t._hostParent}function a(t,e,n){for(var i=[];t;)i.push(t),t=t._hostParent;var r;for(r=i.length;r-->0;)e(i[r],"captured",n);for(r=0;r<i.length;r++)e(i[r],"bubbled",n)}function s(t,e,n,r,o){for(var a=t&&e?i(t,e):null,s=[];t&&t!==a;)s.push(t),t=t._hostParent;for(var l=[];e&&e!==a;)l.push(e),e=e._hostParent;var c;for(c=0;c<s.length;c++)n(s[c],"bubbled",r);for(c=l.length;c-->0;)n(l[c],"captured",o)}var l=n(3);n(1),t.exports={isAncestor:r,getLowestCommonAncestor:i,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(t){"use strict";var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=e},function(t,e,n){"use strict";function i(t){r.enqueueEvents(t),r.processEventQueue(!1)}var r=n(20),o={handleTopLevel:function(t,e,n,o){var a=r.extractEvents(t,e,n,o);i(a)}};t.exports=o},function(t,e,n){"use strict";function i(t){for(;t._hostParent;)t=t._hostParent;var e=h.getNodeFromInstance(t),n=e.parentNode;return h.getClosestInstanceFromNode(n)}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){var e=p(t.nativeEvent),n=h.getClosestInstanceFromNode(e),r=n;do t.ancestors.push(r),r=r&&i(r);while(r);for(var o=0;o<t.ancestors.length;o++)n=t.ancestors[o],g._handleTopLevel(t.topLevelType,n,t.nativeEvent,p(t.nativeEvent))}function a(t){var e=f(window);t(e)}var s=n(4),l=n(51),c=n(6),u=n(13),h=n(5),d=n(9),p=n(41),f=n(94);s(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(r,u.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){return n?l.listen(n,e,g.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){return n?l.capture(n,e,g.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);l.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(g._enabled){var n=r.getPooled(t,e);try{d.batchedUpdates(o,n)}finally{r.release(n)}}}};t.exports=g},function(t,e,n){"use strict";var i=n(18),r=n(20),o=n(33),a=n(36),s=n(59),l=n(27),c=n(60),u=n(9),h={Component:a.injection,DOMProperty:i.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventPluginUtils:o.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:u.injection};t.exports=h},function(t,e,n){"use strict";function i(t,e,n){return{type:"INSERT_MARKUP",content:t,fromIndex:null,fromNode:null,toIndex:n,afterNode:e}}function r(t,e,n){return{type:"MOVE_EXISTING",content:null,fromIndex:t._mountIndex,fromNode:d.getHostNode(t),toIndex:n,afterNode:e}}function o(t,e){return{type:"REMOVE_NODE",content:null,fromIndex:t._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function a(t){return{type:"SET_MARKUP",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(t){return{type:"TEXT_CONTENT",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(t,e){return e&&(t=t||[],t.push(e)),t}function c(t,e){h.processChildrenUpdates(t,e)}var u=n(3),h=n(36),d=(n(22),n(8),n(11),n(16)),p=n(110),f=(n(7),n(147)),g=(n(1),{Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return p.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,i,r,o){var a,s=0;return a=f(e,s),p.updateChildren(t,a,n,i,r,this,this._hostContainerInfo,o,s),a},mountChildren:function(t,e,n){var i=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=i;var r=[],o=0;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],l=0,c=d.mountComponent(s,e,this,this._hostContainerInfo,n,l);s._mountIndex=o++,r.push(c)}return r},updateTextContent:function(t){var e=this._renderedChildren;p.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&u("118");var i=[s(t)];c(this,i)},updateMarkup:function(t){var e=this._renderedChildren;p.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&u("118");var i=[a(t)];c(this,i)},updateChildren:function(t,e,n){this._updateChildren(t,e,n)},_updateChildren:function(t,e,n){var i=this._renderedChildren,r={},o=[],a=this._reconcilerUpdateChildren(i,t,o,r,e,n);if(a||i){var s,u=null,h=0,p=0,f=0,g=null;for(s in a)if(a.hasOwnProperty(s)){var m=i&&i[s],v=a[s];m===v?(u=l(u,this.moveChild(m,g,h,p)),p=Math.max(m._mountIndex,p),m._mountIndex=h):(m&&(p=Math.max(m._mountIndex,p)),u=l(u,this._mountChildAtIndex(v,o[f],g,h,e,n)),f++),h++,g=d.getHostNode(v)}for(s in r)r.hasOwnProperty(s)&&(u=l(u,this._unmountChild(i[s],r[s])));u&&c(this,u),this._renderedChildren=a}},unmountChildren:function(t){var e=this._renderedChildren;p.unmountChildren(e,t),this._renderedChildren=null},moveChild:function(t,e,n,i){return t._mountIndex<i?r(t,e,n):void 0},createChild:function(t,e,n){return i(n,e,t._mountIndex)},removeChild:function(t,e){return o(t,e)},_mountChildAtIndex:function(t,e,n,i){return t._mountIndex=i,this.createChild(t,n,e)},_unmountChild:function(t,e){var n=this.removeChild(t,e);return t._mountIndex=null,n}}});t.exports=g},function(t,e,n){"use strict";function i(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)}var r=n(3),o=(n(1),{addComponentAsRefTo:function(t,e,n){i(n)?void 0:r("119"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i(n)?void 0:r("120");var o=n.getPublicInstance();o&&o.refs[e]===t.getPublicInstance()&&n.detachRef(e)}});t.exports=o},function(t){"use strict";var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=e},function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=t}var r=n(4),o=n(55),a=n(13),s=n(27),l=n(61),c=(n(8),n(25)),u=n(46),h={initialize:l.getSelectionInformation,close:l.restoreSelection},d={initialize:function(){var t=s.isEnabled();
return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[h,d,p],g={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return u},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};r(i.prototype,c,g),a.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";function i(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function r(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=n(127),a={};a.attachRefs=function(t,e){if(null!==e&&"object"==typeof e){var n=e.ref;null!=n&&i(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null,i=null;null!==t&&"object"==typeof t&&(n=t.ref,i=t._owner);var r=null,o=null;return null!==e&&"object"==typeof e&&(r=e.ref,o=e._owner),n!==r||"string"==typeof r&&o!==i},a.detachRefs=function(t,e){if(null!==e&&"object"==typeof e){var n=e.ref;null!=n&&r(n,t,e._owner)}},t.exports=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){}var o=n(46),a=(n(2),function(){function t(e){i(this,t),this.transaction=e}return t.prototype.isMounted=function(){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&o.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()?o.enqueueForceUpdate(t):r(t,"forceUpdate")},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()?o.enqueueReplaceState(t,e):r(t,"replaceState")},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()?o.enqueueSetState(t,e):r(t,"setState")},t}());t.exports=a},function(t){"use strict";var e={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},n={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:e.xlink,xlinkArcrole:e.xlink,xlinkHref:e.xlink,xlinkRole:e.xlink,xlinkShow:e.xlink,xlinkTitle:e.xlink,xlinkType:e.xlink,xmlBase:e.xml,xmlLang:e.xml,xmlSpace:e.xml},DOMAttributeNames:{}};Object.keys(n).forEach(function(t){i.Properties[t]=0,n[t]&&(i.DOMAttributeNames[t]=n[t])}),t.exports=i},function(t,e,n){"use strict";function i(t){if("selectionStart"in t&&l.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t,e){if(_||null==g||g!==u())return null;var n=i(g);if(!v||!d(v,n)){v=n;var r=c.getPooled(f.select,m,t,e);return r.type="select",r.target=g,o.accumulateTwoPhaseDispatches(r),r}return null}var o=n(21),a=n(6),s=n(5),l=n(61),c=n(10),u=n(53),h=n(66),d=n(29),p=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,f={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},g=null,m=null,v=null,_=!1,b=!1,y={eventTypes:f,extractEvents:function(t,e,n,i){if(!b)return null;var o=e?s.getNodeFromInstance(e):window;switch(t){case"topFocus":(h(o)||"true"===o.contentEditable)&&(g=o,m=e,v=null);break;case"topBlur":g=null,m=null,v=null;break;case"topMouseDown":_=!0;break;case"topContextMenu":case"topMouseUp":return _=!1,r(n,i);case"topSelectionChange":if(p)break;case"topKeyDown":case"topKeyUp":return r(n,i)}return null},didPutListener:function(t,e){"onSelect"===e&&(b=!0)}};t.exports=y},function(t,e,n){"use strict";function i(t){return"."+t._rootNodeID}function r(t){return"button"===t||"input"===t||"select"===t||"textarea"===t}var o=n(3),a=n(51),s=n(21),l=n(5),c=n(135),u=n(136),h=n(10),d=n(139),p=n(141),f=n(24),g=n(138),m=n(142),v=n(143),_=n(23),b=n(144),y=n(7),w=n(39),k=(n(1),{}),x={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(t){var e=t[0].toUpperCase()+t.slice(1),n="on"+e,i="top"+e,r={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[i]};k[t]=r,x[i]=r});var S={},C={eventTypes:k,extractEvents:function(t,e,n,i){var r=x[t];if(!r)return null;var a;switch(t){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=h;break;case"topKeyPress":if(0===w(n))return null;case"topKeyDown":case"topKeyUp":a=p;break;case"topBlur":case"topFocus":a=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=f;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=g;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=m;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=c;break;case"topTransitionEnd":a=v;break;case"topScroll":a=_;break;case"topWheel":a=b;break;case"topCopy":case"topCut":case"topPaste":a=u}a?void 0:o("86",t);var l=a.getPooled(r,e,n,i);return s.accumulateTwoPhaseDispatches(l),l},didPutListener:function(t,e){if("onClick"===e&&!r(t._tag)){var n=i(t),o=l.getNodeFromInstance(t);S[n]||(S[n]=a.listen(o,"click",y))}},willDeleteListener:function(t,e){if("onClick"===e&&!r(t._tag)){var n=i(t);S[n].remove(),delete S[n]}}};t.exports=C},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(10),o={animationName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(10),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(10),o={data:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(24),o={dataTransfer:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(23),o={relatedTarget:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(10),o={data:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(23),o=n(39),a=n(148),s=n(40),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};r.augmentClass(i,l),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(23),o=n(40),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,a),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(10),o={propertyName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(24),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),t.exports=i},function(t){"use strict";function e(t){for(var e=1,i=0,r=0,o=t.length,a=-4&o;a>r;){for(var s=Math.min(r+4096,a);s>r;r+=4)i+=(e+=t.charCodeAt(r))+(e+=t.charCodeAt(r+1))+(e+=t.charCodeAt(r+2))+(e+=t.charCodeAt(r+3));e%=n,i%=n}for(;o>r;r++)i+=e+=t.charCodeAt(r);return e%=n,i%=n,e|i<<16}var n=65521;t.exports=e},function(t,e,n){"use strict";function i(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var i=isNaN(e);return i||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var r=n(54),o=(n(2),r.isUnitlessNumber);t.exports=i},function(t,e,n){(function(e){"use strict";function i(t,e,n){if(t&&"object"==typeof t){var i=t,r=void 0===i[n];r&&null!=e&&(i[n]=e)}}function r(t){if(null==t)return t;var e={};return o(t,i,e),e}var o=(n(34),n(68));n(2),"undefined"!=typeof e&&e.env,t.exports=r}).call(e,n(48))},function(t,e,n){"use strict";function i(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=r(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var r=n(39),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=i},function(t){"use strict";function e(t){var e=t&&(n&&t[n]||t[i]);return"function"==typeof e?e:void 0}var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=e},function(t){"use strict";function e(){return n++}var n=1;t.exports=e},function(t){"use strict";function e(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function i(t,i){for(var r=e(t),o=0,a=0;r;){if(3===r.nodeType){if(a=o+r.textContent.length,i>=o&&a>=i)return{node:r,offset:i-o};o=a}r=e(n(r))}}t.exports=i},function(t,e,n){"use strict";function i(t){return'"'+r(t)+'"'}var r=n(26);t.exports=i},function(t,e,n){"use strict";var i=n(14),r=(n(1),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),o=function(t,e){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e),i}return new n(t,e)},a=function(t,e,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,t,e,n),r}return new i(t,e,n)},s=function(t,e,n,i){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n,i),o}return new r(t,e,n,i)},l=function(t,e,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,i,r),a}return new o(t,e,n,i,r)},c=function(t){var e=this;t instanceof e?void 0:i("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},u=10,h=r,d=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||h,n.poolSize||(n.poolSize=u),n.release=c,n},p={addPoolingTo:d,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};t.exports=p},function(t,e,n){"use strict";function i(t){return t}function r(t,e){var n=y.hasOwnProperty(e)?y[e]:null;k.hasOwnProperty(e)&&("OVERRIDE_BASE"!==n?d("73",e):void 0),t&&("DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n?d("74",e):void 0)}function o(t,e){if(e){"function"==typeof e?d("75"):void 0,g.isValidElement(e)?d("76"):void 0;var n=t.prototype,i=n.__reactAutoBindPairs;e.hasOwnProperty(_)&&w.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==_){var a=e[o],s=n.hasOwnProperty(o);if(r(s,o),w.hasOwnProperty(o))w[o](t,a);else{var u=y.hasOwnProperty(o),h="function"==typeof a,p=h&&!u&&!s&&e.autobind!==!1;if(p)i.push(o,a),n[o]=a;else if(s){var f=y[o];!u||"DEFINE_MANY_MERGED"!==f&&"DEFINE_MANY"!==f?d("77",f,o):void 0,"DEFINE_MANY_MERGED"===f?n[o]=l(n[o],a):"DEFINE_MANY"===f&&(n[o]=c(n[o],a))}else n[o]=a}}}}function a(t,e){if(e)for(var n in e){var i=e[n];if(e.hasOwnProperty(n)){var r=n in w;r?d("78",n):void 0;var o=n in t;o?d("79",n):void 0,t[n]=i}}}function s(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:d("80");for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?d("81",n):void 0,t[n]=e[n]);return t}function l(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return s(r,n),s(r,i),r}}function c(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function u(t,e){var n=e.bind(t);return n}function h(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];t[i]=u(t,r)}}var d=n(14),p=n(4),f=n(44),g=n(15),m=(n(70),n(45)),v=n(19),_=(n(1),n(2),"mixins"),b=[],y={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},w={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)o(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=p({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=p({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps=t.getDefaultProps?l(t.getDefaultProps,e):e},propTypes:function(t,e){t.propTypes=p({},t.propTypes,e)},statics:function(t,e){a(t,e)},autobind:function(){}},k={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},x=function(){};p(x.prototype,f.prototype,k);var S={createClass:function(t){var e=i(function(t,n,i){this.__reactAutoBindPairs.length&&h(this),this.props=t,this.context=n,this.refs=v,this.updater=i||m,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?d("82",e.displayName||"ReactCompositeComponent"):void 0,this.state=r});e.prototype=new x,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],b.forEach(o.bind(null,e)),o(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:d("83");for(var n in y)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){b.push(t)}}};t.exports=S},function(t,e,n){"use strict";var i=n(15),r=i.createFactory,o={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),"var":r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};t.exports=o},function(t,e,n){"use strict";function i(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function r(t){this.message=t,this.stack=""}function o(t){function e(e,n,i,o,a,s){if(o=o||T,s=s||i,null==n[i]){var l=k[a];return e?new r(null===n[i]?"The "+l+" `"+s+"` is marked as required "+("in `"+o+"`, but its value is `null`."):"The "+l+" `"+s+"` is marked as required in "+("`"+o+"`, but its value is `undefined`.")):null}return t(n,i,o,a,s)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function a(t){function e(e,n,i,o,a){var s=e[n],l=_(s);if(l!==t){var c=k[o],u=b(s);return new r("Invalid "+c+" `"+a+"` of type "+("`"+u+"` supplied to `"+i+"`, expected ")+("`"+t+"`."))}return null}return o(e)}function s(){return o(S.thatReturns(null))}function l(t){function e(e,n,i,o,a){if("function"!=typeof t)return new r("Property `"+a+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s)){var l=k[o],c=_(s);return new r("Invalid "+l+" `"+a+"` of type "+("`"+c+"` supplied to `"+i+"`, expected an array."))}for(var u=0;u<s.length;u++){var h=t(s,u,i,o,a+"["+u+"]",x);if(h instanceof Error)return h}return null}return o(e)}function c(){function t(t,e,n,i,o){var a=t[e];if(!w.isValidElement(a)){var s=k[i],l=_(a);return new r("Invalid "+s+" `"+o+"` of type "+("`"+l+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return o(t)}function u(t){function e(e,n,i,o,a){if(!(e[n]instanceof t)){var s=k[o],l=t.name||T,c=y(e[n]);return new r("Invalid "+s+" `"+a+"` of type "+("`"+c+"` supplied to `"+i+"`, expected ")+("instance of `"+l+"`."))}return null}return o(e)}function h(t){function e(e,n,o,a,s){for(var l=e[n],c=0;c<t.length;c++)if(i(l,t[c]))return null;var u=k[a],h=JSON.stringify(t);return new r("Invalid "+u+" `"+s+"` of value `"+l+"` "+("supplied to `"+o+"`, expected one of "+h+"."))}return Array.isArray(t)?o(e):S.thatReturnsNull}function d(t){function e(e,n,i,o,a){if("function"!=typeof t)return new r("Property `"+a+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var s=e[n],l=_(s);if("object"!==l){var c=k[o];return new r("Invalid "+c+" `"+a+"` of type "+("`"+l+"` supplied to `"+i+"`, expected an object."))}for(var u in s)if(s.hasOwnProperty(u)){var h=t(s,u,i,o,a+"."+u,x);if(h instanceof Error)return h}return null}return o(e)}function p(t){function e(e,n,i,o,a){for(var s=0;s<t.length;s++){var l=t[s];if(null==l(e,n,i,o,a,x))return null}var c=k[o];return new r("Invalid "+c+" `"+a+"` supplied to "+("`"+i+"`."))}return Array.isArray(t)?o(e):S.thatReturnsNull}function f(){function t(t,e,n,i,o){if(!m(t[e])){var a=k[i];return new r("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(t)}function g(t){function e(e,n,i,o,a){var s=e[n],l=_(s);if("object"!==l){var c=k[o];return new r("Invalid "+c+" `"+a+"` of type `"+l+"` "+("supplied to `"+i+"`, expected `object`."))}for(var u in t){var h=t[u];if(h){var d=h(s,u,i,o,a+"."+u,x);if(d)return d}}return null}return o(e)}function m(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(m);if(null===t||w.isValidElement(t))return!0;var e=C(t);if(!e)return!1;var n,i=e.call(t);if(e!==t.entries){for(;!(n=i.next()).done;)if(!m(n.value))return!1}else for(;!(n=i.next()).done;){var r=n.value;if(r&&!m(r[1]))return!1}return!0;default:return!1}}function v(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}function _(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":v(e,t)?"symbol":e}function b(t){var e=_(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function y(t){return t.constructor&&t.constructor.name?t.constructor.name:T}var w=n(15),k=n(70),x=n(157),S=n(7),C=n(72),T=(n(2),"<<anonymous>>"),E={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:l,element:c(),instanceOf:u,node:f(),objectOf:d,oneOf:h,oneOfType:p,shape:g};r.prototype=Error.prototype,t.exports=E},function(t){"use strict";var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=e},function(t,e,n){"use strict";function i(t,e,n){this.props=t,this.context=e,this.refs=l,this.updater=n||s}function r(){}var o=n(4),a=n(44),s=n(45),l=n(19);r.prototype=a.prototype,i.prototype=new r,i.prototype.constructor=i,o(i.prototype,a.prototype),i.prototype.isPureReactComponent=!0,t.exports=i},function(t){"use strict";t.exports="15.4.1"},function(t,e,n){"use strict";t.exports=n(12)},function(t,e,n){"use strict";var i=n(5),r=n(83),o=n(85),a=n(16),s=n(9),l=n(86),c=n(163),u=n(87),h=n(164);n(2),r.inject();var d={findDOMNode:c,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:h};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:i.getClosestInstanceFromNode,getNodeFromInstance:function(t){return t._renderedComponent&&(t=u(t)),t?i.getNodeFromInstance(t):null}},Mount:o,Reconciler:a}),t.exports=d},function(t){"use strict";var e={useCreateElement:!0,useFiber:!1};t.exports=e},function(t,e,n){"use strict";function i(t){if(null==t)return null;if(1===t.nodeType)return t;var e=a.get(t);return e?(e=s(e),e?o.getNodeFromInstance(e):null):void("function"==typeof t.render?r("44"):r("45",Object.keys(t)))}var r=n(3),o=(n(11),n(5)),a=n(22),s=n(87);n(1),n(2),t.exports=i},function(t,e,n){"use strict";var i=n(85);t.exports=i.renderSubtreeIntoContainer},function(t,e,n){"use strict";var i=n(161),r=n(22);e.getReactDOM=function(){return i},e.getReactInstanceMap=function(){return r}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n(12),l=(n(165),n(187)),c=n(7),u=function(t){function e(){var n,o,s;i(this,e);for(var c=arguments.length,u=Array(c),h=0;c>h;h++)u[h]=arguments[h];return n=o=r(this,t.call.apply(t,[this].concat(u))),o.state={children:l.getChildMapping(o.props.children)},o.performAppear=function(t){o.currentlyTransitioningKeys[t]=!0;var e=o.refs[t];e.componentWillAppear?e.componentWillAppear(o._handleDoneAppearing.bind(o,t)):o._handleDoneAppearing(t)},o._handleDoneAppearing=function(t){var e=o.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete o.currentlyTransitioningKeys[t];var n;n=l.getChildMapping(o.props.children),n&&n.hasOwnProperty(t)||o.performLeave(t)},o.performEnter=function(t){o.currentlyTransitioningKeys[t]=!0;var e=o.refs[t];e.componentWillEnter?e.componentWillEnter(o._handleDoneEntering.bind(o,t)):o._handleDoneEntering(t)},o._handleDoneEntering=function(t){var e=o.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete o.currentlyTransitioningKeys[t];var n;n=l.getChildMapping(o.props.children),n&&n.hasOwnProperty(t)||o.performLeave(t)},o.performLeave=function(t){o.currentlyTransitioningKeys[t]=!0;var e=o.refs[t];e.componentWillLeave?e.componentWillLeave(o._handleDoneLeaving.bind(o,t)):o._handleDoneLeaving(t)},o._handleDoneLeaving=function(t){var e=o.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete o.currentlyTransitioningKeys[t];var n;n=l.getChildMapping(o.props.children),n&&n.hasOwnProperty(t)?o.performEnter(t):o.setState(function(e){var n=a({},e.children);return delete n[t],{children:n}})},s=n,r(o,s)}return o(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},e.prototype.componentWillReceiveProps=function(t){var e;e=l.getChildMapping(t.children);var n=this.state.children;this.setState({children:l.mergeChildMappings(n,e)});var i;for(i in e){var r=n&&n.hasOwnProperty(i);!e[i]||r||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var o=e&&e.hasOwnProperty(i);!n[i]||o||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},e.prototype.componentDidUpdate=function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},e.prototype.render=function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];n&&t.push(s.cloneElement(this.props.childFactory(n),{ref:e,key:e}))}var i=a({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,s.createElement(this.props.component,i,t)},e}(s.Component);u.displayName="ReactTransitionGroup",u.propTypes={component:s.PropTypes.any,childFactory:s.PropTypes.func},u.defaultProps={component:"span",childFactory:c.thatReturnsArgument},t.exports=u},function(t,e,n){var i={};
i.TransitionGroup=n(173),i.CSSTransitionGroup=n(170),i.LinkedStateMixin=n(171),i.createFragment=n(169),i.update=n(174),i.PureRenderMixin=n(172),t.exports=i},function(t,e,n){"use strict";function i(t,e){for(var n=t;n.parentNode;)n=n.parentNode;var i=n.querySelectorAll(e);return-1!==Array.prototype.indexOf.call(i,t)}var r=n(1),o={addClass:function(t,e){return/\s/.test(e)?r(!1):void 0,e&&(t.classList?t.classList.add(e):o.hasClass(t,e)||(t.className=t.className+" "+e)),t},removeClass:function(t,e){return/\s/.test(e)?r(!1):void 0,e&&(t.classList?t.classList.remove(e):o.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),t},conditionClass:function(t,e,n){return(n?o.addClass:o.removeClass)(t,e)},hasClass:function(t,e){return/\s/.test(e)?r(!1):void 0,t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},matchesSelector:function(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(e){return i(t,e)};return n.call(t,e)}};t.exports=o},function(t,e,n){t.exports=n(184).create},function(t,e,n){t.exports=n(181)},function(t,e,n){t.exports=n(180)},function(t,e,n){t.exports=n(183)},function(t,e,n){t.exports=n(166)},function(t,e,n){t.exports=n(191)},function(t,e,n){"use strict";t.exports=n(161)},,,,,function(t,e,n){"use strict";var i=n(185),r=n(186),o={linkState:function(t){return new i(this.state[t],r.createStateKeySetter(this,t))}};t.exports=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}}}var s=n(4),l=n(12),c=n(166),u=n(182),h=function(t){function e(){var n,o,a;i(this,e);for(var s=arguments.length,c=Array(s),h=0;s>h;h++)c[h]=arguments[h];return n=o=r(this,t.call.apply(t,[this].concat(c))),o._wrapChild=function(t){return l.createElement(u,{name:o.props.transitionName,appear:o.props.transitionAppear,enter:o.props.transitionEnter,leave:o.props.transitionLeave,appearTimeout:o.props.transitionAppearTimeout,enterTimeout:o.props.transitionEnterTimeout,leaveTimeout:o.props.transitionLeaveTimeout},t)},a=n,r(o,a)}return o(e,t),e.prototype.render=function(){return l.createElement(c,s({},this.props,{childFactory:this._wrapChild}))},e}(l.Component);h.displayName="ReactCSSTransitionGroup",h.propTypes={transitionName:u.propTypes.name,transitionAppear:l.PropTypes.bool,transitionEnter:l.PropTypes.bool,transitionLeave:l.PropTypes.bool,transitionAppearTimeout:a("Appear"),transitionEnterTimeout:a("Enter"),transitionLeaveTimeout:a("Leave")},h.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.exports=h},function(t,e,n){"use strict";var i=n(12),r=n(165),o=n(168),a=n(188),s=n(80),l=17,c=i.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.shape({enter:i.PropTypes.string,leave:i.PropTypes.string,active:i.PropTypes.string}),i.PropTypes.shape({enter:i.PropTypes.string,enterActive:i.PropTypes.string,leave:i.PropTypes.string,leaveActive:i.PropTypes.string,appear:i.PropTypes.string,appearActive:i.PropTypes.string})]).isRequired,appear:i.PropTypes.bool,enter:i.PropTypes.bool,leave:i.PropTypes.bool,appearTimeout:i.PropTypes.number,enterTimeout:i.PropTypes.number,leaveTimeout:i.PropTypes.number},transition:function(t,e,n){var i=r.getReactDOM().findDOMNode(this);if(!i)return void(e&&e());var s=this.props.name[t]||this.props.name+"-"+t,l=this.props.name[t+"Active"]||s+"-active",c=null,u=function(t){t&&t.target!==i||(clearTimeout(c),o.removeClass(i,s),o.removeClass(i,l),a.removeEndEventListener(i,u),e&&e())};o.addClass(i,s),this.queueClassAndNode(l,i),n?(c=setTimeout(u,n),this.transitionTimeouts.push(c)):a.addEndEventListener(i,u)},queueClassAndNode:function(t,e){this.classNameAndNodeQueue.push({className:t,node:e}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,l))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(t){o.addClass(t.node,t.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(t){this.props.appear?this.transition("appear",t,this.props.appearTimeout):t()},componentWillEnter:function(t){this.props.enter?this.transition("enter",t,this.props.enterTimeout):t()},componentWillLeave:function(t){this.props.leave?this.transition("leave",t,this.props.leaveTimeout):t()},render:function(){return s(this.props.children)}});t.exports=c},function(t,e,n){"use strict";var i=n(190),r={shouldComponentUpdate:function(t,e){return i(this,t,e)}};t.exports=r},function(t,e,n){"use strict";var i=n(14),r=n(79),o=n(15),a=n(7),s=(n(1),n(2),{create:function(t){if("object"!=typeof t||!t||Array.isArray(t))return t;if(o.isValidElement(t))return t;1===t.nodeType?i("0"):void 0;var e=[];for(var n in t)r.mapIntoWithKeyPrefixInternal(t[n],e,n,a.thatReturnsArgument);return e}});t.exports=s},function(t,e,n){"use strict";function i(t,e){this.value=t,this.requestChange=e}function r(t){var e={value:void 0===t?o.PropTypes.any.isRequired:t.isRequired,requestChange:o.PropTypes.func.isRequired};return o.PropTypes.shape(e)}var o=n(12);i.PropTypes={link:r},t.exports=i},function(t){"use strict";function e(t,e){var n={};return function(i){n[e]=i,t.setState(n)}}var n={createStateSetter:function(t,e){return function(n,i,r,o,a,s){var l=e.call(t,n,i,r,o,a,s);l&&t.setState(l)}},createStateKeySetter:function(t,n){var i=t.__keySetters||(t.__keySetters={});return i[n]||(i[n]=e(t,n))}};n.Mixin={createStateSetter:function(t){return n.createStateSetter(this,t)},createStateKeySetter:function(t){return n.createStateKeySetter(this,t)}},t.exports=n},function(t,e,n){"use strict";var i=n(189),r={getChildMapping:function(t){return t?i(t):t},mergeChildMappings:function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var i={},r=[];for(var o in t)e.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var a,s={};for(var l in e){if(i.hasOwnProperty(l))for(a=0;a<i[l].length;a++){var c=i[l][a];s[i[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}};t.exports=r},function(t,e,n){"use strict";function i(){var t=s("animationend"),e=s("transitionend");t&&l.push(t),e&&l.push(e)}function r(t,e,n){t.addEventListener(e,n,!1)}function o(t,e,n){t.removeEventListener(e,n,!1)}var a=n(6),s=n(77),l=[];a.canUseDOM&&i();var c={addEndEventListener:function(t,e){return 0===l.length?void window.setTimeout(e,0):void l.forEach(function(n){r(t,n,e)})},removeEndEventListener:function(t,e){0!==l.length&&l.forEach(function(n){o(t,n,e)})}};t.exports=c},function(t,e,n){(function(e){"use strict";function i(t,e,n){if(t&&"object"==typeof t){var i=t,r=void 0===i[n];r&&null!=e&&(i[n]=e)}}function r(t){if(null==t)return t;var e={};return o(t,i,e),e}var o=(n(78),n(81));n(2),"undefined"!=typeof e&&e.env,t.exports=r}).call(e,n(48))},function(t,e,n){"use strict";function i(t,e,n){return!r(t.props,e)||!r(t.state,n)}var r=n(29);t.exports=i},function(t,e,n){"use strict";function i(t){return Array.isArray(t)?t.concat():t&&"object"==typeof t?s(new t.constructor,t):t}function r(t,e,n){Array.isArray(t)?void 0:a("1",n,t);var i=e[n];Array.isArray(i)?void 0:a("2",n,i)}function o(t,e){if("object"!=typeof e?a("3",g.join(", "),d):void 0,l.call(e,d))return 1!==Object.keys(e).length?a("4",d):void 0,e[d];var n=i(t);if(l.call(e,p)){var v=e[p];v&&"object"==typeof v?void 0:a("5",p,v),n&&"object"==typeof n?void 0:a("6",p,n),s(n,e[p])}l.call(e,c)&&(r(t,e,c),e[c].forEach(function(t){n.push(t)})),l.call(e,u)&&(r(t,e,u),e[u].forEach(function(t){n.unshift(t)})),l.call(e,h)&&(Array.isArray(t)?void 0:a("7",h,t),Array.isArray(e[h])?void 0:a("8",h,e[h]),e[h].forEach(function(t){Array.isArray(t)?void 0:a("8",h,e[h]),n.splice.apply(n,t)})),l.call(e,f)&&("function"!=typeof e[f]?a("9",f,e[f]):void 0,n=e[f](n));for(var _ in e)m.hasOwnProperty(_)&&m[_]||(n[_]=o(t[_],e[_]));return n}var a=n(14),s=n(4),l=(n(1),{}.hasOwnProperty),c="$push",u="$unshift",h="$splice",d="$set",p="$merge",f="$apply",g=[c,u,h,d,p,f],m={};g.forEach(function(t){m[t]=!0}),t.exports=o}]),function(t,e){var n="undefined"!=typeof e.jQuery&&e.jQuery;e.ReactRailsUJS={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",findDOMNodes:function(i){var r,o;switch(typeof i){case"undefined":r="["+e.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=t;break;case"object":r="["+e.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=i;break;case"string":r=i+"["+e.ReactRailsUJS.CLASS_NAME_ATTR+"], "+i+" ["+e.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=t}return n?n(r,o):o.querySelectorAll(r)},getConstructor:function(t){var n;return n=e[t],n||(n=eval.call(e,t)),n&&n["default"]&&(n=n["default"]),n},mountComponents:function(t){for(var n=e.ReactRailsUJS.findDOMNodes(t),i=0;i<n.length;++i){var r=n[i],o=r.getAttribute(e.ReactRailsUJS.CLASS_NAME_ATTR),a=this.getConstructor(o),s=r.getAttribute(e.ReactRailsUJS.PROPS_ATTR),l=s&&JSON.parse(s);if("undefined"==typeof a){var c="Cannot find component: '"+o+"'";console&&console.log&&console.log("%c[react-rails] %c"+c+" for element","font-weight: bold","",r);var u=new Error(c+". Make sure your component is globally available to render.");throw u}ReactDOM.render(React.createElement(a,l),r)}},unmountComponents:function(t){for(var n=e.ReactRailsUJS.findDOMNodes(t),i=0;i<n.length;++i){var r=n[i];ReactDOM.unmountComponentAtNode(r)}}}}(document,window),function(t,e){e.ReactRailsUJS.Turbolinks={setup:function(){ReactRailsUJS.handleEvent("turbolinks:load",function(){e.ReactRailsUJS.mountComponents()}),ReactRailsUJS.handleEvent("turbolinks:before-render",function(){e.ReactRailsUJS.unmountComponents()})}}}(document,window),function(t,e){e.ReactRailsUJS.TurbolinksClassic={setup:function(){ReactRailsUJS.handleEvent(Turbolinks.EVENTS.CHANGE,function(){e.ReactRailsUJS.mountComponents()}),ReactRailsUJS.handleEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,function(){e.ReactRailsUJS.unmountComponents()})}}}(document,window),function(t,e){e.ReactRailsUJS.TurbolinksClassicDeprecated={setup:function(){Turbolinks.pagesCached(0),ReactRailsUJS.handleEvent("page:change",function(){e.ReactRailsUJS.mountComponents()}),ReactRailsUJS.handleEvent("page:receive",function(){e.ReactRailsUJS.unmountComponents()})}}}(document,window),function(t,e){e.ReactRailsUJS.pjax={setup:function(){ReactRailsUJS.handleEvent("ready",function(){e.ReactRailsUJS.mountComponents()}),ReactRailsUJS.handleEvent("pjax:end",function(t){e.ReactRailsUJS.mountComponents(t.target)}),ReactRailsUJS.handleEvent("pjax:beforeReplace",function(t){e.ReactRailsUJS.unmountComponents(t.target)})}}}(document,window),function(t,e){var n="undefined"!=typeof e.jQuery&&e.jQuery;e.ReactRailsUJS.Native={setup:function(){n?n(function(){e.ReactRailsUJS.mountComponents()}):"addEventListener"in e?t.addEventListener("DOMContentLoaded",function(){e.ReactRailsUJS.mountComponents()}):e.attachEvent("onload",function(){e.ReactRailsUJS.mountComponents()})}}}(document,window),function(t,e){var n="undefined"!=typeof e.jQuery&&e.jQuery;ReactRailsUJS.handleEvent=n?function(e,i){n(t).on(e,i)}:function(e,n){t.addEventListener(e,n)},"undefined"!=typeof Turbolinks&&Turbolinks.supported?"undefined"!=typeof Turbolinks.EVENTS?ReactRailsUJS.TurbolinksClassic.setup():"undefined"!=typeof Turbolinks.controller?ReactRailsUJS.Turbolinks.setup():ReactRailsUJS.TurbolinksClassicDeprecated.setup():n&&"function"==typeof n.pjax?ReactRailsUJS.pjax.setup():ReactRailsUJS.Native.setup()}(document,window);var BibGroupAPI=function(){var t=function(t,e,n,i,r,o){void 0===n&&(n=3),void 0===i&&(i="status,format,publicationDate"),APIGatewayUtils.request("libraries/"+t+"/bibs/"+e+"/groups",{size:n,sort:i}).done(r).fail(o)},e=function(t,e){APIGatewayUtils.request("libraries/"+t+"/bibs",{metadataIds:e})};return{fetchGroupInfo:t,fetchBibs:e}}(),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},UGCActions=function(){var t="//gateway.bibliocommons.com/v2/",e={FAILURE:"failure",PENDING:"pending",SUCCESS:"success"},n={"/item/show/":"Item-Page","/item/comment":"UGC-View-All-Page","/item/summary":"UGC-View-All-Page","/item/video":"UGC-View-All-Page","/item/age_suitability":"UGC-View-All-Page","/item/quotation":"UGC-View-All-Page","/item/content_advisory":"UGC-View-All-Page","/collection/show/":"Shelf-Page","/item/ugc":"Permalink-Page","/checkedout":"Checkout-Page","/holds":"Holds-Page"},i=function(t){for(key in n)if(t.match(key))return n[key];return t},r=function(t){ga("send",{hitType:"event",eventCategory:"UGC",eventAction:i(window.location.href),eventLabel:t,eventValue:1})},o=function(t){return/y$/.test(t)?t.replace(/y$/,"ies"):t+"s"},a=function(t){return t?"error_"+t.toLowerCase()+"_ugc":"error_forbidden_ugc"},s=function(t){return{initializingStatus:{localeKey:a(t),status:e.FAILURE},showForm:!1}},l=function(t){if(t)try{return JSON.parse(t)}catch(e){}return{error:{classification:"",fieldErrors:[]}}},c=function(t,n){var i=t.status,r=l(t.responseText);return 403===i?s(r.error.classification):404===i?{initializingStatus:{status:e.SUCCESS},showForm:!0}:401===i?(setTimeout(NERFRecoveryUtil.recover.bind(null,n,0,!0),1e4),{initializingStatus:{status:e.FAILURE,localeKey:"error_ugc_"+n+"_broken_auth_error"},showForm:!1}):i>=500&&599>=i?{initializingStatus:{status:e.FAILURE,localeKey:"error_ugc_"+n+"_gateway_error"},showForm:!1}:{}},u=function(t){return{initializingStatus:{status:e.PENDING},pending:t}},h=function(t,e){return"ugc."+t+"."+(e||"_new_")},d=function(t,e,n){return ReactStorageUtils.sessionSet(h(t,e),n)},p=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i=h(t,e),r=ReactStorageUtils.sessionGet(i);return n&&ReactStorageUtils.sessionRemove(i),r},f=function(t,n,i,r,o,a){var l={initializingStatus:{status:e.SUCCESS}};if(!r.loggedIn)return o(l);if(!r.allowFreeText)return a(s("NO_COPPA"));var c=p(t,null,!0);return c&&c.owner&&c.owner===r.idHash?o(_extends({},l,c.data,{showForm:!0,isNew:!0})):void b(t,{domain:n,metadataId:i,userId:r.id},o,a)},g=function(t){window.history.replaceState({},"","?active_tab="+t);var e=window.location.href;BCLogin.show_modal(null,{url:"/user/login?destination="+e,redirect_url:e})},m=function(n,i,r,a,s,l){a(u(!1));var h={type:"DELETE",url:t+"libraries/"+r.domain+"/ugc/"+o(n)+"/"+r.userContentId,dataType:"json",xhrFields:{withCredentials:!0}};$.ajax(h).done(function(){s({status:e.SUCCESS,deleted:!0}),setTimeout(function(){ReactEventsUtil.dispatch(n+".deleted"),$(i).parents(".ugc_container").remove()},1e3)}).fail(function(t){return l(c(t,n))})},v=function(t){var e=t.bibId,n="/usercontent/get_privacy/"+e;$.ajax({url:n,dataType:"json"}).done(function(t){ReactEventsUtil.dispatch("privacy.update",t)})},_=function(t){var e=t.bibId,n=t.isPrivate,i="/usercontent/set_privacy/"+e+"?is_private="+n;$.ajax({url:i,dataType:"json"}).done(function(t){t.success&&ReactEventsUtil.dispatch("privacy.update",t)})},b=function(n,i,r,a){var s=o(n),l=i.domain,u=i.userId,h=i.metadataId,d=t+"libraries/"+l+"/ugc/"+s+"?userId="+u+"&metadataId="+h+"&includePrivate=true",p={url:d,type:"GET",dataType:"json",xhrFields:{withCredentials:!0}};$.ajax(p).done(function(t){var n=t[s];return n.length>0?r({initializingStatus:{status:e.SUCCESS},userContentId:n[0].id,showForm:!1}):void r({initializingStatus:{status:e.SUCCESS},showForm:!0,isNew:!0})}).fail(function(t){return a(c(t,n))}).always(function(){return ReactEventsUtil.unregister(n+".active")})},y=function(t,n,i,r){var o=p(t,i,!0);return o&&o.owner&&o.owner===n?r(_extends({},o.data,{initializingStatus:{status:e.SUCCESS},isNew:!1,showForm:!0})):void 0},w=function(n,i,a,s,l,h,p){l(u(!0));var f=s.domain,m=s.userContentId,v={type:"PUT",url:t+"libraries/"+f+"/ugc/"+o(n)+"/"+m,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(a),xhrFields:{withCredentials:!0}};$.ajax(v).done(function(t){r(n),h({status:e.SUCCESS,userContentId:t.id,showForm:!1,isNew:!1,data:t}),window.setTimeout(function(){h({status:null})},1500)}).fail(function(t){return 401===t.status?(d(n,m,{owner:i,data:a}),g(n)):void p(c(t,n))})},k=function(n,i,a,s,l,h,p){l(u(!0));var f={type:"POST",url:t+"libraries/"+s.domain+"/ugc/"+o(n),contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(a),xhrFields:{withCredentials:!0}};$.ajax(f).done(function(){r(n),$.getJSON("/item/load_other_user_content/"+s.bibId+"/"+n+"?active_tab="+n+"&clear_cache=true").done(function(t){$("#tab_content_"+n).html(t.html).datajs("like_button_content").cp_like(),ReactRailsUJS.mountComponents(),h({status:e.SUCCESS,userContentId:t.id,showForm:!1,isNew:!1}),window.setTimeout(function(){h({status:null})},1500)})}).fail(function(t){return 401===t.status?(d(n,null,{owner:i,data:a}),g(n)):void p(c(t,n),t)})},x=function(e,n,i,r){var o={dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",url:t+"libraries/"+e+"/ugc/videos/url_check",data:JSON.stringify({snippet:n}),xhrFields:{withCredentials:!0}};$.ajax(o).done(function(t){var e=_extends({},t,{fieldErrors:{}});i(e)}).fail(function(t){var e={fieldErrors:l(t.responseText).error.fieldErrors,iFrameSrc:null};r(e)})};return{deleteUGC:m,fetchInitialData:f,setPrivacy:_,getPrivacy:v,fetchUGC:b,login:g,postUGC:k,unstashInlineUGC:y,updateUGC:w,checkVideoURL:x}}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},CatalogueCarouselContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={bibs:t.bibs},this.carouselProps={buttonBackgroundColor:"#fff",breakpointSettings:{1e6:{showDots:!0,useTouchArrows:!1,itemsPerPage:7,gutterSize:"34px",partiallyShowOffscreenItems:!1},1280:{showDots:!0,useTouchArrows:!1,itemsPerPage:7,gutterSize:"34px",partiallyShowOffscreenItems:!1},992:{showDots:!0,useTouchArrows:!1,itemsPerPage:6,gutterSize:"34px",partiallyShowOffscreenItems:!1},768:{showDots:!1,useTouchArrows:!0,itemsPerPage:5,gutterSize:"14px",partiallyShowOffscreenItems:!0},576:{showDots:!1,useTouchArrows:!0,itemsPerPage:3,gutterSize:"34px",partiallyShowOffscreenItems:!0},480:{showDots:!1,useTouchArrows:!0,itemsPerPage:3,gutterSize:"14px",partiallyShowOffscreenItems:!0},320:{showDots:!1,useTouchArrows:!0,itemsPerPage:2,gutterSize:"14px",partiallyShowOffscreenItems:!0}}}}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){var t=this;this.props.bibItemSource&&this.setState({loading:!0},function(){$.ajax({url:t.props.bibItemSource,type:"GET",dataType:"json",show_spinner:!1}).done(function(e){t.setState({bibs:e.bibs,loading:!1})})})}},{key:"render",value:function(){this.props.headingTag;return React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(CatalogueCarousel["default"],{loading:this.props.loading,carouselSettings:this.carouselProps,bibs:this.state.bibs,carouselTitle:this.props.carouselTitle,headingTag:this.props.headingTag}))}}]),e}(React.Component);CatalogueCarouselContainer.propTypes={messages:React.PropTypes.objectOf(React.PropTypes.string,React.PropTypes.string),bibs:React.PropTypes.arrayOf(React.PropTypes.shape({title:React.PropTypes.string,id:React.PropTypes.string,format:React.PropTypes.string,jacket:React.PropTypes.shape({medium:React.PropTypes.string})}).isRequired),bibItemSource:React.PropTypes.string,headingTag:React.PropTypes.string,carouselTitle:React.PropTypes.string.isRequired,loading:React.PropTypes.bool},CatalogueCarouselContainer.defaultProps={headingTag:"h3",cardHeadingTag:"h4",listItems:[],loading:!1};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},ListCarouselContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={listItems:t.listItems}}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){var t=this;this.props.listItemSource&&this.setState({loading:!0},function(){$.ajax({url:t.props.listItemSource,type:"GET",dataType:"json",show_spinner:!1}).done(function(e){t.setState({listItems:e.listObjects,loading:!1})})})}},{key:"render",value:function(){this.props.headingTag;return React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(ListCarousel["default"],{loading:this.props.loading,carouselSettings:this.props.carouselSettings,listItems:this.state.listItems,carouselTitle:this.props.carouselTitle,headingTag:this.props.headingTag,cardProps:this.props.cardProps}))}}]),e}(React.Component);ListCarouselContainer.propTypes={messages:React.PropTypes.objectOf(React.PropTypes.string,React.PropTypes.string),listItems:React.PropTypes.arrayOf(React.PropTypes.shape({listId:React.PropTypes.string,title:React.PropTypes.string,creator:React.PropTypes.shape({id:React.PropTypes.string,name:React.PropTypes.string}),type:React.PropTypes.string,imageSrc:React.PropTypes.string})),carouselSettings:React.PropTypes.object,listItemSource:React.PropTypes.string,headingTag:React.PropTypes.string,cardProps:React.PropTypes.object,carouselTitle:React.PropTypes.string.isRequired,loading:React.PropTypes.bool},ListCarouselContainer.defaultProps={headingTag:"h3",listItems:[],loading:!1};var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},RecentRatingCarouselContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),console.log(RatingCard["default"],BaseCarousel["default"]),this.state={items:t.items},this.carouselProps={breakpointSettings:{1e7:{showDots:!0,useTouchArrows:!1,itemsPerPage:6,gutterSize:"34px",partiallyShowOffscreenItems:!1},1280:{showDots:!0,useTouchArrows:!1,itemsPerPage:6,gutterSize:"34px",partiallyShowOffscreenItems:!1},992:{showDots:!0,useTouchArrows:!1,itemsPerPage:5,gutterSize:"34px",partiallyShowOffscreenItems:!1},768:{showDots:!1,useTouchArrows:!0,itemsPerPage:5,gutterSize:"14px",partiallyShowOffscreenItems:!0},576:{showDots:!1,useTouchArrows:!0,itemsPerPage:2,gutterSize:"34px",partiallyShowOffscreenItems:!0},480:{showDots:!1,useTouchArrows:!0,itemsPerPage:2,gutterSize:"14px",partiallyShowOffscreenItems:!0},320:{showDots:!1,useTouchArrows:!0,itemsPerPage:1,gutterSize:"14px",partiallyShowOffscreenItems:!0}}}}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){var t=this;this.props.itemSource&&this.setState({loading:!0},function(){$.ajax({url:t.props.itemSource,type:"GET",dataType:"json",show_spinner:!1}).done(function(e){t.setState({items:e.items,loading:!1})})})}},{key:"render",value:function(){var t=this.props,e=t.headingTag,n=t.carouselTitle,i=t.carouselTitleLink,r={headingTag:e,carouselTitle:n,carouselTitleLink:i};return React.createElement("div",{className:"cp-recent-rating-carousel"},React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(BaseCarousel["default"].BaseCarousel,_extends({},this.carouselProps,{titleData:r}),_.map(this.state.items,function(t,e){return React.createElement(RatingCard["default"],_extends({key:e},t))}))))}}]),e}(React.Component);RecentRatingCarouselContainer.propTypes={messages:React.PropTypes.objectOf(React.PropTypes.string,React.PropTypes.string),items:React.PropTypes.arrayOf(React.PropTypes.shape({item:React.PropTypes.shape({title:React.PropTypes.string,id:React.PropTypes.string,format:React.PropTypes.string,jacket:React.PropTypes.shape({medium:React.PropTypes.string}).isRequired}).isRequired,creator:React.PropTypes.shape({name:React.PropTypes.string,id:React.PropTypes.string}).isRequired,rating:React.PropTypes.shape({rating:React.PropTypes.number.isRequired,type:React.PropTypes.string.isRequired,id:React.PropTypes.string.isRequired,metadataId:React.PropTypes.string.isRequired}).isRequired}).isRequired),itemSource:React.PropTypes.string,headingTag:React.PropTypes.string,carouselTitle:React.PropTypes.string.isRequired,loading:React.PropTypes.bool},RecentRatingCarouselContainer.defaultProps={headingTag:"h3",cardHeadingTag:"h4",items:[],loading:!1};var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},HoldingsProbeContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={probes:null},this.getHoldingsProbes=this.getHoldingsProbes.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentWillMount",value:function(){this.getHoldingsProbes()}},{key:"getHoldingsProbes",value:function(){var t=this;$.ajax({url:"/item/probes/"+this.props.bibId,dataType:"json",show_spinner:!1,type:"GET",success:function(e){t.setState({probes:e.probes})}})}},{key:"render",value:function(){return React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement("div",null,this.state.probes?this.state.probes.map(function(t){return React.createElement(HoldingsProbeModule.HoldingsProbe,_extends({key:t.siteId},t))}):null))}}]),e}(React.Component);HoldingsProbeContainer.propTypes={messages:React.PropTypes.objectOf(React.PropTypes.string,React.PropTypes.string),bibId:React.PropTypes.number.isRequired};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},SearchProbeContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={probes:null},this.getSearchProbes=this.getSearchProbes.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentWillMount",value:function(){this.getSearchProbes()}},{key:"getSearchProbes",value:function(){var t=this;$.ajax({url:"/search/probes",data:{search_type:this.props.searchType,query:this.props.query},dataType:"json",show_spinner:!1,type:"GET",success:function(e){t.setState({probes:e.search})}})}},{key:"render",value:function(){return React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement("div",null,React.createElement(SearchProbeModule.SearchProbeList,{probes:this.state.probes})))}}]),e}(React.Component);SearchProbeContainer.propTypes={searchType:React.PropTypes.string.isRequired,query:React.PropTypes.string.isRequired,messages:React.PropTypes.objectOf(React.PropTypes.string,React.PropTypes.string)};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},InlineCommentEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={showForm:t.showForm,isActiveTab:t.isActiveTab,initialComment:t.initialComment,comment:t.comment,rating:t.rating,user:t.user,bibId:t.bibId,userContentId:t.userContentId,fetching:t.fetching,metadataId:t.metadataId,submitting:!1,deleted:!1,status:"pending"},this.updateContent=this.updateContent.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleShowForm=this.handleShowForm.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){ReactEventsUtil.register("comment.new",this.updateContent),this.getContent("comment")}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("comment.new")}},{key:"getContent",value:function(t){var e=this;UGCActions.unstashInlineUGC(t,this.state.user.idHash,this.state.userContentId,function(t){return e.setState(t)})}},{key:"updateContent",value:function(t,e){var n=e;e.data&&(n.comment=e.data.comment,n.initialComment=e.data.comment),this.setState(n)}},{key:"handleShowForm",value:function(){this.setState({showForm:!0})}},{key:"handleCancel",value:function(t){t&&t.preventDefault(),this.setState({comment:this.state.initialComment,showForm:!1})}},{key:"handleDelete",value:function(t){var e=this;t&&t.preventDefault(),UGCActions.deleteUGC("comment",this.refs.root,{userContentId:this.props.userContentId,domain:this.props.domain},function(t){return e.setState(t)},function(t){e.setState(t),e.props.permalink&&window.setTimeout(function(){window.location.href=$(".back_to").attr("href")})},function(t){return e.setState(t)})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),UGCActions.updateUGC("comment",this.props.user.idHash,{comment:this.state.comment},{userContentId:this.props.userContentId,domain:this.props.domain},function(t){return e.setState(t)
},function(t){return e.updateContent(null,t)},function(t){return e.setState(t)})}},{key:"handleChange",value:function(t){this.setState({comment:t})}},{key:"render",value:function(){return this.state.deleted?React.createElement("div",{ref:"root",className:"alert alert-success"},this.props.messages.comment_deleted):React.createElement("div",{ref:"root",className:"cp-inline-comment-editor-container"},React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(PrivacyToggleContainer,{editorClass:"InlineCommentEditor",isPrivate:this.props.isPrivate,isActiveTab:!1,comment:this.state.comment,handleCancel:this.handleCancel,handleChange:this.handleChange,handleDelete:this.handleDelete,handleShowForm:this.handleShowForm,bibId:this.state.bibId,rating:this.state.rating,handleSubmit:this.handleSubmit,metadataId:this.state.metadataId,pending:!1,showForm:this.state.showForm,status:this.state.status,submitting:this.state.submitting,user:this.state.user})))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PrimaryCommentEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={showForm:t.showForm,initialComment:"",comment:"",bibId:t.bibId,isNew:!0,userContentId:null,expanded:!1,initializingStatus:{status:"pending",localeKey:null},user:t.user},this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleLogin=this.handleLogin.bind(this),this.getComment=this.getComment.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.props.isActiveTab&&this.getComment(),ReactEventsUtil.register("comment.active",this.getComment),ReactEventsUtil.register("comment.deleted",this.getComment)}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("comment.active"),ReactEventsUtil.unregister("comment.deleted")}},{key:"handleLogin",value:function(t){t.preventDefault(),UGCActions.login("comment")}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),UGCActions.postUGC("comment",this.props.user.idHash,{comment:this.state.comment,metadataId:this.props.metadataId},{domain:this.props.domain,bibId:this.props.bibId},function(t){return e.setState(t)},function(t){return e.setState(t)},function(t){return e.setState(t)})}},{key:"handleFocus",value:function(){this.setState({expanded:!0})}},{key:"handleBlur",value:function(){this.setState({expanded:!1})}},{key:"handleChange",value:function(t){this.setState({comment:t,isEmpty:t.length<=0})}},{key:"getComment",value:function(){var t=this;UGCActions.fetchInitialData("comment",this.props.domain,this.props.metadataId,this.state.user,function(e){return t.setState(e)},function(e){return t.setState(e)})}},{key:"render",value:function(){return this.props.shadowMode?null:React.createElement(IntlWrapper["default"],{messages:this.props.messages,locale:CURRENT_LOCALE},React.createElement("div",{className:"cp-primary-comment-editor-container"},React.createElement(PrivacyToggleContainer,{editorClass:"PrimaryCommentEditor",isActiveTab:this.props.isActiveTab,characterLimit:4e3,bibId:this.props.bibId,comment:this.state.comment,expanded:this.state.expanded,handleLogin:this.handleLogin,handleBlur:this.handleBlur,handleChange:this.handleChange,handleFocus:this.handleFocus,isNew:this.state.isNew,showForm:this.state.showForm,handleSubmit:this.handleSubmit,isEmpty:this.state.isEmpty,metadataId:this.props.metadataId,user:this.state.user,userContentId:this.state.userContentId,initializingStatus:this.state.initializingStatus})))}}]),e}(React.Component),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},InlineContentAdvisoryEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={characterLimit:4e3,bibId:t.bibId,isPrivate:t.isPrivate,advisoryType:t.advisoryType,initialAdvisoryBody:t.initialAdvisoryBody,advisoryBody:t.advisoryBody,user:t.user,status:"",pending:!1},this.handleCancel=this.handleCancel.bind(this),this.handleShowForm=this.handleShowForm.bind(this),this.handleAdvisoryTypeChange=this.handleAdvisoryTypeChange.bind(this),this.handleAdvisoryBodyChange=this.handleAdvisoryBodyChange.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.updatePrivacy=this.updatePrivacy.bind(this),this.handlePrivacyToggle=this.handlePrivacyToggle.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){ReactEventsUtil.register("privacy.update",this.updatePrivacy)}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("privacy.update")}},{key:"updatePrivacy",value:function(t,e){var n=e.success,i=e.bib_id,r=e.is_private;n&&i==this.state.bibId&&this.setState({isPrivate:r})}},{key:"handlePrivacyToggle",value:function(){UGCActions.setPrivacy({bibId:this.state.bibId,isPrivate:!this.state.isPrivate},this.updatePrivacy)}},{key:"handleCancel",value:function(){this.setState(_extends({},this.state,{advisoryBody:this.state.initialAdvisoryBody,showForm:!1}))}},{key:"handleShowForm",value:function(){this.setState(_extends({},this.state,{showForm:!0}))}},{key:"handleAdvisoryTypeChange",value:function(t){this.setState(_extends({},this.state,{advisoryType:t}))}},{key:"handleAdvisoryBodyChange",value:function(t){this.setState(_extends({},this.state,{advisoryBody:t}))}},{key:"handleDelete",value:function(){this.setState(_extends({},this.state,{initialAdvisoryBody:"test advisory",advisoryBody:"test advisory",advisoryType:"GRAPHIC_VIOLENCE",showForm:!1}))}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),this.setState(_extends({},this.state,{pending:!0})),window.setTimeout(function(){e.setState(_extends({},e.state,{status:"success",pending:!1,showForm:!1}))},1e3),window.setTimeout(function(){e.setState(_extends({},e.state,{status:""}))},2e3)}},{key:"render",value:function(){return React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(PrivacyToggleContainer,_extends({editorClass:"InlineContentAdvisoryEditor"},this.state,{handleCancel:this.handleCancel,handleSubmit:this.handleSubmit,handleShowForm:this.handleShowForm,handleDelete:this.handleDelete,handlePrivacyToggle:this.handlePrivacyToggle,handleAdvisoryBodyChange:this.handleAdvisoryBodyChange})))}}]),e}(React.Component),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PermalinkContentAdvisoryEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={characterLimit:4e3,advisoryType:t.advisoryType,initialAdvisoryBody:t.initialAdvisoryBody,advisoryBody:t.advisoryBody,user:t.user,status:"",pending:!1},this.handleCancel=this.handleCancel.bind(this),this.handleShowForm=this.handleShowForm.bind(this),this.handleAdvisoryTypeChange=this.handleAdvisoryTypeChange.bind(this),this.handleAdvisoryBodyChange=this.handleAdvisoryBodyChange.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}return _inherits(e,t),_createClass(e,[{key:"handleCancel",value:function(){this.setState(_extends({},this.state,{advisoryBody:this.state.initialAdvisoryBody,showForm:!1}))}},{key:"handleShowForm",value:function(){this.setState(_extends({},this.state,{showForm:!0}))}},{key:"handleAdvisoryTypeChange",value:function(t){this.setState(_extends({},this.state,{advisoryType:t}))}},{key:"handleAdvisoryBodyChange",value:function(t){this.setState(_extends({},this.state,{advisoryBody:t}))}},{key:"handleDelete",value:function(){this.setState(_extends({},this.state,{initialAdvisoryBody:"test advisory",advisoryBody:"test advisory",advisoryType:"GRAPHIC_VIOLENCE",showForm:!1}))}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),this.setState(_extends({},this.state,{pending:!0})),window.setTimeout(function(){e.setState(_extends({},e.state,{status:"success",pending:!1,showForm:!1}))},1e3),window.setTimeout(function(){e.setState(_extends({},e.state,{status:""}))},2e3)}},{key:"render",value:function(){return React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(UGCEditorsModule.InlineContentAdvisoryEditor,_extends({},this.state,{handleCancel:this.handleCancel,handleSubmit:this.handleSubmit,handleShowForm:this.handleShowForm,handleDelete:this.handleDelete,handleAdvisoryBodyChange:this.handleAdvisoryBodyChange})))}}]),e}(React.Component),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PrimaryContentAdvisoryEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={characterLimit:4e3,advisories:t.advisories,advisoryType:null,advisoryBody:t.advisoryBody,initializingStatus:{status:"success",localeKey:null},user:t.user,bibId:t.bibId,domain:t.domain,metadataId:t.metadataId},this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleAdvisoryTypeChange=this.handleAdvisoryTypeChange.bind(this),this.handleAdvisoryBodyChange=this.handleAdvisoryBodyChange.bind(this),this.handleLogin=this.handleLogin.bind(this),this.getContentAdvisories=this.getContentAdvisories.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.props.isActiveTab&&this.getContentAdvisories(),ReactEventsUtil.register("content_advisory.active",this.getContentAdvisories),ReactEventsUtil.register("content_advisory.deleted",this.getContentAdvisories)}},{key:"getContentAdvisories",value:function(){var t=this;UGCActions.fetchInitialData("content_advisory",this.props.domain,this.props.metadataId,this.state.user,function(e){return t.setState(e)},function(e){return t.setState(e)})}},{key:"handleAdvisoryTypeChange",value:function(t){this.setState(_extends({},this.state,{advisoryType:t}))}},{key:"handleAdvisoryBodyChange",value:function(t){this.setState(_extends({},this.state,{advisoryBody:t}))}},{key:"handleCancel",value:function(){this.setState(_extends({},this.state,{advisoryType:null,advisoryBody:""}))}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),this.setState(_extends({},this.state,{pending:!0})),window.setTimeout(function(){e.setState(_extends({},e.state,{advisories:[].concat(_toConsumableArray(e.state.advisories),[{type:e.state.advisoryType,content:e.state.advisoryBody,userContentId:567365434567}]),advisoryType:null,advisoryBody:"",pending:!1,status:"success"}))},1e3),window.setTimeout(function(){e.setState(_extends({},e.state,{status:""}))},2e3)}},{key:"handleLogin",value:function(t){t.preventDefault(),UGCActions.login(t,"content_advisory")}},{key:"render",value:function(){return this.props.shadowMode?null:React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(UGCEditorsModule.PrimaryContentAdvisoryEditor,_extends({},this.state,{handleLogin:this.handleLogin,handleCancel:this.handleCancel,handleSubmit:this.handleSubmit,handleAdvisoryTypeChange:this.handleAdvisoryTypeChange,handleAdvisoryBodyChange:this.handleAdvisoryBodyChange})))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},FeedItemDropdownContainer=function(t){function e(t){var n=this;_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={privacy:this.props.privacyValue};var i=["removeHandler","privacyToggleHandler","updatePrivacy","removeFeedItem","updateFeedItemMessage"];i.forEach(function(t){return n[t]=n[t].bind(n)})}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.updateFeedItemMessage()}},{key:"privacyToggleHandler",value:function(){var t=this;return $.ajax({url:"/usercontent/set_privacy/"+this.props.contentId,method:"POST",dataType:"JSON",show_spinner:!1,data:{is_private:this.state.privacy?"false":"true"},success:function(e){t.updatePrivacy(e)}}),!1}},{key:"updatePrivacy",value:function(t){t.success&&(this.setState({privacy:t.is_private}),this.updateFeedItemMessage())}},{key:"updateFeedItemMessage",value:function(){var t="feed-item-privacy-lock",e=$(this.refs.root).parents(".feed_event").find(".feed_message");this.state.privacy?e.datajs(t).show():e.datajs(t).hide()}},{key:"removeHandler",value:function(){var t=this;return $.ajax({url:"/"+this.props.feedType+"/"+this.props.feedItemId,method:"DELETE",dataType:"JSON",show_spinner:!1,success:function(e){t.removeFeedItem(e)}}),!1}},{key:"removeFeedItem",value:function(){$(this.refs.root).parents(".feed_event").remove()}},{key:"render",value:function(){var t=this.props,e=t.feedItemType,n=t.describedById,i=t.labelledById;return React.createElement("div",{ref:"root"},React.createElement(IntlWrapper["default"],{messages:this.props.localizations},React.createElement(FeedItemModule["default"],{privacyToggleHandler:this.privacyToggleHandler,removeHandler:this.removeHandler,privacyValue:this.state.privacy,describedById:n,labelledById:i,feedItemType:e})))}}]),e}(React.Component);FeedItemDropdownContainer.propTypes={privacyToggleHandler:React.PropTypes.func,removeHandler:React.PropTypes.func,userId:React.PropTypes.number,contentId:React.PropTypes.number,privacyValue:React.PropTypes.bool,feedItemType:React.PropTypes.string,feedType:React.PropTypes.string,feedItemId:React.PropTypes.number};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},FeedItemRemoveButtonContainer=function(t){function e(t){var n=this;_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t);var i=["removeHandler","removeFeedItem"];i.forEach(function(t){return n[t]=n[t].bind(n)})}return _inherits(e,t),_createClass(e,[{key:"removeHandler",value:function(){var t=this;return $.ajax({url:"/"+this.props.feedType+"/"+this.props.feedItemId,method:"DELETE",dataType:"JSON",success:function(e){t.removeFeedItem(e)}}),!1}},{key:"removeFeedItem",value:function(){$(this.refs.root).parents(".feed_event").remove()}},{key:"render",value:function(){var t=this.props,e=t.tagName,n=t.className;return React.createElement("div",{ref:"root"},React.createElement(IntlWrapper["default"],{messages:this.props.localizations},React.createElement(RemoveButton,{className:n,handleClick:this.removeHandler,tagName:e})))}}]),e}(React.Component);FeedItemRemoveButtonContainer.propTypes={className:React.PropTypes.string,handleClick:React.PropTypes.func,tagName:React.PropTypes.string,feedType:React.PropTypes.string,feedItemId:React.PropTypes.string};var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},ItemFormatPickerContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={entities:{},currentBib:null,loading:!0},this.getGroupInfo=this.getGroupInfo.bind(this),this.renderToken=this.renderToken.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.getGroupInfo()}},{key:"getGroupInfo",value:function(){var t=this;BibGroupAPI.fetchGroupInfo(this.props.domain,this.props.metadataId,this.props.size,"status,format,publicationDate",function(e){return t.completeLoad(e)},function(e){return t.completeLoad(e)})}},{key:"completeLoad",value:function(t){t.loading=!1,this.setState(t)}},{key:"renderPopup",value:function(t){var e=this,n=t.map(function(t){return Immutable.Map(_extends({},t,{item:Immutable.fromJS(e.state.entities.bibs[t.metadataId])}))});return React.createElement(AdditionalItemFormatsPopup["default"],{groups:n,handleGTMEvent:push_gtm_events})}},{key:"renderToken",value:function(t){var e=Immutable.fromJS(this.state.entities.bibs[t.metadataId]),n=Immutable.fromJS(this.state.entities.bibs[this.state.currentBib]),i=n.getIn(["briefInfo","format"])===t.format?t.size-1:t.size;return React.createElement(ItemFormatPicker["default"],{key:t.metadataId,item:e,active:t.metadataId===this.props.metadataId,metadataId:t.metadataId,handleGTMEvent:push_gtm_events,editionCount:i})}},{key:"render",value:function(){if(console.info(this.state),this.state.loading)return null;var t=this.state.entities.bibs[this.state.currentBib].formatGroups;if(t.length<1||1===t.length&&t[0].size<=1)return $.datajs("overflow_toggle_item_format_picker").overflowToggle(),null;var e={event:"bc.bibFormatChooserSelection",payload:{gtmCategory:"v2-bib-format-chooser",gtmAction:"v2-container-interaction",gtmLabel:"all-results",gtmValue:1}};return $.datajs("overflow_toggle_item_format_picker").overflowToggle("init",{threshold:100}),$(".titleBlock").addClass("item-format-picker-view"),React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement("div",{className:"cp-format-group-picker"},React.createElement("a",{onClick:function(){return push_gtm_events({events:[e]})},href:"/v2/search?query=groupkey%3A"+encodeURI(this.state.groupKey)+"&searchType=bl&title="+this.state.summaryTitle,className:"view-all-results"},this.props.messages.view_all_formats_link+" ("+this.state.editionsCount+")"),React.createElement("div",{className:"item"},_.take(t,3).map(this.renderToken),t.length>3&&this.renderPopup(t.slice(2)))))}}]),e}(React.Component);ItemFormatPickerContainer.propTypes={metadataId:React.PropTypes.string.isRequired,domain:React.PropTypes.string.isRequired,size:React.PropTypes.number,sort:React.PropTypes.string},ItemFormatPickerContainer.defaultProps={size:20,sort:"status,format,publicationDate"};var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},mapDimensions={width:480,height:300,maxWidth:"calc(100vw - 30px)"},RADIUS_IN_METRES_TO_BIAS=1e5,LocationsContainer=function(t){function e(t){var n=this;_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={currentView:"list",googleMapsLoaded:!1,sortedBranches:this.props.branches,coordinates:null,selectedBranch:this.props.selectedBranch,locationSuggestions:[],mapBounds:null};var i=["changeView","handleOverlayClose","setCurrentLocation","onGoogleMapsLoaded","onSelectBranch","getAutocompleteResults","onMapChange"];i.forEach(function(t){return n[t]=n[t].bind(n)})}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){var t=this;$(document).off("keydown.bs.dropdown.data-api"),$(window).on("popstate",function(e){if(null!==t.state.selectedBranch){e.preventDefault();var n=$.deparam(window.location.search.substring(1));delete n.branch,window.history.replaceState("","","?"+$.param(n)),t.setState({selectedBranch:null})}}),$("[href^=tel]").on("click",function(){window.dont_spin=!0})}},{key:"changeView",value:function(t){this.setState({currentView:t})}},{key:"onSelectBranch",value:function(t,e){e&&e.preventDefault(),this.setState({selectedBranch:t}),window.history.pushState({branch:t},t.name,"?branch="+t.sanitized_branch_id)}},{key:"handleOverlayClose",value:function(){window.history.back()}},{key:"onGoogleMapsLoaded",value:function(){this.setState({googleMapsLoaded:!0})}},{key:"onMapChange",value:function(t){this.setState({mapBounds:t})}},{key:"getAutocompleteResults",value:function(t){var e=this;if(!t||0===t.length)return void this.setState({locationSuggestions:[]});var n=this.props.branches[0].coordinates,i=new google.maps.LatLng(n.latitude,n.longitude),r=new google.maps.places.AutocompleteService;r.getPlacePredictions({input:t,types:["geocode"],location:i,radius:RADIUS_IN_METRES_TO_BIAS},function(t){t&&e.setState({locationSuggestions:t.map(function(t){return{label:t.description,value:t.id}})})})}},{key:"setCurrentLocation",value:function(t){var e=this,n=t[0];n&&!function(){var t=n.geometry.location,i=_.sortBy(e.props.branches,function(e){var n=new google.maps.LatLng(e.coordinates.latitude,e.coordinates.longitude);return google.maps.geometry.spherical.computeDistanceBetween(t,n)});e.setState({sortedBranches:i,coordinates:t.toJSON(),locationSuggestions:[]})}()}},{key:"render",value:function(){return React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(LocationsModule["default"],_extends({},this.props,{locale:CURRENT_LOCALE,branches:this.state.sortedBranches,currentView:this.state.currentView,changeView:this.changeView,onSelectBranch:this.onSelectBranch,mapDimensions:mapDimensions,onGoogleMapsLoaded:this.onGoogleMapsLoaded,googleMapsLoaded:this.state.googleMapsLoaded,setCurrentLocation:this.setCurrentLocation,currentLocationCoordinates:this.state.coordinates,autocompleteOnChange:this.getAutocompleteResults,locationSuggestions:this.state.locationSuggestions,selectedBranch:this.state.selectedBranch,handleOverlayClose:this.handleOverlayClose,mapBounds:this.state.mapBounds,onMapChange:this.onMapChange})))}}]),e}(React.Component),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PrivacyToggleContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={isPrivate:t.isPrivate},this.handleClick=this.handleClick.bind(this),this.updateContent=this.updateContent.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.props.user.loggedIn&&UGCActions.getPrivacy({bibId:this.props.bibId}),ReactEventsUtil.register("privacy.update",this.updateContent)}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("privacy.update")}},{key:"updateContent",value:function(t,e){var n=e.success,i=e.bib_id,r=e.is_private;n&&i==this.props.bibId&&this.setState({isPrivate:r})}},{key:"handleClick",value:function(){UGCActions.setPrivacy({bibId:this.props.bibId,isPrivate:!this.state.isPrivate})}},{key:"render",value:function(){var t=this.props,e=(t.isPrivate,t.editorClass),n=_objectWithoutProperties(t,["isPrivate","editorClass"]),i=UGCEditorsModule[e];return React.createElement(i,_extends({},n,{isPrivate:this.state.isPrivate,handlePrivacyToggle:this.handleClick}))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},InlineQuotationEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={showForm:t.showForm,isActiveTab:t.isActiveTab,initialQuotation:t.initialQuotation,bibId:t.bibId,isPrivate:t.isPrivate,quotation:t.quotation,rating:t.rating,user:t.user,userContentId:t.userContentId,fetching:t.fetching,metadataId:t.metadataId,submitting:!1,deleted:!1,status:"pending"},this.updateContent=this.updateContent.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleShowForm=this.handleShowForm.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){ReactEventsUtil.register("quotation.new",this.updateContent),this.getContent("quotation")}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("quotation.new")}},{key:"getContent",value:function(t){var e=this;UGCActions.unstashInlineUGC(t,this.state.user.idHash,this.state.userContentId,function(t){return e.setState(t)})}},{key:"updateContent",value:function(t,e){var n=e;n.showForm=!1,e.data&&(n.quotation=e.data.quote,n.initialQuotation=e.data.quote),this.setState(n)}},{key:"handleShowForm",value:function(){this.setState({showForm:!0})}},{key:"handleCancel",value:function(){this.setState({quotation:this.state.initialQuotation,showForm:!1})}},{key:"handleDelete",value:function(){var t=this;UGCActions.deleteUGC("quotation",this.refs.root,{userContentId:this.props.userContentId,domain:this.props.domain},function(e){return t.setState(e)},function(e){t.setState(e),t.props.permalink&&window.setTimeout(function(){window.location.href=$(".back_to").attr("href")})},function(e){return t.setState(e)})}},{key:"handleSubmit",value:function(t){var e=this;t&&t.preventDefault(),UGCActions.updateUGC("quotation",this.props.user.idHash,{quotation:this.state.quotation},{userContentId:this.props.userContentId,domain:this.props.domain},function(t){return e.setState(t)},function(t){return e.updateContent(null,t)},function(t){return e.setState(t)})}},{key:"handleChange",value:function(t){this.setState({quotation:t})}},{key:"render",value:function(){return this.state.deleted?React.createElement("div",{ref:"root",className:"alert alert-success"},this.props.messages.quotation_deleted):React.createElement("div",{ref:"root",className:"cp-inline-quotation-editor-container"},React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(PrivacyToggleContainer,{editorClass:"InlineQuotationEditor",characterLimit:4e3,bibId:this.state.bibId,quotation:this.state.quotation,handleCancel:this.handleCancel,handleChange:this.handleChange,handleDelete:this.handleDelete,handleShowForm:this.handleShowForm,handleSubmit:this.handleSubmit,rating:this.state.rating,metadataId:this.state.metadataId,pending:!1,showForm:this.state.showForm,status:this.state.status,submitting:this.state.submitting,user:this.state.user})))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PermalinkQuotationEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={showForm:t.showForm,isActiveTab:t.isActiveTab,initialQuotation:t.initialQuotation,quotation:t.quotation,rating:t.rating,user:t.user,userContentId:t.userContentId,fetching:t.fetching,metadataId:t.metadataId,submitting:!1,deleted:!1,status:"pending"},this.updateContent=this.updateContent.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleShowForm=this.handleShowForm.bind(this)}return _inherits(e,t),_createClass(e,[{key:"updateContent",value:function(t,e){var n=e;n.showForm=!1,e.data&&(n.quotation=e.data.quote,n.initialQuotation=e.data.quote),this.setState(n)
}},{key:"handleShowForm",value:function(){this.setState({showForm:!0})}},{key:"handleCancel",value:function(){this.setState({quotation:this.state.initialQuotation,showForm:!1})}},{key:"handleDelete",value:function(){var t=this;UGCActions.deleteUGC("quotation",this.refs.root,{userContentId:this.props.userContentId,domain:this.props.domain},function(e){return t.setState(e)},function(e){t.setState(e),window.setTimeout(function(){window.location.href=$(".back_to").attr("href")})},function(e){return t.setState(e)})}},{key:"handleSubmit",value:function(t){var e=this;t&&t.preventDefault(),UGCActions.updateUGC("quotation",this.props.user.idHash,{quotation:this.state.quotation},{userContentId:this.props.userContentId,domain:this.props.domain},function(t){return e.setState(t)},function(t){return e.updateContent(null,t)},function(t){return e.setState(t)})}},{key:"handleChange",value:function(t){this.setState({quotation:t})}},{key:"render",value:function(){return this.state.deleted?React.createElement("div",{ref:"root",className:"alert alert-success"},this.props.messages.quotation_deleted):React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement("div",{ref:"root",className:"cp-permalink-quotation-editor-container"},React.createElement(UGCEditorsModule.InlineQuotationEditor,{characterLimit:4e3,quotation:this.state.quotation,handleCancel:this.handleCancel,handleChange:this.handleChange,handleDelete:this.handleDelete,handleShowForm:this.handleShowForm,rating:this.state.rating,handleSubmit:this.handleSubmit,metadataId:this.state.metadataId,pending:!1,showForm:this.state.showForm,status:this.state.status,submitting:this.state.submitting,user:this.state.user})))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PrimaryQuotationEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={quotation:null,isNew:!0,userContentId:null,showForm:!0,expanded:!1,initializingStatus:{status:"success",localeKey:null},user:t.user},this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleLogin=this.handleLogin.bind(this),this.getQuotation=this.getQuotation.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.props.isActiveTab&&this.getQuotation(),ReactEventsUtil.register("quotation.active",this.getQuotation),ReactEventsUtil.register("quotation.deleted",this.getQuotation)}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("quotation.active"),ReactEventsUtil.unregister("quotation.deleted")}},{key:"handleLogin",value:function(t){t.preventDefault(),UGCActions.login("quotation")}},{key:"getQuotation",value:function(t){var e=this;t&&t.preventDefault(),UGCActions.fetchInitialData("quotation",this.props.domain,this.props.metadataId,this.state.user,function(t){return e.setState(t)},function(t){return e.setState(t)})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),UGCActions.postUGC("quotation",this.props.user.idHash,{quotation:this.state.quotation,userId:this.props.user.id,metadataId:this.props.metadataId},{domain:this.props.domain,bibId:this.props.bibId},function(t){return e.setState(t)},function(t){t.showForm=!0,e.setState(t)},function(t){return e.setState(t)})}},{key:"handleChange",value:function(t){this.setState({quotation:t})}},{key:"render",value:function(){return this.props.shadowMode?null:React.createElement("div",{className:"cp-primary-quotation-editor-container"},React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(UGCEditorsModule.PrimaryQuotationEditor,{characterLimit:4e3,quotation:this.state.quotation,handleLogin:this.handleLogin,handleChange:this.handleChange,isNew:this.state.isNew,handleSubmit:this.handleSubmit,messages:this.props.messages,user:this.state.user,initializingStatus:this.state.initializingStatus})))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},InlineSummaryEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={showForm:t.showForm,isActiveTab:t.isActiveTab,initialSummary:t.initialSummary,summary:t.summary,bibId:t.bibId,isPrivate:t.isPrivate,isNew:!1,rating:t.rating,user:t.user,userContentId:t.userContentId,fetching:t.fetching,metadataId:t.metadataId,submitting:!1,deleted:!1,status:"pending"},this.updateContent=this.updateContent.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleShowForm=this.handleShowForm.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){ReactEventsUtil.register("summary.new",this.updateContent),this.getContent("summary")}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("summary.new")}},{key:"getContent",value:function(t){var e=this;UGCActions.unstashInlineUGC(t,this.state.user.idHash,this.state.userContentId,function(t){return e.setState(t)})}},{key:"updateContent",value:function(t,e){var n=e;e.data&&(n.summary=e.data.summary,n.initialSummary=e.data.summary),this.setState(n)}},{key:"handleShowForm",value:function(){this.setState({showForm:!0})}},{key:"handleCancel",value:function(){this.setState({summary:this.state.initialSummary,showForm:!1})}},{key:"handleDelete",value:function(){var t=this;UGCActions.deleteUGC("summary",this.refs.root,{userContentId:this.props.userContentId,domain:this.props.domain},function(e){return t.setState(e)},function(e){t.setState(e),t.props.permalink&&window.setTimeout(function(){window.location.href=$(".back_to").attr("href")})},function(e){return t.setState(e)})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),UGCActions.updateUGC("summary",this.props.user.idHash,{summary:this.state.summary},{userContentId:this.props.userContentId,domain:this.props.domain},function(t){return e.setState(t)},function(t){return e.updateContent(null,t)},function(t){return e.setState(t)})}},{key:"handleChange",value:function(t){this.setState({summary:t})}},{key:"render",value:function(){return this.state.deleted?React.createElement("div",{ref:"root",className:"alert alert-success"},this.props.messages.summary_deleted):React.createElement("div",{ref:"root",className:"cp-inline-summary-editor-container"},React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(PrivacyToggleContainer,{editorClass:"InlineSummaryEditor",characterLimit:500,summary:this.state.summary,handleCancel:this.handleCancel,handleChange:this.handleChange,handleDelete:this.handleDelete,handleHideForm:this.handleHideForm,handleShowForm:this.handleShowForm,handlePrivacyToggle:this.handlePrivacyToggle,bibId:this.state.bibId,isPrivate:this.state.isPrivate,rating:this.state.rating,handleSubmit:this.handleSubmit,isNew:this.state.isNew,metadataId:this.state.metadataId,pending:!1,showForm:this.state.showForm,status:this.state.status,submitting:this.state.submitting,user:this.state.user})))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PrimarySummaryEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={showForm:t.showForm,initialSummary:"",summary:"",isNew:!0,bibId:t.bibId,isPrivate:!1,userContentId:null,expanded:!1,initializingStatus:{status:"pending",localeKey:null},user:t.user},this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleLogin=this.handleLogin.bind(this),this.getSummary=this.getSummary.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){ReactEventsUtil.register("summary.active",this.getSummary),ReactEventsUtil.register("summary.deleted",this.getSummary),this.props.isActiveTab&&this.getSummary()}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("summary.active"),ReactEventsUtil.unregister("summary.deleted")}},{key:"handleLogin",value:function(t){t.preventDefault(),UGCActions.login(t,"summary")}},{key:"getSummary",value:function(){var t=this;UGCActions.fetchInitialData("summary",this.props.domain,this.props.metadataId,this.state.user,function(e){return t.setState(e)},function(e){return t.setState(e)})}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),UGCActions.postUGC("summary",this.props.user.idHash,{summary:this.state.summary,userId:this.props.user.id,metadataId:this.props.metadataId},{domain:this.props.domain,bibId:this.props.bibId},function(t){return e.setState(t)},function(t){return e.setState(t)},function(t){return e.setState(t)})}},{key:"handleChange",value:function(t){this.setState({summary:t,isEmpty:t.length<=0})}},{key:"render",value:function(){return this.props.shadowMode?null:React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement("div",{className:"cp-primary-summary-editor-container"},React.createElement(PrivacyToggleContainer,{editorClass:"PrimarySummaryEditor",characterLimit:4e3,summary:this.state.summary,handleLogin:this.handleLogin,handleChange:this.handleChange,isNew:this.state.isNew,showForm:this.state.showForm,handleSubmit:this.handleSubmit,handlePrivacyToggle:this.handlePrivacyToggle,bibId:this.state.bibId,isPrivate:this.props.isPrivate,isEmpty:this.state.isEmpty,metadataId:this.props.metadataId,user:this.state.user,userContentId:this.state.userContentId,initializingStatus:this.state.initializingStatus})))}}]),e}(React.Component),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PropTypes=React.PropTypes,JACKET_COVER_BUTTON_READY=0,JACKET_COVER_BUTTON_SENDING=1,JACKET_COVER_BUTTON_SENT=2,SEARCH_RESULTS_PAGE_SIZE=5,AUTOSAVE_DEBOUNCE_TIME=1e3,UserListFormContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={list:Immutable.fromJS(this.props.list),listItems:Immutable.fromJS(this.props.listItems||[]),searchResults:Immutable.List(),searchParams:Immutable.Map({type:"keyword",format:"any",query:"",lastExecutedQuery:"",page:1,noResultsFound:!1}),webItem:Immutable.fromJS({type:"url",title:"",url:"",jacketCover:{localUrl:""}}),jacketCoverImgSrc:Immutable.Map({localUrl:""}),listHasUnsavedChanges:!0,savingDraft:!1,publishing:!1,failedToSave:!1,editingAnchorBib:!1,jacketCoverButtonActive:this.listShouldDisplayJacketCoverButton(),jacketCoverButtonState:JACKET_COVER_BUTTON_READY,addToListOpen:!1,showAddToList:!0,messages:Immutable.List(),adminListTypes:Immutable.List(this.props.adminListTypes),listTypes:Immutable.List(this.props.listTypes),selectableListTypes:Immutable.List(this.props.selectableListTypes),listScopes:Immutable.Map(this.props.listScopes),listLanguages:Immutable.Map(this.props.listLanguages),listLocales:Immutable.Map(this.props.listLocales),listNameExamples:Immutable.List(this.props.listNameExamples),addItemsToTop:this.props.addItemsToTop,shouldAutosaveAgain:!1,showPublishOverlay:!1},this.handleListPropertyChange=this.handleListPropertyChange.bind(this),this.handleSearchParameterChange=this.handleSearchParameterChange.bind(this),this.handleItemPropertyChange=this.handleItemPropertyChange.bind(this),this.getNextPageSearchResults=this.getNextPageSearchResults.bind(this),this.saveList=this.saveList.bind(this),this.handleSearch=this.handleSearch.bind(this),this.handleAddBib=this.handleAddBib.bind(this),this.handleAddWebItem=this.handleAddWebItem.bind(this),this.handleRemoveItem=this.handleRemoveItem.bind(this),this.handleClearSearchResults=this.handleClearSearchResults.bind(this),this.handleEditAnchorBib=this.handleEditAnchorBib.bind(this),this.handleWebItemPropertyChange=this.handleWebItemPropertyChange.bind(this),this.handleItemDragged=this.handleItemDragged.bind(this),this.handleAnchorBibSelected=this.handleAnchorBibSelected.bind(this),this.handleBackButtonClick=this.handleBackButtonClick.bind(this),this.handleOpenAddToList=this.handleOpenAddToList.bind(this),this.handleCloseAddToList=this.handleCloseAddToList.bind(this),this.handleAddItemsToTopChange=this.handleAddItemsToTopChange.bind(this),this.updateWebItemPreview=this.updateWebItemPreview.bind(this),this.getJacketCoverImgSrc=this.getJacketCoverImgSrc.bind(this),this.handleGenerateCover=this.handleGenerateCover.bind(this),this.getListData=this.getListData.bind(this),this.getItemData=this.getItemData.bind(this),this.listWasCreated=this.listWasCreated.bind(this),this.getClearSearchResultStateChanges=this.getClearSearchResultStateChanges.bind(this),this.listShouldDisplayJacketCoverButton=this.listShouldDisplayJacketCoverButton.bind(this),this.processMessages=this.processMessages.bind(this),this.popMessages=this.popMessages.bind(this),this.onSubmitSuccess=this.onSubmitSuccess.bind(this),this.onSubmitError=this.onSubmitError.bind(this),this.pollForListJacketCover=this.pollForListJacketCover.bind(this),this.handleListTypeClicked=this.handleListTypeClicked.bind(this),this.fetchSearchResults=this.fetchSearchResults.bind(this),this.addDetailsToBibs=this.addDetailsToBibs.bind(this),this.getDetailsForBibs=this.getDetailsForBibs.bind(this),this.getDigitalAvailability=this.getDigitalAvailability.bind(this),this.getListItemsWithAddedItem=this.getListItemsWithAddedItem.bind(this),this.handleAddItemsMoved=this.handleAddItemsMoved.bind(this),this.moveItem=this.moveItem.bind(this),this.handleItemMovedUp=this.handleItemMovedUp.bind(this),this.handleItemMovedDown=this.handleItemMovedDown.bind(this),this.handlePublish=this.handlePublish.bind(this),this.triggerAutosave=_.debounce(this.triggerAutosave.bind(this),AUTOSAVE_DEBOUNCE_TIME),this.triggerAutosaveAgainIfNeeded=this.triggerAutosaveAgainIfNeeded.bind(this),this.handlePublishOverlayClose=this.handlePublishOverlayClose.bind(this),this.handlePublishOverlayOpen=this.handlePublishOverlayOpen.bind(this),this.handleWebURLSelected=this.handleWebURLSelected.bind(this),this.availabilityDetailActions={getDigitalAvailability:this.getDigitalAvailability}}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.setState({jacketCoverImgSrc:this.getJacketCoverImgSrc()}),1==this.props.pollForJacketCover&&this.pollForListJacketCover()}},{key:"processMessages",value:function(t){var e=this;t.messages&&t.messages.length>0&&!function(){var n=_.map(t.messages,function(t){return Immutable.Map({type:t.type,key:t.key})});e.setState({messages:e.state.messages.concat(Immutable.List(n))}),setTimeout(function(){return e.popMessages(n.length)},3e3)}()}},{key:"popMessages",value:function(t){var e=this.state.messages;_.times(t,function(){return e=e.pop()}),this.setState({messages:e})}},{key:"handleEditAnchorBib",value:function(){var t=this;this.setState({list:this.state.list.set("editAnchorBib",!0),searchParams:this.state.searchParams.set("query",this.state.list.getIn(["anchorBib","title"])),searchResults:Immutable.List(),listHasUnsavedChanges:!0,editingAnchorBib:!0},function(){t.handleSearch()})}},{key:"handleListPropertyChange",value:function(t,e){var n=this,i=this.state.list,r={list:i.mergeDeep(t),jacketCoverButtonActive:this.listWasCreated(),listHasUnsavedChanges:!0};"read_a_like"===t.get("listType")&&(r.editingAnchorBib=!0),this.setState(r,function(){n.triggerAutosave(),e&&e()})}},{key:"handleListTypeClicked",value:function(t){this.handleListPropertyChange(t,function(){$(document).scrollTop($(".cp-list-form").offset().top)})}},{key:"handleSearchParameterChange",value:function(t){var e=this.state.searchParams,n={searchParams:e.merge(t)};""===t.get("query")&&(n=_extends({},n,this.getClearSearchResultStateChanges())),this.setState(n)}},{key:"handleItemPropertyChange",value:function(t,n){var i=this.state.listItems,r=e.getItemIndexInList(i,t),o=i.get(r).mergeDeep(n);this.setState({listItems:i.set(r,o),listHasUnsavedChanges:!0},this.triggerAutosave)}},{key:"handleWebItemPropertyChange",value:function(t){var e=this.state.webItem;t.has("url")&&(e=e.mergeDeep(Immutable.fromJS({jacketCover:{localUrl:""},invalidURL:!1,validated:!1,title:"",annotation:"",fieldsAutoPopulated:!1,validating:!1}))),this.setState({webItem:e.mergeDeep(t)})}},{key:"handleWebURLSelected",value:function(){if(!this.state.webItem.getIn(["jacketCover","localUrl"])){var t=this.state.webItem.get("url");this.updateWebItemPreview(t)}}},{key:"handleAnchorBibSelected",value:function(t){var e=this.state.list,n=t.get("bibListItem").set("jacketCover",t.get("jacketCover"));this.setState(_extends({list:e.merge(Immutable.Map({anchorBib:n,name:n.get("title")})),listHasUnsavedChanges:!0,editingAnchorBib:!1},this.getClearSearchResultStateChanges()),this.triggerAutosave)}},{key:"handleBackButtonClick",value:function(){window.location.href="/lists/show/me"}},{key:"handleOpenAddToList",value:function(){var t=this;this.setState({addToListOpen:!0},function(){e.scrollToAddToList(),t._userListForm&&t._userListForm.focusOnAddToList()})}},{key:"handleCloseAddToList",value:function(){this.setState(_extends({},this.getClearSearchResultStateChanges(),{addToListOpen:!1}))}},{key:"listWasCreated",value:function(){return!!this.state.list.get("id")}},{key:"listShouldDisplayJacketCoverButton",value:function(){return!!this.props.list.id&&"other"===this.props.list.type}},{key:"updateWebItemPreview",value:function(t){var e=this;this.setState({webItem:this.state.webItem.mergeDeep(Immutable.fromJS({validating:!0}))}),$.ajax({url:"/user_lists/web_resource_preview/",method:"get",show_spinner:!1,inline_messaging:!0,data:{url:t}}).then(function(t){t.url===e.state.webItem.get("url")&&(e.processMessages(t),e.setState({webItem:e.state.webItem.mergeDeep(Immutable.fromJS({invalidURL:!!t.invalidURL,validating:!1,validated:!0,jacketCover:{localUrl:t.previewURL}}))}))}),$.ajax({url:"/user_lists/web_resource_autopopulate/",method:"get",show_spinner:!1,inline_messaging:!0,data:{url:t}}).then(function(t){if(t.url===e.state.webItem.get("url")){e.processMessages(t);var n=e.state.webItem.set("fieldsAutoPopulated",!0);e.state.webItem.title||(n=n.set("title",t.title)),e.state.webItem.annotation||(n=n.set("annotation",t.description)),e.setState({webItem:n})}})}},{key:"handleClearSearchResults",value:function(){this.setState(this.getClearSearchResultStateChanges())}},{key:"getClearSearchResultStateChanges",value:function(){return{searchResults:Immutable.List(),searchParams:this.state.searchParams.merge(Immutable.Map({noResultsFound:!1,query:"",totalResults:0}))}}},{key:"triggerAutosave",value:function(){if(this.state.savingDraft)return void this.setState({shouldAutosaveAgain:!0});var t={listHasUnsavedChanges:!1,savingDraft:!0};this.setState(t),this.saveList(this.getListData(),!1).then(this.triggerAutosaveAgainIfNeeded)}},{key:"triggerAutosaveAgainIfNeeded",value:function(){this.state.shouldAutosaveAgain&&this.setState({shouldAutosaveAgain:!1},this.triggerAutosave)}},{key:"handlePublish",value:function(t){var e={listHasUnsavedChanges:!1,publishing:!0};this.setState(e);var n=this.getListData();n.visibility=t.visibility,t.intendedLocale&&(n.intendedLocale=t.intendedLocale),t.agencyScope&&(n.agencyScope=t.agencyScope),this.saveList(n,!0)}},{key:"saveList",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];window.dont_spin=!0;var n=null;return n=e?"/user_lists/publish/"+this.state.list.get("id"):this.listWasCreated()?"/user_lists/update/"+this.state.list.get("id"):"/user_lists/create",$.ajax({url:n,method:"post",dataType:"json",contentType:"application/json",show_spinner:!1,inline_messaging:!0,data:JSON.stringify({list:t,editor_preferences:{add_items_to_top:this.state.addItemsToTop}})}).then(this.onSubmitSuccess,this.onSubmitError)}},{key:"onSubmitSuccess",value:function(t){var e={savingDraft:!1,failedToSave:!1};t.success&&t.logged_in?(e.list=this.state.list.set("id",t.list.id),!this.state.list.get("id")&&e.list.get("id")&&window.history.pushState({},"","/user_lists/edit/"+e.list.get("id"))):(e.listHasUnsavedChanges=!0,e.publishing=!1,e.failedToSave=!0,this.processMessages(t)),this.setState(e,this.pollForListJacketCover)}},{key:"onSubmitError",value:function(t){this.processMessages(t),this.setState({savingDraft:!1,publishing:!1})}},{key:"pollForListJacketCover",value:function(){var t=this,e=0,n=3e3,i=3,r=window.setInterval(function(){t.setState({jacketCoverImgSrc:t.getJacketCoverImgSrc(!1)}),++e==i&&clearInterval(r)},n)}},{key:"handleGenerateCover",value:function(){var t=this;this.setState({jacketCoverButtonState:JACKET_COVER_BUTTON_SENDING}),$.ajax({url:"/user_lists/generate_cover/"+this.state.list.get("id"),method:"PUT",dataType:"JSON",contentType:"application/json",show_spinner:!1,inline_messaging:!0,data:this.getListData()}).then(function(e){t.processMessages(e),t.setState(e.success?{jacketCoverButtonState:JACKET_COVER_BUTTON_SENT}:{jacketCoverImgSrc:t.getJacketCoverImgSrc(!1),jacketCoverButtonState:JACKET_COVER_BUTTON_READY})})}},{key:"getListData",value:function(){var t={id:this.state.list.get("id"),name:this.state.list.get("name"),owner:this.state.list.get("owner"),listType:this.state.list.get("listType"),itemCount:this.state.list.get("itemCount"),description:this.state.list.get("description"),language:this.state.list.get("language"),agencyScope:this.state.list.get("agencyScope"),purpose:this.state.list.get("type"),isPrivate:this.state.list.get("isPrivate"),isRanked:this.state.list.get("isRanked"),isDraft:this.state.list.get("isDraft"),intendedLocale:this.state.list.get("intendedLocale"),visibility:this.state.list.get("visibility"),items:this.getItemData()};return this.state.list.get("publishedListId")&&(t.publishedListId=this.state.list.get("publishedListId")),this.state.list.get("anchorBib")&&(t.anchorBib=this.state.list.get("anchorBib").toJS(),t.name=this.state.list.getIn(["anchorBib","title"])),t}},{key:"getItemData",value:function(){return this.state.listItems.toJS()}},{key:"handleSearch",value:function(t){var e=this;t&&t.preventDefault(),this.state.searchParams.get("query")&&(this.handleSearchParameterChange(Immutable.Map({lastExecutedQuery:this.state.searchParams.get("query"),searching:!0})),this.fetchSearchResults(this.state.searchParams.set("page",1)).then(function(t){e.setState({searchResults:t.bibs,searchParams:e.state.searchParams.merge(Immutable.Map({page:1,noResultsFound:0===t.bibs.size,searching:!1,totalResults:t.total_count}))})}))}},{key:"getNextPageSearchResults",value:function(){var t=this,e=this.state.searchParams,n=(this.state.searchResults,e.get("page")+1);this.handleSearchParameterChange(Immutable.Map({fetchingNextPage:!0})),this.fetchSearchResults(e.set("page",n)).then(function(e){t.setState({searchResults:t.state.searchResults.concat(e.bibs),searchParams:t.state.searchParams.merge(Immutable.Map({page:n,fetchingNextPage:!1,totalResults:e.total_count}))})})}},{key:"fetchSearchResults",value:function(t){var e=this,n=$.Deferred(),i=$.ajax({url:"/user_lists/search.json",show_spinner:!1,inline_messaging:!0,data:{q:t.get("query"),t:t.get("type"),f:t.get("format"),page:t.get("page"),display_quantity:SEARCH_RESULTS_PAGE_SIZE}}),r=i.then(function(t){return e.processMessages(t),e.addDetailsToBibs(Immutable.fromJS(t.bibs))});return $.when(i,r).then(function(t,e){var i=t[0];i.bibs=e,n.resolve(i)}).fail(function(){i.then(function(t){t.bibs=Immutable.fromJS(t.bibs),n.resolve(t)})}),n}},{key:"getListItemsWithAddedItem",value:function(t){var e=this.state.listItems,n=this.state.addItemsToTop;return n?e.unshift(t):e.push(t)}},{key:"handleAddBib",value:function(t){var n=this;if(-1!==e.getItemIndexInList(this.state.listItems,t))return!1;var i={listItems:this.getListItemsWithAddedItem(t),listHasUnsavedChanges:!0};this.props.keepSearchResultsOpen||(i=_extends({},i,this.getClearSearchResultStateChanges(),{listHasUnsavedChanges:!0,addToListOpen:!1})),this.setState(i,function(){n.triggerAutosave()})}},{key:"handleAddWebItem",value:function(){var t=this.state.webItem,e=Immutable.fromJS({type:"url",urlListItem:{url:{title:t.get("title"),url:t.get("url")}},annotation:t.get("annotation"),format:"website",jacketCover:{localUrl:t.getIn(["jacketCover","localUrl"])}});this.setState(_extends({},this.getClearSearchResultStateChanges(),{listItems:this.getListItemsWithAddedItem(e),listHasUnsavedChanges:!0,addToListOpen:!1,webItem:Immutable.fromJS({type:"url",title:"",url:"",jacketCover:{localUrl:""}})}),this.triggerAutosave)}},{key:"handleRemoveItem",value:function(t){var n=e.getItemIndexInList(this.state.listItems,t);this.setState({listItems:this.state.listItems.remove(n),listHasUnsavedChanges:!0},this.triggerAutosave)}},{key:"handleItemDragged",value:function(t,n){var i=this.state.listItems,r=e.getItemIndexInList(i,t.item),o=e.getItemIndexInList(i,n.item),a=i.get(r);this.setState({listItems:i.remove(r).insert(o,a),listHasUnsavedChanges:!0},this.triggerAutosave)}},{key:"handleAddItemsToTopChange",value:function(t){this.setState({addItemsToTop:t,listHasUnsavedChanges:!0,showAddToList:!(this.state.listItems.size>0)},this.triggerAutosave)}},{key:"handleAddItemsMoved",value:function(){this.setState({showAddToList:!0},function(){setTimeout(function(){return e.scrollToAddToList()},0)})}},{key:"moveItem",value:function(t,n){var i=this.state.listItems,r=e.getItemIndexInList(i,t),o=r+n;o>=0&&o<=i.size&&this.setState({listItems:i.remove(r).insert(o,t),listHasUnsavedChanges:!0},this.triggerAutosave)}},{key:"handleItemMovedUp",value:function(t){this.moveItem(t,-1)}},{key:"handleItemMovedDown",value:function(t){this.moveItem(t,1)}},{key:"handlePublishOverlayOpen",value:function(){this.setState({showPublishOverlay:!0})}},{key:"handlePublishOverlayClose",value:function(){this.setState({showPublishOverlay:!1})}},{key:"getJacketCoverImgSrc",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=this.state.list.get("id"),n=(this.props.environment,"");if(!t){var i=1e5*Math.random();n="?dummy="+i}return Immutable.Map({localUrl:""+this.props.listJacketCoverBaseUrl+e+".png"+n})}},{key:"addDetailsToBibs",value:function(t){if(t.isEmpty())return $.Deferred().resolve(t);var n=e.getBibItemMetadataIds(t);return this.getDetailsForBibs(n).then(function(i){var r=Immutable.fromJS(i.entities.bibs),o=t;return n.forEach(function(t){var n=r.get(t);if(n){var i=e.getBibItemIndexByMetadataId(o,t),a=e.updateBibWithDetails(o.get(i),n);o=o.set(i,a)}}),o})}},{key:"getDetailsForBibs",value:function(t){return APIGatewayUtils.request("libraries/"+this.props.subdomain+"/bibs/",{metadataIds:t.toJS()},{show_spinner:!1})}},{key:"getAvailabilityForBib",value:function(t){var e=this;return APIGatewayUtils.request("libraries/"+this.props.subdomain+"/availability/"+t,{},{show_spinner:!1}).then(function(n){return e.processMessages(n),Immutable.fromJS(n.entities.bibs[t].availability)})}},{key:"getDigitalAvailability",value:function(t){var n=this;this.getAvailabilityForBib(t).then(function(i){var r=e.getBibItemIndexByMetadataId(n.state.searchResults,t);if(-1!==r&&i){var o=n.state.searchResults.get(r).setIn(["bibListItem","availability"],i);n.setState({searchResults:n.state.searchResults.set(r,o)})}})}},{key:"render",value:function(){var t=this;return React.createElement(IntlWrapper["default"],{messages:this.props.localizations},React.createElement(UserListModule.ListForm,{ref:function(e){return t._userListForm=e},adminListTypes:this.state.adminListTypes,listTypes:this.state.listTypes,selectableListTypes:this.state.selectableListTypes,listScopes:this.state.listScopes,listLanguages:this.state.listLanguages,listLocales:this.state.listLocales,list:this.state.list,listItems:this.state.listItems,searchResults:this.state.searchResults,searchParams:this.state.searchParams,webItem:this.state.webItem,handleEditAnchorBib:this.handleEditAnchorBib,handleListPropertyChange:this.handleListPropertyChange,handleSearchParameterChange:this.handleSearchParameterChange,handleFormSubmit:this.handlePublish,handleSearch:this.handleSearch,handleAddBib:this.handleAddBib,handleAddWebItem:this.handleAddWebItem,handleRemoveItem:this.handleRemoveItem,handleAnchorBibSelected:this.handleAnchorBibSelected,handleItemPropertyChange:this.handleItemPropertyChange,handleBackButtonClick:this.handleBackButtonClick,handleOpenAddToList:this.handleOpenAddToList,handleCloseAddToList:this.handleCloseAddToList,handleAddItemsToTopChange:this.handleAddItemsToTopChange,getNextPageSearchResults:this.getNextPageSearchResults,handleClearSearch:this.handleClearSearchResults,handleWebItemPropertyChange:this.handleWebItemPropertyChange,handleListTypeClicked:this.handleListTypeClicked,handleItemDragged:this.handleItemDragged,handleGenerateJacketCover:this.handleGenerateCover,handleAddItemsMoved:this.handleAddItemsMoved,handleItemMovedUp:this.handleItemMovedUp,handleItemMovedDown:this.handleItemMovedDown,handleWebURLSelected:this.handleWebURLSelected,getOffsetForStickyToolbar:e.getOffsetForStickyToolbar,jacketCoverImgSrc:this.state.jacketCoverImgSrc,jacketCoverButtonState:this.state.jacketCoverButtonState,jacketCoverButtonActive:this.state.jacketCoverButtonActive,listHasUnsavedChanges:this.state.listHasUnsavedChanges,editingAnchorBib:this.state.editingAnchorBib,savingDraft:this.state.savingDraft,publishing:this.state.publishing,failedToSave:this.state.failedToSave,listPreviewURL:this.props.listPreviewURL,addToListOpen:this.state.addToListOpen,showAddToList:this.state.showAddToList,messages:this.state.messages,allowFreeText:this.props.allowFreeText,listNameExamples:this.state.listNameExamples,keepSearchResultsOpen:this.props.keepSearchResultsOpen,availabilityDetailActions:this.availabilityDetailActions,addItemsToTop:this.state.addItemsToTop,showPublishOverlay:this.state.showPublishOverlay,handlePublishOverlayOpen:this.handlePublishOverlayOpen,handlePublishOverlayClose:this.handlePublishOverlayClose}))}}],[{key:"getBibItemMetadataIds",value:function(t){return t.map(function(t){return t.getIn(["bibListItem","id"])}).toIndexedSeq()}},{key:"getBibItemIndexByMetadataId",value:function(t,e){return t.findIndex(function(t){return t.getIn(["bibListItem","id"])===e})}},{key:"getItemIndexInList",value:function(t,e){var n=e.get("type"),i="url"===n?["urlListItem","url","url"]:["bibListItem","id"];return t.findIndex(function(t){return n!==t.get("type")?!1:e.getIn(i)===t.getIn(i)})}},{key:"updateBibWithDetails",value:function(t,e){return t.setIn(["bibListItem","superFormats"],e.getIn(["briefInfo","superFormats"])).setIn(["bibListItem","availability"],e.get("availability")).setIn(["bibListItem","policy"],e.get("policy"))
}},{key:"getOffsetForStickyToolbar",value:function(){return"function"==typeof $.bccmsHeaderJSAPI?$.bccmsHeaderJSAPI("getHeight"):"function"==typeof BCHeaderPublic?BCHeaderPublic("getHeight"):0}},{key:"scrollToAddToList",value:function(){var t=$(".toolbar-contents-wrapper").height();$(document).scrollTop($(".add-to-list-form").offset().top-t-60)}}]),e}(React.Component);UserListFormContainer.defaultProps={pollForJacketCover:!1},UserListFormContainer.propTypes={list:PropTypes.object.isRequired,adminListTypes:PropTypes.arrayOf(PropTypes.string),listItems:PropTypes.array.isRequired,useNewEditor:PropTypes.bool,listTypes:PropTypes.array.isRequired,selectableListTypes:PropTypes.array.isRequired,listScopes:PropTypes.object.isRequired,listLanguages:PropTypes.object.isRequired,listLocales:PropTypes.object.isRequired,localizations:PropTypes.object.isRequired,allowFreeText:PropTypes.bool.isRequired,listJacketCoverBaseUrl:PropTypes.string,pollForJacketCover:PropTypes.bool,environment:PropTypes.string,listPreviewURL:PropTypes.string,listNameExamples:PropTypes.arrayOf(PropTypes.string),keepSearchResultsOpen:PropTypes.bool,addItemsToTop:React.PropTypes.bool,subdomain:PropTypes.string.isRequired},UserListJacketCoverContainer.propTypes={listType:React.PropTypes.string,jacketCoverSrc:React.PropTypes.string,anchorBibJacketCover:React.PropTypes.shape({localUrl:React.PropTypes.string,largeCover:React.PropTypes.string}),localizations:React.PropTypes.objectOf(React.PropTypes.string)};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},UserListStatusBannerContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={open:!0},this.handleClose=this.handleClose.bind(this)}return _inherits(e,t),_createClass(e,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var t=this.props,e=t.justPublished,n=t.hasDraft,i=t.list,r=t.locales,o=t.publishedURL,a=t.editURL,s=t.localizations;return React.createElement(IntlWrapper["default"],{messages:s},React.createElement(UserListModule.StatusBanner,{justPublished:e,hasDraft:n,list:Immutable.fromJS(i),locales:Immutable.fromJS(r),open:this.state.open,handleClose:this.handleClose,publishedURL:o,editURL:a}))}}]),e}(React.Component);UserListStatusBannerContainer.propTypes={localizations:React.PropTypes.objectOf(React.PropTypes.string),justPublished:React.PropTypes.bool,hasDraft:React.PropTypes.bool,list:React.PropTypes.object,publishedURL:React.PropTypes.string,editURL:React.PropTypes.string,locales:React.PropTypes.objectOf(React.PropTypes.string)};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},UserListVisibilityLabelContainer=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t=this.props,e=t.localizations,n=t.visibility,i=t.locale,r=t.locales;return React.createElement(IntlWrapper["default"],{messages:e},React.createElement(UserListModule.VisibilityLabel,{visibility:n,locale:i,possibleLocales:Immutable.fromJS(r)}))}}]),e}(React.Component);UserListVisibilityLabelContainer.propTypes={localizations:React.PropTypes.objectOf(React.PropTypes.string),visibility:React.PropTypes.string,locale:React.PropTypes.string,locales:React.PropTypes.objectOf(React.PropTypes.string)};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},UserPrivacySettingsToggleContainer=function(t){function e(t){var n=this;_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={privacy:!0,userIsOwner:t.userIsOwner};var i=["togglePrivacyHandler","readPrivacyHandler","updatePrivacy"];i.forEach(function(t){return n[t]=n[t].bind(n)})}return _inherits(e,t),_createClass(e,[{key:"togglePrivacyHandler",value:function(){var t=this;return $.ajax({url:"/user/"+this.props.userId+"/privacy_settings/"+this.props.privacyType,method:"POST",dataType:"JSON",data:{value:!this.state.privacy},showSpinner:!1,success:function(e){t.updatePrivacy(e)}}),!1}},{key:"readPrivacyHandler",value:function(){var t=this;return $.ajax({url:"/user/"+this.props.userId+"/privacy_settings/"+this.props.privacyType,method:"GET",dataType:"json",showSpinner:!1,success:function(e){t.updatePrivacy(e)}}),!1}},{key:"updatePrivacy",value:function(t){var e=t.privacy_setting?t.privacy_setting.setting:!1;this.setState({privacy:e})}},{key:"render",value:function(){{var t=this.props,e=(t.userId,t.toggleName);t.toggleClass,t.privacyType}return React.createElement(IntlWrapper["default"],{messages:this.props.localizations},React.createElement(UserPrivacySettingsToggleModule["default"],{toggleName:e,privacyValue:this.state.privacy,readPrivacyHandler:this.readPrivacyHandler,togglePrivacyHandler:this.togglePrivacyHandler}))}}]),e}(React.Component);UserPrivacySettingsToggleContainer.propTypes={readPrivacyHandler:React.PropTypes.func,togglePrivacyHandler:React.PropTypes.func,toggleName:React.PropTypes.string,toggleClass:React.PropTypes.string,privacyType:React.PropTypes.string,privacyValue:React.PropTypes.bool,userId:React.PropTypes.string};var APIGatewayUtils=function(){return{request:function(t,e,n){return $.ajax($.extend({url:"//gateway.bibliocommons.com/v2/"+t,method:"GET",dataType:"JSON",contentType:"application/json",data:e,xhrFields:{withCredentials:!0}},n))}}}(),NERFRecoveryUtil=function(){var t=5,e=0,n=function(n,i,r){e>t||(r&&(i+=1,ReactEventsUtil.dispatch("recovery.attempt",{type:n,tries:i})),$.ajax({url:"/recover_nerf",show_spinner:!1,type:"GET"}).done(function(){e+=1,ReactEventsUtil.dispatch("recovery.success")}).fail(function(){ReactEventsUtil.dispatch("recovery.failed"),4>i&&r&&setTimeout(NERFRecoveryUtil.recover.bind(null,n,i,!0),1e3*Math.pow(10,i))}))};return{recover:n}}(),ReactEventsUtil=function(){var t={register:function(t,e){$(window).on("react."+t,e)},unregister:function(t){$(window).off("react."+t)},dispatch:function(t,e){$(window).trigger("react."+t,e)}};return t}(),ReactStorageUtils=function(t){var e="react.",n={local:void 0,session:void 0},i=function(e){if(void 0!==n[e])return n[e];try{var i=t[e+"Storage"],r="__storage_test__";return i.setItem(r,r),i.removeItem(r),n[e]=!0}catch(o){return n[e]=!1}},r=function(t,e){return i(t)?e():new Error(t+"Storage is not available")},o=function(n){return function(i){return r(n,function(){var r=t[n+"Storage"].getItem(""+e+i);return r?JSON.parse(r).val:void 0})}},a=function(n){return function(i){return r(n,function(){return t[n+"Storage"].removeItem(""+e+i)})}},s=function(n){return function(i,o){return r(n,function(){return t[n+"Storage"].setItem(""+e+i,JSON.stringify({val:o}))})}};return{localGet:o("local"),localRemove:a("local"),localSet:s("local"),sessionGet:o("session"),sessionRemove:a("session"),sessionSet:s("session")}}(window),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},InlineVideoEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={fieldErrors:{},showForm:t.showForm,showPreview:t.showPreview,isActiveTab:t.isActiveTab,initialDescription:t.initialDescription,initialEmbedSnippet:t.initialEmbedSnippet,initialIFrameSrc:t.initialIFrameSrc,initialVideoTitle:t.initialVideoTitle,videoTitle:t.initialVideoTitle,description:t.initialDescription,embedSnippet:t.initialEmbedSnippet,iFrameSrc:t.initialIFrameSrc,user:t.user,userContentId:t.userContentId,fetching:t.fetching,metadataId:t.metadataId,bibId:t.bibId,isPrivate:t.isPrivate,submitting:!1,expanded:!1,deleted:!1,status:"pending"},this.handleDelete=this.handleDelete.bind(this),this.handleShowForm=this.handleShowForm.bind(this),this.handleDescriptionChange=this.handleDescriptionChange.bind(this),this.handleTitleChange=this.handleTitleChange.bind(this),this.handleEmbedSnippetChange=this.handleEmbedSnippetChange.bind(this),this.handleCancelPreview=this.handleCancelPreview.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this),this.updateVideo=this.updateVideo.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.getContent("video"),this.getIFrameSrc()}},{key:"getContent",value:function(t){var e=this;UGCActions.unstashInlineUGC(t,this.state.user.idHash,this.state.userContentId,function(t){return e.setState(t.video)})}},{key:"handleShowForm",value:function(){this.setState({showForm:!0})}},{key:"handleCancelPreview",value:function(){this.setState({iFrameSrc:null,embedSnippet:null})}},{key:"updateVideo",value:function(t){var e=t;t.data&&(e=_extends({},t,{initialVideoTitle:t.data.title,initialDescription:t.data.description,initialEmbedSnippet:t.data.url,initialIFrameSrc:t.data.url,iFrameSrc:t.data.url,description:t.data.description,videoTitle:t.data.title,embedSnippet:t.data.url})),this.setState(e)}},{key:"getIFrameSrc",value:function(){var t=this;this.state.embedSnippet&&UGCActions.checkVideoURL(this.props.domain,this.state.embedSnippet,function(e){return t.setState(e)},function(e){return t.setState(e)})}},{key:"handleEmbedSnippetChange",value:function(t){this.setState({embedSnippet:t}),this.getIFrameSrc()}},{key:"handleTitleChange",value:function(t){this.setState({videoTitle:t})}},{key:"handleDescriptionChange",value:function(t){this.setState({description:t})}},{key:"handleCancel",value:function(t){t&&t.preventDefault(),this.setState({embedSnippet:this.state.initialEmbedSnippet,videoTitle:this.state.initialVideoTitle,description:this.state.initialDescription,iFrameSrc:this.state.initialIFrameSrc,showForm:!1})}},{key:"handleDelete",value:function(t){var e=this;t&&t.preventDefault(),UGCActions.deleteUGC("video",this.refs.root,{userContentId:this.props.userContentId,domain:this.props.domain},function(t){setUgcTabCount("video","delete"),e.setState(t)},function(t){e.setState(t),e.props.permalink&&window.setTimeout(function(){window.location.href=$(".back_to").attr("href")})})}},{key:"handleSubmit",value:function(t){var e=this;t&&t.preventDefault(),UGCActions.updateUGC("video",this.props.user.idHash,{video:{iFrameSrc:this.state.iFrameSrc,title:this.state.videoTitle,description:this.state.description}},{domain:this.props.domain,userContentId:this.state.userContentId},function(t){return e.setState(t)},function(t){return e.updateVideo(t)},function(t){return e.setState(t)})}},{key:"render",value:function(){return React.createElement("div",{className:"cp-inline-video-editor-container",ref:"root"},React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement(PrivacyToggleContainer,{fieldErrors:this.state.fieldErrors,editorClass:"InlineVideoEditor",deleted:this.state.deleted,description:this.state.description,embedSnippet:this.state.embedSnippet,iFrameSrc:this.state.iFrameSrc,videoTitle:this.state.videoTitle,handleShowForm:this.handleShowForm,handleCancelPreview:this.handleCancelPreview,expanded:this.state.expanded,handleBlur:this.handleBlur,handleCancel:this.handleCancel,handleTitleChange:this.handleTitleChange,handleDescriptionChange:this.handleDescriptionChange,handleEmbedSnippetChange:this.handleEmbedSnippetChange,handleDelete:this.handleDelete,handleFocus:this.handleFocus,bibId:this.state.bibId,isPrivate:this.state.isPrivate,rating:this.state.rating,handleSubmit:this.handleSubmit,isEmpty:this.state.isEmpty,isNew:this.state.isNew,metadataId:this.state.metadataId,pending:!1,showForm:this.state.showForm,status:this.state.status,submitting:this.state.submitting,user:this.state.user})))}}]),e}(React.Component),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},PrimaryVideoEditorContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={showForm:t.showForm,bibId:t.bibId,isPrivate:!1,initialDescription:t.initialDescription,initialEmbedSnippet:t.initialEmbedSnippet,initialIFrameSrc:t.initialIFrameSrc,initialVideoTitle:t.initialVideoTitle,initializingStatus:{status:"pending"},fieldErrors:{},videoTitle:t.initialVideoTitle,description:t.initialDescription,embedSnippet:t.initialEmbedSnippet,iFrameSrc:t.initialIFrameSrc,isNew:!0,user:t.user,userContentId:null,fetching:t.fetching,metadataId:t.metadataId,submitting:!1,expanded:!1,deleted:!1,status:"pending"},this.handleShowForm=this.handleShowForm.bind(this),this.handleDescriptionChange=this.handleDescriptionChange.bind(this),this.handleTitleChange=this.handleTitleChange.bind(this),this.handleEmbedSnippetChange=this.handleEmbedSnippetChange.bind(this),this.handleCancelPreview=this.handleCancelPreview.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleLogin=this.handleLogin.bind(this),this.getVideo=this.getVideo.bind(this),this.getIFrameSrc=this.getIFrameSrc.bind(this),this.updateCounter=this.updateCounter.bind(this),this.handleNerfRecovery=this.handleNerfRecovery.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleNerfRecoveryFailure=this.handleNerfRecoveryFailure.bind(this)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.getVideo(),ReactEventsUtil.register("video.active",this.getVideo),ReactEventsUtil.register("recovery.success",this.getVideo),ReactEventsUtil.register("recovery.failed",this.handleNerfRecoveryFailure),ReactEventsUtil.register("recovery.attempt",this.updateCounter),ReactEventsUtil.register("video.deleted",this.getVideo)}},{key:"componentWillUnmount",value:function(){ReactEventsUtil.unregister("video.active"),ReactEventsUtil.unregister("video.deleted")}},{key:"getIFrameSrc",value:function(){var t=this;this.state.embedSnippet&&UGCActions.checkVideoURL(this.props.domain,this.state.embedSnippet,function(e){return t.setState(e)},function(e){return t.setState(e)})}},{key:"handleShowForm",value:function(){this.setState({showForm:!0})}},{key:"handleCancelPreview",value:function(){this.setState({iFrameSrc:null,embedSnippet:null})}},{key:"handleCancel",value:function(){this.setState({iFrameSrc:null,embedSnippet:null,title:null,description:null})}},{key:"handleLogin",value:function(t){t.preventDefault(),UGCActions.login("video")}},{key:"updateCounter",value:function(t,e){"video"===e.type&&this.setState({initializingStatus:_extends({},this.state.initializingStatus,{tries:e.tries})})}},{key:"getVideo",value:function(){var t=this;UGCActions.fetchInitialData("video",this.props.domain,this.state.metadataId,this.state.user,function(e){e.video&&(e=_extends({},e,e.video)),t.setState(e)},function(e){return t.setState(e)})}},{key:"handleNerfRecoveryFailure",value:function(){this.setState({initializingStatus:_extends({},this.state.initializingStatus,{status:"failure"})})}},{key:"handleNerfRecovery",value:function(){this.setState({initializingStatus:_extends({},this.state.initializingStatus,{status:"pending"})}),NERFRecoveryUtil.recover("video",1,!1)}},{key:"handleSubmit",value:function(t){var e=this;return t.preventDefault(),this.state.iFrameSrc&&this.state.title?void UGCActions.postUGC("video",this.props.user.idHash,{video:{iFrameSrc:this.state.iFrameSrc,title:this.state.title,description:this.state.description},userId:this.props.user.id,metadataId:this.props.metadataId},{domain:this.props.domain,bibId:this.props.bibId},function(t){setUgcTabCount("video","add"),e.setState(t)}):!1}},{key:"handleEmbedSnippetChange",value:function(t){var e=this;this.setState({embedSnippet:t},function(){e.getIFrameSrc()})}},{key:"handleTitleChange",value:function(t){this.setState({title:t})}},{key:"handleDescriptionChange",value:function(t){this.setState({description:t})}},{key:"render",value:function(){return this.props.shadowMode?null:React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement("div",{className:"cp-primary-video-editor-container"},React.createElement(PrivacyToggleContainer,{fieldErrors:this.state.fieldErrors,editorClass:"PrimaryVideoEditor",bibId:this.state.bibId,isPrivate:this.state.isPrivate,embedSnippet:this.state.embedSnippet,expanded:this.state.expanded,handleLogin:this.handleLogin,handleBlur:this.handleBlur,handleTitleChange:this.handleTitleChange,handleDescriptionChange:this.handleDescriptionChange,handleCancelPreview:this.handleCancelPreview,handleEmbedSnippetChange:this.handleEmbedSnippetChange,handleNerfRecovery:this.handleNerfRecovery,handleFocus:this.handleFocus,iFrameSrc:this.state.iFrameSrc,description:this.state.description,videoTitle:this.state.title,isNew:this.state.isNew,showForm:this.state.showForm,handleSubmit:this.handleSubmit,handleCancel:this.handleCancel,metadataId:this.props.metadataId,user:this.state.user,userContentId:this.state.userContentId,initializingStatus:this.state.initializingStatus})))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=o,n=a,i=!0,s=c=void 0}},WhileYouWaitContainer=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={zeroResults:!1,itemRecommendations:{services:{}}},this.getRecommendations=this.getRecommendations.bind(this),this.handleRecommendationClick=this.handleRecommendationClick.bind(this),this.showRecommendations=this.showRecommendations.bind(this)}return _inherits(e,t),_createClass(e,[{key:"getRecommendations",value:function(){var t=this;$.ajax({url:"/item_recommendations/"+this.props.id,dataType:"json",show_spinner:!1,type:"GET",success:function(e){BCGoogleAnalytics.sendAll("event","while-you-wait","toggled",""+t.props.id),t.setState({itemRecommendations:e.item_recommendation})}})}},{key:"recommendationActions",value:function(){return{getRecommendations:this.getRecommendations}}},{key:"handleRecommendationClick",value:function(t){BCGoogleAnalytics.sendAll("event","while-you-wait","clicked","Recommendations for "+this.props.id,t.id)}},{key:"getGridClasses",value:function(){return"small"===this.props.view?"col-xs-12":"col-xs-12 col-md-10 col-md-offset-2"}},{key:"showRecommendations",value:function(){var t=this.props,e=t.availability,n=t.format,i=["BK","GRAPHIC_NOVEL"];return"UNAVAILABLE"!==e?!1:-1===i.indexOf(n)?!1:!0}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.format,i=t.availability;return this.showRecommendations()?React.createElement(IntlWrapper["default"],{messages:this.props.messages},React.createElement("div",{className:"cp_while_you_wait_container "+this.getGridClasses()},React.createElement(RecommendationsModule["default"],{itemRecommendations:this.state.itemRecommendations,itemId:e,itemFormat:n,itemStatus:i,zeroResults:this.state.zeroResults,recommendationActions:this.recommendationActions(),handleClickRecommendation:this.handleRecommendationClick,formatsWhitelist:this.getRecommendationFormatsWhitelist()}))):null}}]),e}(React.Component);WhileYouWaitContainer.propTypes={id:React.PropTypes.string,format:React.PropTypes.string,availability:React.PropTypes.string},/*! iFrame Resizer (iframeSizer.min.js ) - v3.2.0 - 2015-09-04
 *  Desc: Force cross domain iframes to size to content.
 *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.
 *  Copyright: (c) 2015 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */
!function(t){"use strict";function e(e,n,i){"addEventListener"in t?e.addEventListener(n,i,!1):"attachEvent"in t&&e.attachEvent("on"+n,i)}function n(){var e,n=["moz","webkit","o","ms"];for(e=0;e<n.length&&!M;e+=1)M=t[n[e]+"RequestAnimationFrame"];M||a("setup","RequestAnimationFrame not supported")}function i(e){var n="Host page: "+e;return t.top!==t.self&&(n=t.parentIFrame&&t.parentIFrame.getId?t.parentIFrame.getId()+": "+e:"Nested host page: "+e),n}function r(t){return O+"["+i(t)+"]"}function o(t){return F[t]?F[t].log:I}function a(t,e){c("log",t,e,o(t))}function s(t,e){c("info",t,e,o(t))}function l(t,e){c("warn",t,e,!0)}function c(e,n,i,o){!0===o&&"object"==typeof t.console&&console[e](r(n),i)}function u(e){function n(){function t(){v(L),f(z)}r("Height"),r("Width"),_(t,L,"resetPage")}function i(){var t=N.substr($).split(":");return{iframe:F[t[0]].iframe,id:t[0],height:t[1],width:t[2],type:t[3]}}function r(t){var e=Number(F[z]["max"+t]),n=Number(F[z]["min"+t]),i=t.toLowerCase(),r=Number(L[i]);a(z,"Checking "+i+" is in range "+n+"-"+e),n>r&&(r=n,a(z,"Set "+i+" to min value")),r>e&&(r=e,a(z,"Set "+i+" to max value")),L[i]=""+r}function o(){function t(){function t(){var t=0,e=!1;for(a(z,"Checking connection is from allowed list of origins: "+i);t<i.length;t++)if(i[t]===n){e=!0;break}return e}function e(){var t=F[z].remoteHost;return a(z,"Checking connection is from: "+t),n===t}return i.constructor===Array?t():e()}var n=e.origin,i=F[z].checkOrigin;if(i&&""+n!="null"&&!t())throw new Error("Unexpected message received from: "+n+" for "+L.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function c(){return O===(""+N).substr(0,$)&&N.substr($).split(":")[0]in F}function u(){var t=L.type in{"true":1,"false":1,undefined:1};return t&&a(z,"Ignoring init message from meta parent page"),t}function w(t){return N.substr(N.indexOf(":")+j+t)}function k(t){a(z,"MessageCallback passed: {iframe: "+L.iframe.id+", message: "+t+"}"),D("messageCallback",{iframe:L.iframe,message:JSON.parse(t)}),a(z,"--")}function x(){var t=!0;return null===L.iframe&&(l(z,"IFrame ("+L.id+") not found"),t=!1),t}function S(t){var e=t.getBoundingClientRect();return p(z),{x:Math.floor(Number(e.left)+Number(R.x)),y:Math.floor(Number(e.top)+Number(R.y))}}function C(e){function n(){R=s,T(),a(z,"--")}function i(){return{x:Number(L.width)+o.x,y:Number(L.height)+o.y}}function r(){t.parentIFrame?t.parentIFrame["scrollTo"+(e?"Offset":"")](s.x,s.y):l(z,"Unable to scroll to requested position, window.parentIFrame not found")}var o=e?S(L.iframe):{x:0,y:0},s=i();a(z,"Reposition requested from iFrame (offset x:"+o.x+" y:"+o.y+")"),t.top!==t.self?r():n()}function T(){!1!==D("scrollCallback",R)?f(z):g()}function E(e){function n(){var t=S(s);a(z,"Moving to in page link (#"+r+") at x: "+t.x+" y: "+t.y),R={x:t.x,y:t.y},T(),a(z,"--")}function i(){t.parentIFrame?t.parentIFrame.moveToAnchor(r):console.log(z,"In page link #"+r+" not found and window.parentIFrame not found")}var r=e.split("#")[1]||"",o=decodeURIComponent(r),s=document.getElementById(o)||document.getElementsByName(o)[0];s?n():t.top!==t.self?i():consolelog(z,"In page link #"+r+" not found")}function D(t,e){return h(z,t,e)}function I(){switch(F[z].firstRun&&M(),L.type){case"close":d(L.iframe);break;case"message":k(w(6));break;case"scrollTo":C(!1);break;case"scrollToOffset":C(!0);break;case"inPageLink":E(w(9));break;case"reset":m(L);break;case"init":n(),D("initCallback",L.iframe),D("resizedCallback",L);break;default:n(),D("resizedCallback",L)}}function P(t){var e=!0;return F[t]||(e=!1,l(L.type+" No settings for "+t+". Message was: "+N)),e}function A(){for(var t in F)b("iFrame requested init",y(t),document.getElementById(t),t)}function M(){F[z].firstRun=!1}var N=e.data,L={},z=null;"[iFrameResizerChild]Ready"===N?A():c()?(L=i(),z=B=L.id,!u()&&P(z)&&(a(z,"Received: "+N),x()&&o()&&I())):s(z,"Ignored: "+N)}function h(t,e,n){var i=null,r=null;if(F[t]){if(i=F[t][e],"function"!=typeof i)throw new TypeError(e+" on iFrame["+t+"] is not a function");r=i(n)}return r}function d(t){var e=t.id;a(e,"Removing iFrame: "+e),t.parentNode.removeChild(t),h(e,"closedCallback",e),a(e,"--"),delete F[e]}function p(e){null===R&&(R={x:void 0!==t.pageXOffset?t.pageXOffset:document.documentElement.scrollLeft,y:void 0!==t.pageYOffset?t.pageYOffset:document.documentElement.scrollTop},a(e,"Get page position: "+R.x+","+R.y))}function f(e){null!==R&&(t.scrollTo(R.x,R.y),a(e,"Set page position: "+R.x+","+R.y),g())}function g(){R=null}function m(t){function e(){v(t),b("reset","reset",t.iframe,t.id)}a(t.id,"Size reset requested by "+("init"===t.type?"host page":"iFrame")),p(t.id),_(e,t,"reset")}function v(t){function e(e){t.iframe.style[e]=t[e]+"px",a(t.id,"IFrame ("+r+") "+e+" set to "+t[e]+"px")}function n(e){P||"0"!==t[e]||(P=!0,a(r,"Hidden iFrame detected, creating visibility listener"),S())}function i(t){e(t),n(t)}var r=t.iframe.id;F[r]&&(F[r].sizeHeight&&i("height"),F[r].sizeWidth&&i("width"))}function _(t,e,n){n!==e.type&&M?(a(e.id,"Requesting animation frame"),M(t)):t()}function b(t,e,n,i){function r(){a(i,"["+t+"] Sending msg to iframe["+i+"] ("+e+")"),n.contentWindow.postMessage(O+e,l)}function o(){s(i,"["+t+"] IFrame("+i+") not found"),F[i]&&delete F[i]}i=i||n.id;var l=F[i].targetOrigin;n&&"contentWindow"in n?r():o()}function y(t){return t+":"+F[t].bodyMarginV1+":"+F[t].sizeWidth+":"+F[t].log+":"+F[t].interval+":"+F[t].enablePublicMethods+":"+F[t].autoResize+":"+F[t].bodyMargin+":"+F[t].heightCalculationMethod+":"+F[t].bodyBackground+":"+F[t].bodyPadding+":"+F[t].tolerance+":"+F[t].inPageLinks+":"+F[t].resizeFrom+":"+F[t].widthCalculationMethod}function w(t,n){function i(){function e(e){1/0!==F[w][e]&&0!==F[w][e]&&(t.style[e]=F[w][e]+"px",a(w,"Set "+e+" = "+F[w][e]+"px"))}function n(t){if(F[w]["min"+t]>F[w]["max"+t])throw new Error("Value for min"+t+" can not be greater than max"+t)}n("Height"),n("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}function r(e){return B=e,""===e&&(t.id=e=(n.id||z.id)+D++,I=(n||{}).log,B=e,a(e,"Added missing iframe ID: "+e+" ("+t.src+")")),e}function o(){a(w,"IFrame scrolling "+(F[w].scrolling?"enabled":"disabled")+" for "+w),t.style.overflow=!1===F[w].scrolling?"hidden":"auto",t.scrolling=!1===F[w].scrolling?"no":"yes"}function s(){("number"==typeof F[w].bodyMargin||"0"===F[w].bodyMargin)&&(F[w].bodyMarginV1=F[w].bodyMargin,F[w].bodyMargin=""+F[w].bodyMargin+"px")}function c(){var e=F[w].firstRun,n=F[w].heightCalculationMethod in N;!e&&n&&m({iframe:t,height:0,width:0,type:"init"})}function u(){Function.prototype.bind&&(F[w].iframe.iFrameResizer={close:d.bind(null,F[w].iframe),resize:b.bind(null,"Window resize","resize",F[w].iframe),moveToAnchor:function(t){b("Move to anchor","inPageLink:"+t,F[w].iframe,w)},sendMessage:function(t){t=JSON.stringify(t),b("Send Message","message:"+t,F[w].iframe,w)}})}function h(n){function i(){b("iFrame.onload",n,t),c()}e(t,"load",i),b("init",n,t)}function p(t){if("object"!=typeof t)throw new TypeError("Options is not an object")}function f(t){for(var e in z)z.hasOwnProperty(e)&&(F[w][e]=t.hasOwnProperty(e)?t[e]:z[e])}function g(t){return""===t||"file://"===t?"*":t}function v(e){e=e||{},F[w]={firstRun:!0,iframe:t,remoteHost:t.src.split("/").slice(0,3).join("/")},p(e),f(e),F[w].targetOrigin=!0===F[w].checkOrigin?g(F[w].remoteHost):"*"}function _(){return w in F&&"iFrameResizer"in t}var w=r(t.id);_()?l(w,"Ignored iFrame, already setup."):(v(n),o(),i(),s(),h(y(w)),u())}function k(t,e){null===L&&(L=setTimeout(function(){L=null,t()},e))}function x(t){return null!==t.offsetParent}function S(){function e(){function t(t){function e(e){return"0px"===F[t].iframe.style[e]}x(F[t].iframe)&&(e("height")||e("width"))&&b("Visibility change","resize",F[t].iframe,t)}for(var e in F)t(e)}function n(t){a("window","Mutation observed: "+t[0].target+" "+t[0].type),k(e,16)}function i(){var t=document.querySelector("body"),e={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},i=new r(n);i.observe(t,e)}var r=t.MutationObserver||t.WebKitMutationObserver;r&&i()}function C(){function n(t){function e(){r("Window "+t,"resize")}a("window","Trigger event: "+t),k(e,16)}function i(){function t(){r("Tab Visable","resize")}"hidden"!==document.visibilityState&&(a("document","Trigger event: Visiblity change"),k(t,16))}function r(t,e){function n(t){return"parent"===F[t].resizeFrom&&F[t].autoResize&&!F[t].firstRun}for(var i in F)n(i)&&b(t,e,document.getElementById(i),i)}e(t,"message",u),e(t,"resize",function(){n("resize")}),e(document,"visibilitychange",i),e(document,"-webkit-visibilitychange",i),e(t,"focusin",function(){n("focus")}),e(t,"focus",function(){n("focus")})}function T(){function t(t,n){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">");w(n,t),e.push(n)}var e;return n(),C(),function(n,i){switch(e=[],typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),t.bind(void 0,n));break;case"object":t(n,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return e}}function E(t){t.fn.iFrameResize=function(t){return this.filter("iframe").each(function(e,n){w(n,t)}).end()}}var D=0,I=!1,P=!1,A="message",j=A.length,O="[iFrameSizer]",$=O.length,R=null,M=t.requestAnimationFrame,N={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},F={},L=null,B="Host Page",z={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){l("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};t.jQuery&&E(jQuery),"function"==typeof define&&define.amd?define([],T):"object"==typeof module&&"object"==typeof module.exports?module.exports=T():t.iFrameResize=t.iFrameResize||T()}(window||{}),function(t,e){"use strict";var n=function(){this.$iframe=t("#react_iframe"),this.iframeWin=t("#react_iframe")[0].contentWindow,this.$legacySearchForm=t("#globalSearch"),this.$desktopSearchForm=t.datajs("desktop_search_form"),this.$mobileSearchForm=t.datajs("mobile_search_form"),this.$allForms=this.$legacySearchForm.add(this.$desktopSearchForm).add(this.$mobileSearchForm),this.$desktopSearchBox=this.$desktopSearchForm.datajs("main_search_input"),this.$mobileSearchBox=this.$mobileSearchForm.datajs("main_search_input"),this.$allForms.unbind("submit"),this.$allForms.on("submit",this.handleSearchQuery.bind(this)),t(e).on("load",this.postMessage.bind(this)),this.$iframe.iFrameResize()};t.extend(n.prototype,{currentSearchValue:function(){var t=BCViewport.matchAny("xs")?this.$mobileSearchBox:this.$desktopSearchBox;return t.val()},handleSearchQuery:function(t){t.preventDefault(),t.stopPropagation();var e=this.currentSearchValue();this.$mobileSearchBox.val(e),this.$desktopSearchBox.val(e),this.updateHistory(e),this.postMessage()},baseUrl:function(){return e.location.protocol+"//"+e.location.host},updateHistory:function(t){if(e.history){var n=e.location.href,i=new RegExp("&?q=[^&]*","gi"),r=i.exec(n),o=n.replace(r[0],"&q="+t);history.pushState({},document.title,o)}},nerfUrl:function(){return this.baseUrl()+"/nerf"},postMessage:function(){this.iframeWin.postMessage({type:"rails-search",value:this.currentSearchValue()},this.nerfUrl())}});var i=function(e,i){return"object"==typeof e&&(i=e),this.each(function(){var r=t(this),o=r.data("bc.frbr_search"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bc.frbr_search",o=new n(this,a)),"string"==typeof e&&o[e](i)})};t.fn.cp_frbr_search=i,t.fn.cp_frbr_search.Constructor=n,t(function(){t.datajs("frbr_search").cp_frbr_search()})}(jQuery,this);